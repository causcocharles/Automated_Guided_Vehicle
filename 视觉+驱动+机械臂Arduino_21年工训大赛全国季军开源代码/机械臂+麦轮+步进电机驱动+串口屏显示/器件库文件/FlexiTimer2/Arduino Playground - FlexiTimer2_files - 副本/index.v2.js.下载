var arduinoHF=function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=function(e){return e&&e.Math==Math&&e},i=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")(),o=function(e){try{return!!e()}catch(e){return!0}},a=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),s={}.propertyIsEnumerable,c=Object.getOwnPropertyDescriptor,u={f:c&&!s.call({1:2},1)?function(e){var t=c(this,e);return!!t&&t.enumerable}:s},l=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},d={}.toString,h=function(e){return d.call(e).slice(8,-1)},f="".split,p=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==h(e)?f.call(e,""):Object(e)}:Object,g=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},m=function(e){return p(g(e))},v=function(e){return"object"==typeof e?null!==e:"function"==typeof e},y=function(e,t){if(!v(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!v(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!v(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!v(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},b={}.hasOwnProperty,I=function(e,t){return b.call(e,t)},w=i.document,S=v(w)&&v(w.createElement),C=function(e){return S?w.createElement(e):{}},B=!a&&!o((function(){return 7!=Object.defineProperty(C("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,F={f:a?x:function(e,t){if(e=m(e),t=y(t,!0),B)try{return x(e,t)}catch(e){}if(I(e,t))return l(!u.f.call(e,t),e[t])}},R=function(e){if(!v(e))throw TypeError(String(e)+" is not an object");return e},L=Object.defineProperty,A={f:a?L:function(e,t,n){if(R(e),t=y(t,!0),R(n),B)try{return L(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},U=a?function(e,t,n){return A.f(e,t,l(1,n))}:function(e,t,n){return e[t]=n,e},E=function(e,t){try{U(i,e,t)}catch(n){i[e]=t}return t},k=i["__core-js_shared__"]||E("__core-js_shared__",{}),V=Function.toString;"function"!=typeof k.inspectSource&&(k.inspectSource=function(e){return V.call(e)});var G,H,Z,X=k.inspectSource,T=i.WeakMap,P="function"==typeof T&&/native code/.test(X(T)),O=n((function(e){(e.exports=function(e,t){return k[e]||(k[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),Q=0,W=Math.random(),N=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Q+W).toString(36)},j=O("keys"),_=function(e){return j[e]||(j[e]=N(e))},J={},Y=i.WeakMap;if(P){var M=new Y,D=M.get,K=M.has,q=M.set;G=function(e,t){return q.call(M,e,t),t},H=function(e){return D.call(M,e)||{}},Z=function(e){return K.call(M,e)}}else{var z=_("state");J[z]=!0,G=function(e,t){return U(e,z,t),t},H=function(e){return I(e,z)?e[z]:{}},Z=function(e){return I(e,z)}}var $={set:G,get:H,has:Z,enforce:function(e){return Z(e)?H(e):G(e,{})},getterFor:function(e){return function(t){var n;if(!v(t)||(n=H(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},ee=n((function(e){var t=$.get,n=$.enforce,r=String(String).split("String");(e.exports=function(e,t,o,a){var s=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,u=!!a&&!!a.noTargetGet;"function"==typeof o&&("string"!=typeof t||I(o,"name")||U(o,"name",t),n(o).source=r.join("string"==typeof t?t:"")),e!==i?(s?!u&&e[t]&&(c=!0):delete e[t],c?e[t]=o:U(e,t,o)):c?e[t]=o:E(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||X(this)}))})),te=i,ne=function(e){return"function"==typeof e?e:void 0},re=function(e,t){return arguments.length<2?ne(te[e])||ne(i[e]):te[e]&&te[e][t]||i[e]&&i[e][t]},ie=Math.ceil,oe=Math.floor,ae=function(e){return isNaN(e=+e)?0:(e>0?oe:ie)(e)},se=Math.min,ce=function(e){return e>0?se(ae(e),9007199254740991):0},ue=Math.max,le=Math.min,de=function(e,t){var n=ae(e);return n<0?ue(n+t,0):le(n,t)},he=function(e){return function(t,n,r){var i,o=m(t),a=ce(o.length),s=de(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},fe={includes:he(!0),indexOf:he(!1)},pe=fe.indexOf,ge=function(e,t){var n,r=m(e),i=0,o=[];for(n in r)!I(J,n)&&I(r,n)&&o.push(n);for(;t.length>i;)I(r,n=t[i++])&&(~pe(o,n)||o.push(n));return o},me=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ve=me.concat("length","prototype"),ye={f:Object.getOwnPropertyNames||function(e){return ge(e,ve)}},be={f:Object.getOwnPropertySymbols},Ie=re("Reflect","ownKeys")||function(e){var t=ye.f(R(e)),n=be.f;return n?t.concat(n(e)):t},we=function(e,t){for(var n=Ie(t),r=A.f,i=F.f,o=0;o<n.length;o++){var a=n[o];I(e,a)||r(e,a,i(t,a))}},Se=/#|\.prototype\./,Ce=function(e,t){var n=xe[Be(e)];return n==Re||n!=Fe&&("function"==typeof t?o(t):!!t)},Be=Ce.normalize=function(e){return String(e).replace(Se,".").toLowerCase()},xe=Ce.data={},Fe=Ce.NATIVE="N",Re=Ce.POLYFILL="P",Le=Ce,Ae=F.f,Ue=function(e,t){var n,r,o,a,s,c=e.target,u=e.global,l=e.stat;if(n=u?i:l?i[c]||E(c,{}):(i[c]||{}).prototype)for(r in t){if(a=t[r],o=e.noTargetGet?(s=Ae(n,r))&&s.value:n[r],!Le(u?r:c+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof a==typeof o)continue;we(a,o)}(e.sham||o&&o.sham)&&U(a,"sham",!0),ee(n,r,a,e)}},Ee=Object.keys||function(e){return ge(e,me)},ke=function(e){return Object(g(e))},Ve=Object.assign,Ge=Object.defineProperty,He=!Ve||o((function(){if(a&&1!==Ve({b:1},Ve(Ge({},"a",{enumerable:!0,get:function(){Ge(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=Ve({},e)[n]||"abcdefghijklmnopqrst"!=Ee(Ve({},t)).join("")}))?function(e,t){for(var n=ke(e),r=arguments.length,i=1,o=be.f,s=u.f;r>i;)for(var c,l=p(arguments[i++]),d=o?Ee(l).concat(o(l)):Ee(l),h=d.length,f=0;h>f;)c=d[f++],a&&!s.call(l,c)||(n[c]=l[c]);return n}:Ve;Ue({target:"Object",stat:!0,forced:Object.assign!==He},{assign:He});var Ze=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),Xe=Ze&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Te=O("wks"),Pe=i.Symbol,Oe=Xe?Pe:Pe&&Pe.withoutSetter||N,Qe=function(e){return I(Te,e)||(Ze&&I(Pe,e)?Te[e]=Pe[e]:Te[e]=Oe("Symbol."+e)),Te[e]},We={};We[Qe("toStringTag")]="z";var Ne="[object z]"===String(We),je=Qe("toStringTag"),_e="Arguments"==h(function(){return arguments}()),Je=Ne?h:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),je))?n:_e?h(t):"Object"==(r=h(t))&&"function"==typeof t.callee?"Arguments":r},Ye=Ne?{}.toString:function(){return"[object "+Je(this)+"]"};Ne||ee(Object.prototype,"toString",Ye,{unsafe:!0});var Me=i.Promise,De=function(e,t,n){for(var r in t)ee(e,r,t[r],n);return e},Ke=A.f,qe=Qe("toStringTag"),ze=function(e,t,n){e&&!I(e=n?e:e.prototype,qe)&&Ke(e,qe,{configurable:!0,value:t})},$e=Qe("species"),et=function(e){var t=re(e),n=A.f;a&&t&&!t[$e]&&n(t,$e,{configurable:!0,get:function(){return this}})},tt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},nt=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},rt={},it=Qe("iterator"),ot=Array.prototype,at=function(e){return void 0!==e&&(rt.Array===e||ot[it]===e)},st=function(e,t,n){if(tt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},ct=Qe("iterator"),ut=function(e){if(null!=e)return e[ct]||e["@@iterator"]||rt[Je(e)]},lt=function(e,t,n,r){try{return r?t(R(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&R(i.call(e)),t}},dt=n((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var a,s,c,u,l,d,h,f=st(n,r,i?2:1);if(o)a=e;else{if("function"!=typeof(s=ut(e)))throw TypeError("Target is not iterable");if(at(s)){for(c=0,u=ce(e.length);u>c;c++)if((l=i?f(R(h=e[c])[0],h[1]):f(e[c]))&&l instanceof t)return l;return new t(!1)}a=s.call(e)}for(d=a.next;!(h=d.call(a)).done;)if("object"==typeof(l=lt(a,f,h.value,i))&&l&&l instanceof t)return l;return new t(!1)}).stop=function(e){return new t(!0,e)}})),ht=Qe("iterator"),ft=!1;try{var pt=0,gt={next:function(){return{done:!!pt++}},return:function(){ft=!0}};gt[ht]=function(){return this},Array.from(gt,(function(){throw 2}))}catch(e){}var mt,vt,yt,bt=function(e,t){if(!t&&!ft)return!1;var n=!1;try{var r={};r[ht]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},It=Qe("species"),wt=function(e,t){var n,r=R(e).constructor;return void 0===r||null==(n=R(r)[It])?t:tt(n)},St=re("document","documentElement"),Ct=re("navigator","userAgent")||"",Bt=/(iphone|ipod|ipad).*applewebkit/i.test(Ct),xt=i.location,Ft=i.setImmediate,Rt=i.clearImmediate,Lt=i.process,At=i.MessageChannel,Ut=i.Dispatch,Et=0,kt={},Vt=function(e){if(kt.hasOwnProperty(e)){var t=kt[e];delete kt[e],t()}},Gt=function(e){return function(){Vt(e)}},Ht=function(e){Vt(e.data)},Zt=function(e){i.postMessage(e+"",xt.protocol+"//"+xt.host)};Ft&&Rt||(Ft=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return kt[++Et]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},mt(Et),Et},Rt=function(e){delete kt[e]},"process"==h(Lt)?mt=function(e){Lt.nextTick(Gt(e))}:Ut&&Ut.now?mt=function(e){Ut.now(Gt(e))}:At&&!Bt?(yt=(vt=new At).port2,vt.port1.onmessage=Ht,mt=st(yt.postMessage,yt,1)):!i.addEventListener||"function"!=typeof postMessage||i.importScripts||o(Zt)||"file:"===xt.protocol?mt="onreadystatechange"in C("script")?function(e){St.appendChild(C("script")).onreadystatechange=function(){St.removeChild(this),Vt(e)}}:function(e){setTimeout(Gt(e),0)}:(mt=Zt,i.addEventListener("message",Ht,!1)));var Xt,Tt,Pt,Ot,Qt,Wt,Nt,jt,_t={set:Ft,clear:Rt},Jt=F.f,Yt=_t.set,Mt=i.MutationObserver||i.WebKitMutationObserver,Dt=i.process,Kt=i.Promise,qt="process"==h(Dt),zt=Jt(i,"queueMicrotask"),$t=zt&&zt.value;$t||(Xt=function(){var e,t;for(qt&&(e=Dt.domain)&&e.exit();Tt;){t=Tt.fn,Tt=Tt.next;try{t()}catch(e){throw Tt?Ot():Pt=void 0,e}}Pt=void 0,e&&e.enter()},qt?Ot=function(){Dt.nextTick(Xt)}:Mt&&!Bt?(Qt=!0,Wt=document.createTextNode(""),new Mt(Xt).observe(Wt,{characterData:!0}),Ot=function(){Wt.data=Qt=!Qt}):Kt&&Kt.resolve?(Nt=Kt.resolve(void 0),jt=Nt.then,Ot=function(){jt.call(Nt,Xt)}):Ot=function(){Yt.call(i,Xt)});var en,tn,nn=$t||function(e){var t={fn:e,next:void 0};Pt&&(Pt.next=t),Tt||(Tt=t,Ot()),Pt=t},rn=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=tt(t),this.reject=tt(n)},on={f:function(e){return new rn(e)}},an=function(e,t){if(R(e),v(t)&&t.constructor===e)return t;var n=on.f(e);return(0,n.resolve)(t),n.promise},sn=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},cn=i.process,un=cn&&cn.versions,ln=un&&un.v8;ln?tn=(en=ln.split("."))[0]+en[1]:Ct&&(!(en=Ct.match(/Edge\/(\d+)/))||en[1]>=74)&&(en=Ct.match(/Chrome\/(\d+)/))&&(tn=en[1]);var dn,hn,fn,pn,gn=tn&&+tn,mn=_t.set,vn=Qe("species"),yn="Promise",bn=$.get,In=$.set,wn=$.getterFor(yn),Sn=Me,Cn=i.TypeError,Bn=i.document,xn=i.process,Fn=re("fetch"),Rn=on.f,Ln=Rn,An="process"==h(xn),Un=!!(Bn&&Bn.createEvent&&i.dispatchEvent),En=Le(yn,(function(){if(!(X(Sn)!==String(Sn))){if(66===gn)return!0;if(!An&&"function"!=typeof PromiseRejectionEvent)return!0}if(gn>=51&&/native code/.test(Sn))return!1;var e=Sn.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[vn]=t,!(e.then((function(){}))instanceof t)})),kn=En||!bt((function(e){Sn.all(e).catch((function(){}))})),Vn=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},Gn=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;nn((function(){for(var i=t.value,o=1==t.state,a=0;r.length>a;){var s,c,u,l=r[a++],d=o?l.ok:l.fail,h=l.resolve,f=l.reject,p=l.domain;try{d?(o||(2===t.rejection&&Tn(e,t),t.rejection=1),!0===d?s=i:(p&&p.enter(),s=d(i),p&&(p.exit(),u=!0)),s===l.promise?f(Cn("Promise-chain cycle")):(c=Vn(s))?c.call(s,h,f):h(s)):f(i)}catch(e){p&&!u&&p.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&Zn(e,t)}))}},Hn=function(e,t,n){var r,o;Un?((r=Bn.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),i.dispatchEvent(r)):r={promise:t,reason:n},(o=i["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Zn=function(e,t){mn.call(i,(function(){var n,r=t.value;if(Xn(t)&&(n=sn((function(){An?xn.emit("unhandledRejection",r,e):Hn("unhandledrejection",e,r)})),t.rejection=An||Xn(t)?2:1,n.error))throw n.value}))},Xn=function(e){return 1!==e.rejection&&!e.parent},Tn=function(e,t){mn.call(i,(function(){An?xn.emit("rejectionHandled",e):Hn("rejectionhandled",e,t.value)}))},Pn=function(e,t,n,r){return function(i){e(t,n,i,r)}},On=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Gn(e,t,!0))},Qn=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw Cn("Promise can't be resolved itself");var i=Vn(n);i?nn((function(){var r={done:!1};try{i.call(n,Pn(Qn,e,r,t),Pn(On,e,r,t))}catch(n){On(e,r,n,t)}})):(t.value=n,t.state=1,Gn(e,t,!1))}catch(n){On(e,{done:!1},n,t)}}};En&&(Sn=function(e){nt(this,Sn,yn),tt(e),dn.call(this);var t=bn(this);try{e(Pn(Qn,this,t),Pn(On,this,t))}catch(e){On(this,t,e)}},(dn=function(e){In(this,{type:yn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=De(Sn.prototype,{then:function(e,t){var n=wn(this),r=Rn(wt(this,Sn));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=An?xn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Gn(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),hn=function(){var e=new dn,t=bn(e);this.promise=e,this.resolve=Pn(Qn,e,t),this.reject=Pn(On,e,t)},on.f=Rn=function(e){return e===Sn||e===fn?new hn(e):Ln(e)},"function"==typeof Me&&(pn=Me.prototype.then,ee(Me.prototype,"then",(function(e,t){var n=this;return new Sn((function(e,t){pn.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Fn&&Ue({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return an(Sn,Fn.apply(i,arguments))}}))),Ue({global:!0,wrap:!0,forced:En},{Promise:Sn}),ze(Sn,yn,!1),et(yn),fn=re(yn),Ue({target:yn,stat:!0,forced:En},{reject:function(e){var t=Rn(this);return t.reject.call(void 0,e),t.promise}}),Ue({target:yn,stat:!0,forced:En},{resolve:function(e){return an(this,e)}}),Ue({target:yn,stat:!0,forced:kn},{all:function(e){var t=this,n=Rn(t),r=n.resolve,i=n.reject,o=sn((function(){var n=tt(t.resolve),o=[],a=0,s=1;dt(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Rn(t),r=n.reject,i=sn((function(){var i=tt(t.resolve);dt(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Wn="undefined"!=typeof self?self:window,Nn="URLSearchParams"in Wn,jn="Symbol"in Wn&&"iterator"in Symbol,_n="FileReader"in Wn&&"Blob"in Wn&&function(){try{return new Blob,!0}catch(e){return!1}}(),Jn="FormData"in Wn,Yn="ArrayBuffer"in Wn;if(Yn)var Mn=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Dn=ArrayBuffer.isView||function(e){return e&&Mn.indexOf(Object.prototype.toString.call(e))>-1};function Kn(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function qn(e){return"string"!=typeof e&&(e=String(e)),e}function zn(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return jn&&(t[Symbol.iterator]=function(){return t}),t}function $n(e){this.map={},e instanceof $n?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function er(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function tr(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function nr(e){var t=new FileReader,n=tr(t);return t.readAsArrayBuffer(e),n}function rr(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function ir(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:_n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Jn&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Nn&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Yn&&_n&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=rr(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Yn&&(ArrayBuffer.prototype.isPrototypeOf(e)||Dn(e))?this._bodyArrayBuffer=rr(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Nn&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},_n&&(this.blob=function(){var e=er(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?er(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(nr)}),this.text=function(){var e=er(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=tr(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Jn&&(this.formData=function(){return this.text().then(sr)}),this.json=function(){return this.text().then(JSON.parse)},this}$n.prototype.append=function(e,t){e=Kn(e),t=qn(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},$n.prototype.delete=function(e){delete this.map[Kn(e)]},$n.prototype.get=function(e){return e=Kn(e),this.has(e)?this.map[e]:null},$n.prototype.has=function(e){return this.map.hasOwnProperty(Kn(e))},$n.prototype.set=function(e,t){this.map[Kn(e)]=qn(t)},$n.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},$n.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),zn(e)},$n.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),zn(e)},$n.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),zn(e)},jn&&($n.prototype[Symbol.iterator]=$n.prototype.entries);var or=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ar(e,t){var n,r,i=(t=t||{}).body;if(e instanceof ar){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new $n(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new $n(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),or.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;if(o.test(this.url))this.url=this.url.replace(o,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function sr(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function cr(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new $n(t.headers),this.url=t.url||"",this._initBody(e)}ar.prototype.clone=function(){return new ar(this,{body:this._bodyInit})},ir.call(ar.prototype),ir.call(cr.prototype),cr.prototype.clone=function(){return new cr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $n(this.headers),url:this.url})},cr.error=function(){var e=new cr(null,{status:0,statusText:""});return e.type="error",e};var ur=[301,302,303,307,308];cr.redirect=function(e,t){if(-1===ur.indexOf(t))throw new RangeError("Invalid status code");return new cr(null,{status:t,headers:{location:e}})};var lr=Wn.DOMException;function dr(e,t){return new Promise((function(n,r){var i=new ar(e,t);if(i.signal&&i.signal.aborted)return r(new lr("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new $n,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;setTimeout((function(){n(new cr(i,r))}),0)},o.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){r(new lr("Aborted","AbortError"))}),0)},o.open(i.method,function(e){try{return""===e&&Wn.location.href?Wn.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(_n?o.responseType="blob":Yn&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}"function"!=typeof lr&&((lr=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),lr.prototype.constructor=lr),dr.polyfill=!0,Wn.fetch||(Wn.fetch=dr,Wn.Headers=$n,Wn.Request=ar,Wn.Response=cr);var hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr=window.device,pr={},gr=[];window.device=pr;var mr=window.document.documentElement,vr=window.navigator.userAgent.toLowerCase(),yr=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function br(e,t){return-1!==e.indexOf(t)}function Ir(e){return br(vr,e)}function wr(e){return mr.className.match(new RegExp(e,"i"))}function Sr(e){var t=null;wr(e)||(t=mr.className.replace(/^\s+|\s+$/g,""),mr.className=t+" "+e)}function Cr(e){wr(e)&&(mr.className=mr.className.replace(" "+e,""))}function Br(){pr.landscape()?(Cr("portrait"),Sr("landscape"),xr("landscape")):(Cr("landscape"),Sr("portrait"),xr("portrait")),Lr()}function xr(e){for(var t=0;t<gr.length;t++)gr[t](e)}pr.macos=function(){return Ir("mac")},pr.ios=function(){return pr.iphone()||pr.ipod()||pr.ipad()},pr.iphone=function(){return!pr.windows()&&Ir("iphone")},pr.ipod=function(){return Ir("ipod")},pr.ipad=function(){var e="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return Ir("ipad")||e},pr.android=function(){return!pr.windows()&&Ir("android")},pr.androidPhone=function(){return pr.android()&&Ir("mobile")},pr.androidTablet=function(){return pr.android()&&!Ir("mobile")},pr.blackberry=function(){return Ir("blackberry")||Ir("bb10")},pr.blackberryPhone=function(){return pr.blackberry()&&!Ir("tablet")},pr.blackberryTablet=function(){return pr.blackberry()&&Ir("tablet")},pr.windows=function(){return Ir("windows")},pr.windowsPhone=function(){return pr.windows()&&Ir("phone")},pr.windowsTablet=function(){return pr.windows()&&Ir("touch")&&!pr.windowsPhone()},pr.fxos=function(){return(Ir("(mobile")||Ir("(tablet"))&&Ir(" rv:")},pr.fxosPhone=function(){return pr.fxos()&&Ir("mobile")},pr.fxosTablet=function(){return pr.fxos()&&Ir("tablet")},pr.meego=function(){return Ir("meego")},pr.cordova=function(){return window.cordova&&"file:"===location.protocol},pr.nodeWebkit=function(){return"object"===hr(window.process)},pr.mobile=function(){return pr.androidPhone()||pr.iphone()||pr.ipod()||pr.windowsPhone()||pr.blackberryPhone()||pr.fxosPhone()||pr.meego()},pr.tablet=function(){return pr.ipad()||pr.androidTablet()||pr.blackberryTablet()||pr.windowsTablet()||pr.fxosTablet()},pr.desktop=function(){return!pr.tablet()&&!pr.mobile()},pr.television=function(){for(var e=0;e<yr.length;){if(Ir(yr[e]))return!0;e++}return!1},pr.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?br(screen.orientation.type,"portrait"):pr.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90!==Math.abs(window.orientation):window.innerHeight/window.innerWidth>1},pr.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?br(screen.orientation.type,"landscape"):pr.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},pr.noConflict=function(){return window.device=fr,this},pr.ios()?pr.ipad()?Sr("ios ipad tablet"):pr.iphone()?Sr("ios iphone mobile"):pr.ipod()&&Sr("ios ipod mobile"):pr.macos()?Sr("macos desktop"):pr.android()?pr.androidTablet()?Sr("android tablet"):Sr("android mobile"):pr.blackberry()?pr.blackberryTablet()?Sr("blackberry tablet"):Sr("blackberry mobile"):pr.windows()?pr.windowsTablet()?Sr("windows tablet"):pr.windowsPhone()?Sr("windows mobile"):Sr("windows desktop"):pr.fxos()?pr.fxosTablet()?Sr("fxos tablet"):Sr("fxos mobile"):pr.meego()?Sr("meego mobile"):pr.nodeWebkit()?Sr("node-webkit"):pr.television()?Sr("television"):pr.desktop()&&Sr("desktop"),pr.cordova()&&Sr("cordova"),pr.onChangeOrientation=function(e){"function"==typeof e&&gr.push(e)};var Fr="resize";function Rr(e){for(var t=0;t<e.length;t++)if(pr[e[t]]())return e[t];return"unknown"}function Lr(){pr.orientation=Rr(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(Fr="orientationchange"),window.addEventListener?window.addEventListener(Fr,Br,!1):window.attachEvent?window.attachEvent(Fr,Br):window[Fr]=Br,Br(),pr.type=Rr(["mobile","tablet","desktop"]),pr.os=Rr(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),Lr();var Ar=Array.isArray||function(e){return"Array"==h(e)},Ur=Qe("species"),Er=function(e,t){var n;return Ar(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!Ar(n.prototype)?v(n)&&null===(n=n[Ur])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},kr=[].push,Vr=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=5==e||o;return function(s,c,u,l){for(var d,h,f=ke(s),g=p(f),m=st(c,u,3),v=ce(g.length),y=0,b=l||Er,I=t?b(s,v):n?b(s,0):void 0;v>y;y++)if((a||y in g)&&(h=m(d=g[y],y,f),e))if(t)I[y]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:kr.call(I,d)}else if(i)return!1;return o?-1:r||i?i:I}},Gr={forEach:Vr(0),map:Vr(1),filter:Vr(2),some:Vr(3),every:Vr(4),find:Vr(5),findIndex:Vr(6)},Hr=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){throw 1},1)}))},Zr=Object.defineProperty,Xr={},Tr=function(e){throw e},Pr=function(e,t){if(I(Xr,e))return Xr[e];t||(t={});var n=[][e],r=!!I(t,"ACCESSORS")&&t.ACCESSORS,i=I(t,0)?t[0]:Tr,s=I(t,1)?t[1]:void 0;return Xr[e]=!!n&&!o((function(){if(r&&!a)return!0;var e={length:-1};r?Zr(e,1,{enumerable:!0,get:Tr}):e[1]=1,n.call(e,i,s)}))},Or=Gr.forEach,Qr=Hr("forEach"),Wr=Pr("forEach"),Nr=Qr&&Wr?[].forEach:function(e){return Or(this,e,arguments.length>1?arguments[1]:void 0)};Ue({target:"Array",proto:!0,forced:[].forEach!=Nr},{forEach:Nr});var jr=function(){var e=R(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function _r(e,t){return RegExp(e,t)}var Jr={UNSUPPORTED_Y:o((function(){var e=_r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:o((function(){var e=_r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},Yr=RegExp.prototype.exec,Mr=String.prototype.replace,Dr=Yr,Kr=function(){var e=/a/,t=/b*/g;return Yr.call(e,"a"),Yr.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),qr=Jr.UNSUPPORTED_Y||Jr.BROKEN_CARET,zr=void 0!==/()??/.exec("")[1];(Kr||zr||qr)&&(Dr=function(e){var t,n,r,i,o=this,a=qr&&o.sticky,s=jr.call(o),c=o.source,u=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),zr&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Kr&&(t=o.lastIndex),r=Yr.call(a?n:o,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Kr&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),zr&&r&&r.length>1&&Mr.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r});var $r=Dr;Ue({target:"RegExp",proto:!0,forced:/./.exec!==$r},{exec:$r});var ei=Qe("species"),ti=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),ni="$0"==="a".replace(/./,"$0"),ri=Qe("replace"),ii=!!/./[ri]&&""===/./[ri]("a","$0"),oi=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),ai=function(e,t,n,r){var i=Qe(e),a=!o((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),s=a&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[ei]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!a||!s||"replace"===e&&(!ti||!ni||ii)||"split"===e&&!oi){var c=/./[i],u=n(i,""[e],(function(e,t,n,r,i){return t.exec===$r?a&&!i?{done:!0,value:c.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:ni,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ii}),l=u[0],d=u[1];ee(String.prototype,e,l),ee(RegExp.prototype,i,2==t?function(e,t){return d.call(e,this,t)}:function(e){return d.call(e,this)})}r&&U(RegExp.prototype[i],"sham",!0)},si=function(e){return function(t,n){var r,i,o=String(g(t)),a=ae(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}},ci={codeAt:si(!1),charAt:si(!0)},ui=ci.charAt,li=function(e,t,n){return t+(n?ui(e,t).length:1)},di=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==h(e))throw TypeError("RegExp#exec called on incompatible receiver");return $r.call(e,t)},hi=Math.max,fi=Math.min,pi=Math.floor,gi=/\$([$&'`]|\d\d?|<[^>]*>)/g,mi=/\$([$&'`]|\d\d?)/g,vi=function(e){return void 0===e?e:String(e)};ai("replace",2,(function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=g(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var c=n(t,e,this,r);if(c.done)return c.value}var u=R(e),l=String(this),d="function"==typeof r;d||(r=String(r));var h=u.global;if(h){var f=u.unicode;u.lastIndex=0}for(var p=[];;){var g=di(u,l);if(null===g)break;if(p.push(g),!h)break;""===String(g[0])&&(u.lastIndex=li(l,ce(u.lastIndex),f))}for(var m="",v=0,y=0;y<p.length;y++){g=p[y];for(var b=String(g[0]),I=hi(fi(ae(g.index),l.length),0),w=[],S=1;S<g.length;S++)w.push(vi(g[S]));var C=g.groups;if(d){var B=[b].concat(w,I,l);void 0!==C&&B.push(C);var x=String(r.apply(void 0,B))}else x=s(b,l,I,w,C,r);I>=v&&(m+=l.slice(v,I)+x,v=I+b.length)}return m+l.slice(v)}];function s(e,n,r,i,o,a){var s=r+e.length,c=i.length,u=mi;return void 0!==o&&(o=ke(o),u=gi),t.call(a,u,(function(t,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var d=pi(l/10);return 0===d?t:d<=c?void 0===i[d-1]?a.charAt(1):i[d-1]+a.charAt(1):t}u=i[l-1]}return void 0===u?"":u}))}}));var yi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var bi in yi){var Ii=i[bi],wi=Ii&&Ii.prototype;if(wi&&wi.forEach!==Nr)try{U(wi,"forEach",Nr)}catch(e){wi.forEach=Nr}}var Si="\t\n\v\f\r                　\u2028\u2029\ufeff",Ci="["+Si+"]",Bi=RegExp("^"+Ci+Ci+"*"),xi=RegExp(Ci+Ci+"*$"),Fi=function(e){return function(t){var n=String(g(t));return 1&e&&(n=n.replace(Bi,"")),2&e&&(n=n.replace(xi,"")),n}},Ri={start:Fi(1),end:Fi(2),trim:Fi(3)},Li=Ri.trim;Ue({target:"String",proto:!0,forced:function(e){return o((function(){return!!Si[e]()||"​᠎"!="​᠎"[e]()||Si[e].name!==e}))}("trim")},{trim:function(){return Li(this)}});var Ai={HOME:"Home",SELECT_LOCATION:"Select your location",SHOPPING_APAC:"Not shopping from America, Asia or Oceania?",SHOPPING_EU:"Not shopping from Africa or Europe?",VISIT_LOCAL:"Change location here.",BUY:"Buy",STORE:"Store",DISTRIBUTORS:"Distributors",DOWNLOAD:"Software",DOWNLOADS:"Downloads",ONLINE_TOOLS:"Online Tools",PRODUCTS:"Products",ARDUINO_USA:"Arduino",GENUINO_NO_USA:"Genuino",ATHEART:"AtHeart",CERTIFIED:"Certified",LEARNING:"Learning",RESOURCES:"Resources",COMMUNITY:"Community",GETTING_STARTED:"Getting Started",EXAMPLES:"Examples",TUTORIALS:"Tutorials",REFERENCE:"Reference",EDUCATION:"Education",EDU:"Edu",PRO:"Pro",PROFESSIONAL:"Professional",PLAYGROUND:"Playground",FORUM:"Forum",SUPPORT:"Support",HELP:"Help",CONTACT_US:"Contact Us",BLOG:"Blog",PROFILE:"Profile",MESSAGES:"Messages",SUBSCRIPTIONS:"My Plans",SIGN_IN:"Sign In",SIGN_OUT:"Sign Out",LANGUAGE:"Language",ENGLISH:"English",ITALIAN:"Italian",CHINESE:"Chinese",CURRENCY:"Currency",EURO:"Euro",DOLLAR:"Dollar",POUND:"Pound",FRANC:"Franc",FORINT:"Forint",SEARCH:"Search",NEWSLETTER:"Newsletter",EMAIL_PLACEHOLDER:"Enter your email to sign up",SUBSCRIBE:"Subscribe",COPYRIGHT:"Terms Of Service",PRIVACY_POLICY:"Privacy Policy",TRADEMARK:"Trademark",CAREERS:"Careers",SECURITY:"Security",FACEBOOK:"follow us on Facebook",TWITTER:"follow us on Twitter",GOOGLEP:"follow us on Google+",INSTAGRAM:"follow us on Instagram",LINKEDIN:"follow us on Linkedin",GITHUB:"Arduino on GitHub",FLICKR:"follow us on Flickr",YOUTUBE:"follow us on YouTube",PRIVACY_TITLE:"Privacy consent",INTRO_START:"Arduino cares about the privacy and personal data of its users. The ",INTRO_PRIVACY:"privacy policy",INTRO_END:" is meant to inform you on how we process your personal data when you use our services.",CONFIRM_READING:"I confirm to have read the privacy policy",CONFIRM_READING_REQUIRED:"Please confirm that you have read the privacy policy",CONFIRM_NEWSLETTER:"I confirm my consent to receive your newsletter",CONFIRM_MARKETING:"I confirm my consent to the processing of my personal data for marketing purposes, consisting in commercial offers sent via email",CONFIRM_PERSONAL_DATA:"I confirm my consent to automated processing of my personal data, by means of profiling, in order to receive commercial offers customized on the basis of my browsing and purchasing behavior",GREETING:"Hello",BACK_TO_TOP:"Back to top"},Ui=/\{{2}([\w\.\s\"\']+)\s?\|\s?translate[\w\s\|]*\}{2}/g;function Ei(e){return e=e.replace(Ui,(function(e,t){return t=t.trim(),Ai[t]}))}var ki=fe.indexOf,Vi=[].indexOf,Gi=!!Vi&&1/[1].indexOf(1,-0)<0,Hi=Hr("indexOf"),Zi=Pr("indexOf",{ACCESSORS:!0,1:0});Ue({target:"Array",proto:!0,forced:Gi||!Hi||!Zi},{indexOf:function(e){return Gi?Vi.apply(this,arguments)||0:ki(this,e,arguments.length>1?arguments[1]:void 0)}});var Xi=function(){function e(){this.storeLocation=this._getCookie("georestriction_selection"),window.storeLocation=this.storeLocation}var t=e.prototype;return t.getStoreLocation=function(){return this.storeLocation},t._getCookie=function(e){var t=" "+document.cookie,n=t.indexOf(" "+e+"=");if(-1===n)t=null;else{n=t.indexOf("=",n)+1;var r=t.indexOf(";",n);-1===r&&(r=t.length),t=unescape(t.substring(n,r))}return t},e}(),Ti=function(){function e(e,t){"dev"===e.env?(this.usaURL="https://unistore-dev.arduino.cc/usa",this.euURL="https://unistore-dev.arduino.cc"):(this.usaURL="https://store.arduino.cc/usa",this.euURL="https://store.arduino.cc"),this.customURL=e.cartURL,this.geo=new Xi,this.auth=t}var t=e.prototype;return t.getUrl=function(){return this.customURL?this.customURL:"usa"===this.geo.getStoreLocation()?this.usaURL:this.euURL},t.getMiniCart=function(){return new Promise(function(e,t){var n,r=function(n){try{return console.log(n),e("")}catch(e){return t(e)}};try{return Promise.resolve(this._headers()).then(function(t){try{return Promise.resolve(fetch(this.getUrl()+"/cart/api/minicart?ajax=1",{credentials:"include",headers:t})).then((function(t){try{return n=t,Promise.resolve(n.json()).then((function(t){try{return e(t.content)}catch(e){return r(e)}}),r)}catch(e){return r(e)}}),r)}catch(e){return r(e)}}.bind(this),r)}catch(e){r(e)}}.bind(this))},t.getWishlist=function(){return new Promise(function(e,t){var n,r=function(n){try{return console.log(n),e("")}catch(e){return t(e)}};try{return Promise.resolve(this._headers()).then(function(t){try{return Promise.resolve(fetch(this.getUrl()+"/cart/api/wishlist?ajax=1",{credentials:"include",headers:t})).then((function(t){try{return n=t,Promise.resolve(n.json()).then((function(t){try{return e(t.content)}catch(e){return r(e)}}),r)}catch(e){return r(e)}}),r)}catch(e){return r(e)}}.bind(this),r)}catch(e){r(e)}}.bind(this))},t.getCount=function(){return new Promise(function(e,t){var n,r=function(n){try{return console.log(n),e(0)}catch(e){return t(e)}};try{return Promise.resolve(this._headers()).then(function(t){try{return Promise.resolve(fetch(this.getUrl()+"/cart/api/count?ajax=1",{credentials:"include",headers:t})).then((function(t){try{return n=t,Promise.resolve(n.json()).then((function(t){try{return e(t.count)}catch(e){return r(e)}}),r)}catch(e){return r(e)}}),r)}catch(e){return r(e)}}.bind(this),r)}catch(e){r(e)}}.bind(this))},t._headers=function(){return new Promise(function(e,t){var n;return n={"X-Requested-With":"XMLHttpRequest"},Promise.resolve(this.auth.isAuthenticated()).then(function(r){try{if(r)return Promise.resolve(this.auth.getAccessToken()).then(function(e){try{return n.Authorization="Bearer "+e,i.call(this)}catch(e){return t(e)}}.bind(this),t);function i(){return e(n)}return i.call(this)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},e}(),Pi=function(){var e=t.prototype;function t(e,n,r){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n,r)}return e.init=function(e,t,n){return new Promise(function(r,i){var o;return this.auth=t,this.container=e,this.api=n,Promise.resolve(this.auth.getProfile()).then(function(e){try{return(o=e)&&"boolean"==typeof o.email_verified&&!o.email_verified&&(sessionStorage.getItem("nagbar_sent")||this.render()),r()}catch(e){return i(e)}}.bind(this),i)}.bind(this))},e.render=function(){this.container.innerHTML=t.markup(this),this.container.classList.toggle("visible"),this.resendButton=this.container.querySelector(".nagbar-action-link"),this.resendButtonSpinner=this.container.querySelector(".nagbar-action-spinner"),this.resendButtonDone=this.container.querySelector(".nagbar-action-done"),this.closeButton=this.container.querySelector(".nagbar-close"),this.addEventListeners()},e.addEventListeners=function(){var e=this;this.resendButton.addEventListener("click",(function(t){t.preventDefault(),e.resendButton.style.display="none",e.resendButtonSpinner.style.display="block",sessionStorage.setItem("nagbar_sent",!0),e.api.confirmEmail().then((function(){e.resendButtonSpinner.style.display="none",e.resendButtonDone.style.display="block"})).catch((function(e){console.error(e)}))})),this.closeButton.addEventListener("click",(function(){e.container.style.display="none"}))},t.markup=function(){return'<div class="nagbar-text">\n    Please follow the instructions on the email we sent you to activate your account.\n</div>\n<div class="nagbar-action">\n    <a class="nagbar-action-link" href="#resend-activation-email">Resend email</a>\n    <div class="nagbar-action-spinner"></div>\n    <div class="nagbar-action-done">Sent</div>\n    <span class="nagbar-close">\n        <svg width="1em" height="1em" viewBox="0 0 32 32" fill="none"><path d="M24.71 23.2899C24.8037 23.3829 24.8781 23.4935 24.9289 23.6154C24.9797 23.7372 25.0058 23.8679 25.0058 23.9999C25.0058 24.132 24.9797 24.2627 24.9289 24.3845C24.8781 24.5064 24.8037 24.617 24.71 24.7099C24.617 24.8037 24.5064 24.8781 24.3846 24.9288C24.2627 24.9796 24.132 25.0057 24 25.0057C23.868 25.0057 23.7373 24.9796 23.6154 24.9288C23.4936 24.8781 23.383 24.8037 23.29 24.7099L16 17.4199L8.71 24.7099C8.61704 24.8037 8.50644 24.8781 8.38458 24.9288C8.26272 24.9796 8.13201 25.0057 8 25.0057C7.86799 25.0057 7.73728 24.9796 7.61542 24.9288C7.49356 24.8781 7.38296 24.8037 7.29 24.7099C7.19627 24.617 7.12188 24.5064 7.07111 24.3845C7.02034 24.2627 6.9942 24.132 6.9942 23.9999C6.9942 23.8679 7.02034 23.7372 7.07111 23.6154C7.12188 23.4935 7.19627 23.3829 7.29 23.2899L14.58 15.9999L7.29 8.70994C7.19676 8.6167 7.1228 8.50601 7.07234 8.38419C7.02188 8.26237 6.99591 8.1318 6.99591 7.99994C6.99591 7.86808 7.02188 7.73751 7.07234 7.61569C7.1228 7.49387 7.19676 7.38318 7.29 7.28994C7.38324 7.1967 7.49393 7.12274 7.61575 7.07228C7.73757 7.02182 7.86814 6.99585 8 6.99585C8.13186 6.99585 8.26243 7.02182 8.38425 7.07228C8.50607 7.12274 8.61676 7.1967 8.71 7.28994L16 14.5799L23.29 7.28994C23.4783 7.10164 23.7337 6.99585 24 6.99585C24.2663 6.99585 24.5217 7.10164 24.71 7.28994C24.8983 7.47825 25.0041 7.73364 25.0041 7.99994C25.0041 8.26624 24.8983 8.52164 24.71 8.70994L17.42 15.9999L24.71 23.2899Z" fill="currentColor"></path></svg>\n    </span>\n</div>'},t}(),Oi=function(){var e=t.prototype;function t(e,n,r,i){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n,r,i)}return e.init=function(e,t,n,r){var i=this;this.container=e,this.auth=t,this.api=n,this.opts=r,this.drawerIsOpen=!1,this.cart=new Ti(r,t),this.geo=new Xi,this.render(r).then((function(){window.addEventListener("scroll",(function(){i.arduinoNav.classList.remove("search-open"),i.collapseOnScroll(i.arduinoNav)})),window.addEventListener("click",(function(e){i.arduinoNav&&!e.target.classList.contains("search-typing")&&"search-bar"!==e.target.id&&i.arduinoNav.classList.remove("search-open")}))}))},e.render=function(e){return new Promise(function(n,r){var i;return this.container.innerHTML=t.markup(e),this.arduinoNav=this.container.querySelector(".arduino-nav"),this.collapseOnScroll(this.arduinoNav),e.slimHeader&&this.container.classList.add("slim-header"),this.loginButtons=this.container.querySelectorAll(".login-button a"),this.profiles=this.container.querySelector(".profile-dropdown"),this.logoutButtons=this.container.querySelectorAll(".logout a"),this.authRequired=this.container.querySelectorAll(".auth-required"),i=window.location.protocol+"//"+window.location.hostname,this.container.querySelector(".logo-link").href=i,this.container.querySelector(".logo-link-resellers").href=i,this.searchFormMobile=this.container.querySelector("#searchform-mobile"),this.searchForm=this.container.querySelector("#searchform"),this.searchBar=this.container.querySelector("#search-bar"),e.searchAction?(this.searchForm.action=e.searchAction,this.searchFormMobile.action=e.searchAction):this.container.querySelectorAll(".searchform .fill-it").forEach((function(e){e.value=i})),e.searchTab&&(this.container.querySelector('#search-bar input[name="tab"]').value=e.searchTab),this.navLeft=this.container.querySelector(".nav-left"),this.burgerMenu=this.container.querySelector(".burger-menu"),this.cartBadge=this.container.querySelector("#cart .badge"),this.cartSubMenu=this.container.querySelector(".cart-submenu"),this.cartButton=this.container.querySelector(".cart-dropdown-trigger"),this.wishlistSubMenu=this.container.querySelector(".wishlist-submenu"),this.wishlistButton=this.container.querySelector(".wishlist-dropdown-trigger"),this.drawerIsOpen&&this.navLeft.classList.add("open"),e.showGeolocation&&(this.container.querySelector(".store-location-button").style.display="block","usa"===this.geo.getStoreLocation()?this.container.querySelector(".america-asia").style.display="block":this.container.querySelector(".eu-africa").style.display="block"),e.showWishlist&&(this.wishlistButton.style.display="block"),this.loginButtons.forEach((function(e){e.style.display="none"})),this.authRequired.forEach((function(e){e.style.display="none"})),this.profiles.style.display="none",this.addEventListeners(),Promise.resolve(this.renderProfile()).then((function(e){try{return n()}catch(e){return r(e)}}),r)}.bind(this))},e.renderProfile=function(){return new Promise(function(e,t){return this.auth.isInitialized()?Promise.resolve(this.auth.isAuthenticated()).then(function(n){try{return n?Promise.resolve(this.updateProfile()).then(function(e){try{return this.profiles.style.display="block",this.authRequired.forEach((function(e){e.style.display="block"})),r.call(this)}catch(e){return t(e)}}.bind(this),t):(this.loginButtons.forEach((function(e){e.style.display="block"})),r.call(this));function r(){return this.updateCart(),this.nagbar=new Pi(this.container.querySelector("nagbar"),this.auth,this.api),e()}}catch(e){return t(e)}}.bind(this),t):e()}.bind(this))},e.collapseOnScroll=function(e){this.opts.slimHeader||(window.scrollY>100?e.classList.add("collapsed"):e.classList.remove("collapsed"))},t.markup=function(e){var t=Ei('<header id="ino-header" class="legacy-header">\n\n  <nav class="arduino-nav">\n\n    \x3c!-- logo --\x3e\n    <div class="logo">\n      <a href="//www.arduino.cc" class="logo-link" role="button" aria-label="Homepage"></a>\n      <a href="//www.store.arduino.cc" class="logo-link-resellers" role="button" aria-label="Resellers Homepage"></a>\n    </div>\n\n    \x3c!-- main nav --\x3e\n    <div class="main-nav">\n\n      <ul class="ul-burger">\n        <li class="burger-menu">\n          <a class="burger" role="button" aria-label="Toggle Menu">\n            <img src="https://cdn.arduino.cc/header-footer/prod/assets/burger_menu.svg" alt="Open Navigation">\n          </a>\n        </li>\n      </ul>\n\n      <ul class="nav-left">\n\n        \x3c!-- search form mobile --\x3e\n        <li class="level-1 show-mobile search-container">\n          <a id="search-bar-mobile">\n            <form class="searchform" role="search" id="searchform-mobile" method="GET" action="//www.arduino.cc/search">\n              <input type="hidden" name="domains" value="" class="fill-it">\t\n              <input type="hidden" name="sitesearch" value="" class="fill-it">\n              <input type="hidden" name="tab" value="">\n              <input type="text" placeholder="Search" value="" name="q" title="" class="search-typing" aria-label="search">\n              <i class="clear-icon">&times;</i>\n            </form>\n          </a>\n        </li>\n        \x3c!-- search form end --\x3e\n\n        \x3c!-- user menu mobile --\x3e\n        <li class="user-mobile profile-mobile level-1">\n          <div class="auth-required">\n            <a href="{{PROFILE_URL}}">{{ PROFILE | translate }}</a>\n          </div>\n        </li>\n        <li class="user-mobile profile-mobile level-1">\n          <div class="auth-required">\n            <a href="{{DIGITAL_STORE_URL}}subscriptions">{{ SUBSCRIPTIONS | translate }}</a>\n          </div>\n        </li>\n        <li class="logout user-mobile signout-mobile level-1">\n          <div class="auth-required">\n            <a>{{ SIGN_OUT | translate }}</a>\n          </div>\n        </li>\n        \x3c!-- user menu mobile end --\x3e\n\n        <li class="has-submenu level-1">\n          <a href="//store.arduino.cc">{{ STORE | translate }}</a>\n        </li>\n\n        <li class="has-submenu level-1" id="software">\n          <a role="button">{{ DOWNLOAD | translate }}</a>\n          <ul class="nav-submenu">\n            <li><a href="//www.arduino.cc/en/Main/Create" target="_blank" rel="noopener">{{ ONLINE_TOOLS | translate }}</a></li>\n            <li><a href="//www.arduino.cc/en/Main/Software">{{ DOWNLOADS | translate }}</a></li>\n          </ul>\n        </li>\n\n        <li class="level-1" id="education">\n          <a href="//www.arduino.cc/education">\n            <span class="full">{{ EDUCATION | translate }}</span>\n            <span class="shorten">{{ EDU | translate }}</span>\n          </a>\n        </li>\n\n        <li class="level-1">\n          <a href="//www.arduino.cc/pro">\n            <span>{{ PRO | translate }}</span>\n          </a>\n        </li>\n\n        <li class="has-submenu level-1" id="resources">\n          <a role="button">{{ RESOURCES | translate }}</a>\n          <ul class="nav-submenu">\n            <li><a href="//www.arduino.cc/en/Main/Products">{{ PRODUCTS | translate }}</a></li>\n            <li><a href="//www.arduino.cc/en/Guide/HomePage">{{ GETTING_STARTED | translate }}</a></li>\n            <li><a href="//www.arduino.cc/en/Tutorial/HomePage">{{ TUTORIALS | translate }}</a></li>\n            <li><a href="//www.arduino.cc/reference/en">{{ REFERENCE | translate }}</a></li>\n            <li><a href="//www.arduino.cc/en/IoT/HomePage">IoT Cloud</a></li>\n          </ul>\n        </li>\n\n\n        <li class="has-submenu level-1" id="community">\n          <a role="button">{{ COMMUNITY | translate }}</a>\n          <ul class="nav-submenu">\n            <li><a href="//forum.arduino.cc/">{{ FORUM | translate }}</a></li>\n            <li><a href="//blog.arduino.cc/">{{ BLOG | translate }}</a></li>\n            <li><a href="//create.arduino.cc/projecthub" target="_blank" rel="noopener">Project Hub</a></li>\n            <li><a href="http://playground.arduino.cc/">{{ PLAYGROUND | translate }}</a></li>\n            <li><a href="//www.arduino.cc/en/ArduinoAtHeart/Products">{{ ATHEART | translate }}</a></li>\n          </ul>\n        </li>\n\n\n        <li class="has-submenu level-1" id="help">\n          <a role="button">{{ HELP | translate }}</a>\n          <ul class="nav-submenu">\n            <li><a href="//www.arduino.cc/en/Main/FAQ">{{ FAQ | translate }}</a></li>\n            <li><a href="//www.arduino.cc/en/ContactUs">{{ CONTACT_US | translate }}</a></li>\n          </ul>\n        </li>\n\n        \x3c!-- fake mobile button --\x3e\n        <li class="level-1">\n          <div class="show-mobile fake-button">\n          </div>\n        </li>\n        \x3c!-- fake mobile button end --\x3e\n\n      </ul>\n      \x3c!-- main nav end --\x3e\n\n      \x3c!-- nav right --\x3e\n      <ul class="nav-right">\n\n        \x3c!-- search form --\x3e\n        <li class="level-1 header-hide-mobile">\n          <a id="search-bar">\n            <form class="searchform" role="search" id="searchform" method="GET" action="//www.arduino.cc/search">\n              <input type="text" placeholder="Search" value="" name="q" title="" class="search-typing">\n              <input type="hidden" name="tab" value="">\t\n              <input type="hidden" name="domains" value="" class="fill-it">\t\n              <input type="hidden" name="sitesearch" value="" class="fill-it">\n              <i class="clear-icon">&times;</i>\n            </form>\n          </a>\n        </li>\n        \x3c!-- search form end --\x3e\n\n        \x3c!-- quotes start --\x3e\n        <li class="level-1 quotes-dropdown-trigger has-submenu">\n          <a id="quotes-link">\n            <div id="quotes"><span class="badge">0</span><img src="https://cdn.arduino.cc/header-footer/prod/assets/icon_quotes.svg" alt="Show Quotes"></div>\n          </a>\n\n          <div class="quotes-submenu">\n            <div class="caret"></div>\n            <div class="dropdown-box">\n              <div class="cart-close-button"></div>\n              <p class="loading-content">Loading ...</p>\n\n            </div>\n          </div>\n        </li>\n        \x3c!-- quotes end --\x3e\n\n        \x3c!-- cart start --\x3e\n        <li class="level-1 cart-dropdown-trigger has-submenu">\n          <a id="cart-link">\n            <div id="cart"><span class="badge">0</span><img src="https://cdn.arduino.cc/header-footer/prod/assets/cart.svg" alt="Show Cart">\n            </div>\n          </a>\n\n          <div class="cart-submenu">\n            <div class="caret"></div>\n            <div class="dropdown-box">\n              <p class="loading-content">Loading ...</p>\n\n            </div>\n          </div>\n        </li>\n        \x3c!-- cart end --\x3e\n\n        \x3c!-- wishlist start --\x3e\n        <li class="level-1 wishlist-dropdown-trigger has-submenu">\n          <a id="wishlist-link">\n            <div id="wishlist"><img src="https://cdn.arduino.cc/header-footer/prod/assets/wishlist.svg" alt="Show Wishlist">\n            </div>\n          </a>\n\n          <div class="wishlist-submenu">\n            <div class="caret"></div>\n            <div class="dropdown-box">\n              <p class="loading-content">Loading ...</p>\n            </div>\n          </div>\n        </li>\n        \x3c!-- wishlist end --\x3e\n\n        \x3c!-- geolocation button start --\x3e\n        <li class="level-1 store-location-button has-submenu" title="{{ SELECT_LOCATION | translate }}">\n          <a aria-label="Change Store location">\n            <div class="store-location">\n              <img src="https://cdn.arduino.cc/header-footer/prod/assets/icon_geolocation.svg" alt="Store Location">\n            </div>\n          </a>\n\n          <div class="nav-submenu">\n            <div class="caret"></div>\n            <div class="dropdown-box">\n              <div class="cart-close-button"></div>\n              <p class="empty eu-africa">\n                {{ SHOPPING_EU | translate }}\n                <a class="change-location">{{ VISIT_LOCAL | translate }}</a>\n              </p>\n              <p class="empty america-asia">\n                {{ SHOPPING_APAC | translate }}\n                <a class="change-location">{{ VISIT_LOCAL | translate }}</a>\n              </p>\n            </div>\n          </div>\n        </li>\n        \x3c!-- geolocation end --\x3e\n        <li class="level-1">\n          <div class="login-button">\n            <a href="#">\n              <span>{{ SIGN_IN | translate }}</span>\n            </a>\n          </div>\n        </li>\n\n        <li class="profile-dropdown auth-required has-submenu level-1">\n          <a data-hj-suppress class="submenu-toggle profile" aria-label="user profile">\n            <svg viewBox="0 0 24.202 24.276" class="avatar default-avatar">\n              <path d="M20.912 19.718h-1c0-3.827-.883-6.2-5.28-6.2h-5.44c-4.397 0-5.28 2.23-5.28 5.825h-1v-.115c.017-3.337.81-6.71 6.28-6.71h5.44c5.534 0 6.28 3.64 6.28 7.2zM11.95 13.156c-2.464 0-4.468-2.1-4.468-4.68s2.004-4.68 4.467-4.68c2.462 0 4.466 2.1 4.466 4.68s-2.004 4.68-4.467 4.68zm0-8.36c-1.913 0-3.468 1.65-3.468 3.68 0 2.03 1.555 3.68 3.467 3.68 1.91 0 3.466-1.65 3.466-3.68 0-2.03-1.555-3.68-3.467-3.68zM12.034 23.98C5.436 23.98.07 18.61.07 12.013S5.435.05 12.033.05 24 5.415 24 12.013 18.63 23.98 12.033 23.98zm0-22.43C6.264 1.55 1.57 6.242 1.57 12.013S6.262 22.48 12.033 22.48 22.5 17.783 22.5 12.013 17.803 1.55 12.033 1.55z">\n              </path>\n            </svg>\n            <img class="avatar user-avatar" src="https://cdn.arduino.cc/header-footer/prod/assets/global_user_profile.svg" alt="User Profile">\n            <span class="badge">0</span>\n          </a>\n\n          <div class="nav-submenu">\n            <div class="caret"></div>\n            <div class="dropdown-box">\n              <ul>\n                <li>\n                  <a href="{{PROFILE_URL}}">{{ PROFILE | translate }}</a>\n                </li>\n                <li class="forum-messages">\n                  <a href="//forum.arduino.cc/index.php?action=pm">{{ MESSAGES | translate }}</a>\n                </li>\n                <li>\n                  <a href="{{DIGITAL_STORE_URL}}subscriptions">{{ SUBSCRIPTIONS | translate }}</a>\n                </li>\n                <li class="logout">\n                  <a>{{ SIGN_OUT | translate }}</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n\n        </li>\n      </ul>\n      \x3c!-- nav right --\x3e\n    </div>\n  </nav>\n  <div id="consent-modal-container"></div>\n</header>\n<nagbar></nagbar>\n');return t="dev"===e.env?(t=t.replace(/{{DIGITAL_STORE_URL}}/g,"https://unistore-dev.arduino.cc/digital/")).replace(/{{PROFILE_URL}}/g,"https://id-dev.arduino.cc"):(t=t.replace(/{{DIGITAL_STORE_URL}}/g,"https://store.arduino.cc/digital/")).replace(/{{PROFILE_URL}}/g,"https://id.arduino.cc")},e.addEventListeners=function(){var e=this;this.loginButtons.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e.auth.login({state:e.opts.state})}))})),this.logoutButtons.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e.auth.logout(!0)}))})),this.searchBar.addEventListener("click",(function(){e.arduinoNav.classList.add("search-open"),e.searchBar.querySelector(".search-typing").focus()}));var t=this.searchFormMobile;this.searchFormMobile.addEventListener("click",(function(e){e.target===this&&t.submit()})),this.burgerMenu.addEventListener("click",(function(){e.drawerIsOpen?e.navLeft.classList.remove("open"):e.navLeft.classList.add("open"),e.navLeft.querySelectorAll(".nav-submenu").forEach((function(e){e.classList.remove("open")})),e.drawerIsOpen=!e.drawerIsOpen,e.hideSubmenus()})),this.navLeft.querySelectorAll(".has-submenu").forEach((function(t){t.addEventListener("click",(function(){e.navLeft.querySelectorAll(".has-submenu").forEach((function(e){e!==t&&e.querySelectorAll(".nav-submenu").forEach((function(e){return e.classList.remove("open")}))})),t.querySelector(".nav-submenu").classList.toggle("open")}))})),this.cartButton.addEventListener("click",(function(){"blocked"!==e.cartSubMenu.style.display?(e.showCart(),e.updateCart()):e.hideSubmenus()})),this.wishlistButton.addEventListener("click",(function(){"blocked"!==e.wishlistSubMenu.style.display?(e.showWishlist(),e.updateWishlist()):e.hideSubmenus()})),this.cartButton.addEventListener("mouseleave",(function(){e.hideSubmenus()})),this.container.querySelector(".cart-close-button").addEventListener("click",(function(){e.hideSubmenus()})),this.wishlistButton.addEventListener("mouseleave",(function(){e.hideSubmenus()}))},e.updateProfile=function(){return new Promise(function(e,t){var n,r,i;return Promise.resolve(this.auth.isAuthenticated()).then(function(o){try{if(o)return n=this.container.querySelector(".user-avatar"),r=this.container.querySelector(".default-avatar"),Promise.resolve(this.auth.getProfile()).then(function(e){try{return(i=e).picture&&"https://content.arduino.cc/avatars/default.svg"!==i.picture?(n.src=i.picture,n.style.display="block",r.style.display="none"):(n.style.display="none",r.style.display="block"),a.call(this)}catch(e){return t(e)}}.bind(this),t);function a(){return e()}return a.call(this)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},e.updateCart=function(){return new Promise(function(e,t){var n,r;return Promise.resolve(this.cart.getCount()).then(function(i){try{return n=i,this.cartBadge.innerHTML=n,this.cartBadge.style.display=n>0?"block":"none",Promise.resolve(this.cart.getMiniCart()).then(function(n){try{return(r=n)&&(this.cartSubMenu.querySelector(".dropdown-box").innerHTML=r),e()}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},e.showCart=function(){this.hideSubmenus(),document.body.classList.add("noscroll"),this.cartSubMenu.style.display="block"},e.updateWishlist=function(){return new Promise(function(e,t){var n;return Promise.resolve(this.cart.getWishlist()).then(function(r){try{return(n=r)&&(this.wishlistSubMenu.querySelector(".dropdown-box").innerHTML=n),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},e.showWishlist=function(){this.hideSubmenus(),document.body.classList.add("noscroll"),this.wishlistSubMenu.style.display="block"},e.hideSubmenus=function(){document.body.classList.remove("noscroll"),this.cartSubMenu.style.display="none",this.wishlistSubMenu.style.display="none"},e.detach=function(){for(delete this.container.dataset.ref;this.container.firstChild;)this.container.removeChild(this.container.firstChild)},t}();function Qi(e,t){var n=t.async,r=void 0!==n&&n;return new Promise((function(t,n){var i=window.document.createElement("script");i.src=e,i.onload=t,i.async=r;var o=window.document.getElementsByTagName("script")[0];o.parentNode.insertBefore(i,o),setTimeout(n,2e3)}))}var Wi=function(){var e=t.prototype;function t(e,n){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n)}return e.init=function(e){this.container=e,this.render()},e.render=function(){var e=this;fetch("https://blog.arduino.cc/api/get_recent_posts/").then((function(e){return e.json()})).then((function(t){for(var n=e.container.querySelector(".news-feed"),r=0;r<t.posts.length;r++){var i=document.createElement("a");i.href=t.posts[r].url,i.target="_blank",i.rel="noopener",i.innerText=t.posts[r].title,n.appendChild(i)}})).catch((function(e){console.error(e)})),this.container.innerHTML=t.markup(this)},t.markup=function(){return Ei('<h2>Arduino News</h2>\n<div class="posts-cont scrollable">\n    <div class="news-feed">\n        \x3c!-- content generated in create-nav.js --\x3e\n    </div>\n</div>\n')},t}(),Ni=function(){var e=t.prototype;function t(e){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e)}return e.init=function(e){this.container=e,this.render()},e.render=function(){var e="https://cdn.arduino.cc/video/0"+Math.floor(5*Math.random()+1),t=e+".ogv",n=e+".mp4",r=e+".jpg";this.container.poster=r,window.screen.width<=1024||(this.container.querySelector(".bgvideo_mp4").src=n,this.container.querySelector(".bgvideo_ogg").src=t)},t}(),ji=function(){var e=t.prototype;function t(e,n,r,i){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n,r,i)}return e.init=function(e,t,n,r){this.container=e,this.auth=t,this.api=n,this.opts=r,this.first=!0,this.render(r)},e.toggle=function(){this.container.classList.toggle("create-nav-expanded");var e=this.container.querySelector(".bgvideo");return this.container.classList.contains("create-nav-expanded")?e.play().catch((function(e){console.debug("↓ error below means background video is not playing, probably because of chrome limitations"),console.error(e)})):e.pause()},e.render=function(e){return new Promise(function(n,r){var i,o,a;return i=this,this.first?(this.first=!1,this.container.innerHTML=t.markup(e),!0===this.opts.fullscreen&&this.container.classList.toggle("fullscreen",!0),this.toggleButton=this.container.querySelector(".create-nav-toggle"),this.loginButtons=this.container.querySelectorAll(".login-button"),this.logoutButtons=this.container.querySelectorAll(".logout"),this.profiles=this.container.querySelectorAll(".user-profile"),o=this.container.querySelector(".bgvideo"),this.bgvideo=new Ni(o),this.loginButtons.forEach((function(e){e.style.display="none"})),this.profiles.forEach((function(e){e.style.display="none"})),this.logoutButtons.forEach((function(e){e.style.display="none"})),this.toggleButton.addEventListener("click",(function(){i.toggle()})),this.showOptionalBanner(),a=this.container.querySelector(".new-feed-cont"),Promise.resolve(new Promise(function(t,n){var r;if(r=!e.noAds)return Promise.resolve(this.canShowAds()).then(function(e){try{return r=e,i.call(this)}catch(e){return n(e)}}.bind(this),n);function i(){return t(r)}return i.call(this)}.bind(this))).then(function(e){try{return e?(this.initAds(),a.style.display="none"):(this.container.querySelector(".adv-banner").style.display="none",this.news=new Wi(a)),this.renderProfile(),n()}catch(e){return r(e)}}.bind(this),r)):n(this.renderProfile())}.bind(this))},e.renderProfile=function(){return new Promise(function(e,t){return this.auth.isInitialized()?Promise.resolve(this.auth.isAuthenticated()).then(function(n){try{return n?Promise.resolve(this.updateProfile()).then(function(e){try{return this.profiles.forEach((function(e){e.style.display="block"})),this.logoutButtons.forEach((function(e){e.style.display="block"})),r.call(this)}catch(e){return t(e)}}.bind(this),t):(this.loginButtons.forEach((function(e){e.style.display="block"})),r.call(this));function r(){return this.nagbar=new Pi(this.container.querySelector("nagbar"),this.auth,this.api),this.addEventListeners(),e()}}catch(e){return t(e)}}.bind(this),t):e()}.bind(this))},t.markup=function(e){var t=Ei('<div class="create-nav">\n    <div class="icons" style="display: none;">\n        <svg xmlns="http://www.w3.org/2000/svg">\n            <symbol viewBox="0 0 18 18" id="icon-Global-Menu_Home-BBCube">\n                <title>Toggle Navigation</title>\n                <g>\n                    <path d="M4 3.158C4 3.623 3.623 4 3.158 4H.842C.377 4 0 3.623 0 3.158V.842C0 .377.377 0 .842 0h2.316C3.623 0 4 .377 4 .842v2.316zM18 3.158c0 .465-.377.842-.842.842h-2.316C14.377 4 14 3.623 14 3.158V.842c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 3.158c0 .465-.377.842-.842.842H7.842C7.377 4 7 3.623 7 3.158V.842C7 .377 7.377 0 7.842 0h2.316c.465 0 .842.377.842.842v2.316zM4 17.158c0 .465-.377.842-.842.842H.842C.377 18 0 17.623 0 17.158v-2.316C0 14.377.377 14 .842 14h2.316c.465 0 .842.377.842.842v2.316zM18 17.158c0 .465-.377.842-.842.842h-2.316c-.465 0-.842-.377-.842-.842v-2.316c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 17.158c0 .465-.377.842-.842.842H7.842C7.377 18 7 17.623 7 17.158v-2.316c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM4 10.158c0 .465-.377.842-.842.842H.842C.377 11 0 10.623 0 10.158V7.842C0 7.377.377 7 .842 7h2.316c.465 0 .842.377.842.842v2.316zM18 10.158c0 .465-.377.842-.842.842h-2.316c-.465 0-.842-.377-.842-.842V7.842c0-.465.377-.842.842-.842h2.316c.465 0 .842.377.842.842v2.316zM11 10.158c0 .465-.377.842-.842.842H7.842C7.377 11 7 10.623 7 10.158V7.842C7 7.377 7.377 7 7.842 7h2.316c.465 0 .842.377.842.842v2.316z">\n                    </path>\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 130.208 28.333" id="icon-Global-WebApp_Compressed">\n                <title>Create Logo</title>\n                <g>\n                    <path d="M51.066 14.02c0-6.424-5.416-11.655-12.082-11.655-.612 0-1.24.045-1.854.13-5.18.738-8.646 4.463-10.588 7.32-1.942-2.856-5.41-6.58-10.583-7.32-.62-.085-1.243-.13-1.86-.13-6.663 0-12.084 5.23-12.084 11.654 0 6.425 5.422 11.654 12.082 11.654.615 0 1.242-.047 1.862-.13 5.175-.744 8.64-4.467 10.583-7.33 1.942 2.863 5.407 6.586 10.588 7.33.615.083 1.243.13 1.863.13 6.656 0 12.073-5.228 12.073-11.655zm-35.69 7.432c-.43.062-.856.097-1.28.097-4.384 0-7.95-3.38-7.95-7.53S9.71 6.49 14.1 6.49c.42 0 .848.034 1.275.093 4.88.698 7.865 5.508 8.877 7.433-1.016 1.932-4 6.74-8.877 7.434zm13.463-7.433c1.007-1.93 3.995-6.736 8.87-7.434.426-.06.857-.093 1.273-.093 4.387 0 7.95 3.38 7.95 7.527 0 4.15-3.563 7.53-7.943 7.53-.42 0-.855-.035-1.282-.097-4.874-.695-7.86-5.505-8.87-7.434z">\n                    </path>\n                    <rect x="10.77" y="12.884" width="7.257" height="2.335"></rect>\n                    <polygon points="39.79,15.219 42.246,15.219 42.246,12.884 39.79,12.884 39.79,10.422 37.45,10.422 37.45,12.884 34.989,12.884 34.989,15.219 37.45,15.219 37.45,17.68 39.79,17.68">\n                    </polygon>\n                    <path d="M51.934 2.826c-.09-.21-.215-.393-.365-.542-.15-.15-.33-.27-.53-.36-.207-.09-.426-.134-.66-.134-.237 0-.46.043-.663.133-.204.09-.382.21-.53.36-.15.15-.274.334-.364.543-.088.208-.135.432-.135.68 0 .233.047.46.135.67.09.218.214.397.363.55.15.154.327.274.53.362.205.09.428.137.663.137.235 0 .453-.045.66-.137.202-.088.38-.208.53-.36.148-.154.274-.334.364-.55.088-.21.133-.44.133-.672 0-.248-.045-.472-.133-.68zm-.375 1.2c-.066.162-.16.3-.28.42-.123.122-.257.217-.41.29-.15.07-.312.107-.49.107-.18 0-.35-.038-.502-.107-.16-.073-.292-.168-.41-.29-.114-.12-.206-.258-.273-.42-.065-.16-.1-.332-.1-.52s.035-.364.1-.527c.067-.17.16-.308.273-.43.118-.12.25-.214.41-.28.153-.067.322-.102.5-.102.18 0 .343.035.493.1.153.068.288.162.41.283.12.123.214.26.28.43.068.162.104.338.104.525 0 .188-.035.36-.105.522zM50.745 3.67c.096-.044.168-.115.22-.2.053-.083.08-.178.08-.28 0-.162-.06-.302-.172-.42-.116-.12-.31-.176-.582-.176-.104 0-.195 0-.276.008-.082.004-.16.01-.236.018v1.69h.427v-.556h.172l.297.557h.48l-.41-.64zm-.424-.227c-.057 0-.098-.004-.126-.013v-.455c.028-.008.075-.017.138-.017.182 0 .273.085.273.245 0 .162-.093.24-.284.24z">\n                    </path>\n                </g>\n                <g>\n                    <path d="M79.724 11.917c0-1.647-.737-2.264-2.487-2.264h-2.162v4.426h2.248c1.338-.002 2.4-.5 2.4-2.163z">\n                    </path>\n                    <polygon points="96.968,15.502 100.691,15.502 98.821,9.91"></polygon>\n                    <path d="M58.66 2.498v23.074h69.573V2.498H58.66zm9.002 17.276c-3.07 0-5.147-1.664-5.147-5.678 0-3.74 2.145-5.8 5.3-5.8 1.133 0 2.3.276 2.934.67l-.464 1.287c-.635-.515-1.63-.755-2.505-.755-2.538 0-3.79 1.647-3.79 4.563 0 3.02 1.252 4.53 3.774 4.53 1.115 0 2.264-.326 2.796-.67l.344 1.168c-.875.463-2.04.686-3.242.686zm12.44-.172l-2.402-4.34h-2.625v4.34h-1.39V8.453h3.604c2.812 0 3.893 1.183 3.893 3.413 0 1.56-.79 2.642-2.076 3.122l2.642 4.615H80.1zm11.94-9.95h-6.175v3.637h5.593v1.183h-5.593v3.91h6.176v1.22h-7.565V8.45h7.565v1.202zm10.02 9.95l-.995-2.95H96.59l-.96 2.95h-1.39l3.894-11.15h1.475l3.91 11.15h-1.457zm11.12-9.95h-3.842v9.95h-1.39v-9.95h-3.86v-1.2h9.092v1.2zm10.054 0h-6.176v3.637h5.593v1.183h-5.593v3.91h6.176v1.22h-7.565V8.45h7.566v1.202z">\n                    </path>\n                </g>\n            </symbol>\n            <symbol viewBox="0 0 24.202 24.276" id="icon-Global-user-profile">\n                <title>User Profile</title>\n                <path d="M20.912 19.718h-1c0-3.827-.883-6.2-5.28-6.2h-5.44c-4.397 0-5.28 2.23-5.28 5.825h-1v-.115c.017-3.337.81-6.71 6.28-6.71h5.44c5.534 0 6.28 3.64 6.28 7.2zM11.95 13.156c-2.464 0-4.468-2.1-4.468-4.68s2.004-4.68 4.467-4.68c2.462 0 4.466 2.1 4.466 4.68s-2.004 4.68-4.467 4.68zm0-8.36c-1.913 0-3.468 1.65-3.468 3.68 0 2.03 1.555 3.68 3.467 3.68 1.91 0 3.466-1.65 3.466-3.68 0-2.03-1.555-3.68-3.467-3.68zM12.034 23.98C5.436 23.98.07 18.61.07 12.013S5.435.05 12.033.05 24 5.415 24 12.013 18.63 23.98 12.033 23.98zm0-22.43C6.264 1.55 1.57 6.242 1.57 12.013S6.262 22.48 12.033 22.48 22.5 17.783 22.5 12.013 17.803 1.55 12.033 1.55z">\n                </path>\n            </symbol>\n            <symbol viewBox="0 0 20.597 18.807" id="icon-Home-Grid-Open_in_new">\n                <title>Open Link in New Tab</title>\n                <rect x="14.542" y="-.105" transform="matrix(-.707 -.707 .707 -.707 23.247 19.503)" width="2.241" height="10.084"></rect>\n                <path d="M20.597 1.123c0-.62-.5-1.12-1.12-1.12h-7.843V2h6.93v6.966h2.033V1.123zM19.24 18.807H1.356c-.747 0-1.355-.64-1.355-1.424V1.426C0 .64.608.003 1.355.003H8.24l.03 1.982H1.99l-.03 14.807h16.604v-3.988h2.032v4.58c0 .784-.608 1.423-1.355 1.423z">\n                </path>\n            </symbol>\n        </svg>\n    </div>\n    <div class="nav-bar">\n        <button aria-label="Open Dropdown Navigation" class="create-nav-toggle" title="Toggle Navigation">\n            <svg class="menu-toggle">\n                <use xlink:href="#icon-Global-Menu_Home-BBCube"></use>\n            </svg>\n        </button>\n        <a href="https://www.arduino.cc" class="arduino-home" title="Arduino Home">\n            <img src="https://content.arduino.cc/brand/arduino_compressed-white.svg" alt="Go to Arduino Home">\n        </a>\n\n        <a class="what-is" href="https://www.arduino.cc/en/Main/Create" rel="noopener" target="_blank">What is Arduino\n            Create?</a>\n\n        <div class="desktop-only">\n            <a class="login-button">\n                SIGN IN\n            </a>\n\n            <div data-hj-suppress class="user-profile popover-container">\n                <div class="arduino-popover-target">\n                    <svg class="avatar default-avatar">\n                        <use xlink:href="#icon-Global-user-profile"></use>\n                    </svg>\n                    <img class="avatar user-avatar">\n                </div>\n\n                <div class="arduino-popover">\n                    <div class="inner">\n                        <div class="popover-content">\n                            <ul>\n                                <li>\n                                    <a target="_blank" rel="noopener" href="{{PROFILE_URL}}">\n                                        Profile\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href="{{DIGITAL_STORE_URL}}subscriptions">{{ SUBSCRIPTIONS | translate }}</a>\n                                </li>\n                                <li>\n                                    <a class="logout">\n                                        Sign Out\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="nav-overlay">\n\n    </div>\n\n    <div class="grid-nav-wrapper">\n\n        \x3c!-- VIDEO BACKGROUND --\x3e\n        <video poster="" preload="metadata" loop muted class="bgvideo">\n            <source src="" type="video/mp4" class="bgvideo_mp4">\n            <source src="" type="video/ogg" class="bgvideo_ogg">\n        </video>\n        \x3c!-- gradient overlay --\x3e\n        <div class="home-gradient"></div>\n\n        <div class="columns">\n            <div class="columns-left">\n                \x3c!-- FEED --\x3e\n                <div class="new-feed-cont"></div>\n\n                \x3c!-- CHROME APP PLANS BANNER --\x3e\n                \x3c!-- https://content.arduino.cc/banner/banner.js specific class should-be present--\x3e\n                <div class="adv-banner">\n                    <div id="ad_container_zone"></div>\n                </div>\n            </div>\n            \n\n            \x3c!-- HOME GRID --\x3e\n            <div class="grid-nav columns-middle">\n                <div class="grid-row">\n                    <a href="{{CREATE_URL}}/editor" target="_self" id="webide">\n                        <div class="button">\n                            <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-web-editor.svg" alt="">\n                            <p class="desktop-text">Web Editor</p>\n                            <p class="mobile-text">Web Editor</p>\n                        </div>\n                    </a>\n\n                    <a href="{{CREATE_URL}}/iot" target="_self" id="iot" class="cloud">\n                        <div class="button">\n                            <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-iot-cloud.svg" alt="">\n                            <p class="desktop-text">IoT Cloud</p>\n                            <p class="mobile-text">IoT Cloud</p>\n                        </div>\n                    </a>\n\n\n                </div>\n\n                <div class="grid-row">\n                    <a href="{{CREATE_URL}}/devices" target="_self" id="devices">\n                        <div class="button">\n                            <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-device-manager.svg" alt="">\n                            <p class="desktop-text">Manager for Linux</p>\n                            <p class="mobile-text">Manager for Linux</p>\n                        </div>\n                    </a>\n\n                    <a href="{{DIGITAL_STORE_URL}}" target="_self" id="digital-store">\n                        <div class="button">\n                            <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-digital-store.svg" alt="">\n                            <p class="desktop-text">Digital Store</p>\n                            <p class="mobile-text">Digital Store</p>\n                        </div>\n                    </a>\n                </div>\n\n                <div class="mobile-only">\n                    <a href="{{CREATE_URL}}/plans/" target="_self">\n                        <div class="button">\n                            <p class="mobile-text">\n                                CHROME OS EDU PLANS\n                            </p>\n                        </div>\n                    </a>\n\n                    <a class="login-button mobile-button">\n                        <div class="button">\n                            <p class="mobile-text">Sign In</p>\n                        </div>\n                    </a>\n\n                    <a href="{{PROFILE_URL}}" target="_blank" rel="noopener" class="mobile-button user-profile">\n                        <div class="button">\n                            <p class="mobile-text">Profile</p>\n                        </div>\n                    </a>\n\n                    <a href="{{DIGITAL_STORE_URL}}subscriptions" target="_blank" rel="noopener" class="mobile-button user-profile">\n                        <div class="button">\n                            <p class="mobile-text">{{ SUBSCRIPTIONS | translate }}</p>\n                        </div>\n                    </a>\n\n                    <a class="mobile-button user-profile">\n                        <div class="button logout">\n                            <p class="mobile-text">Sign Out</p>\n                        </div>\n                    </a>\n                </div>\n\n            </div>\n\n            <div class="columns-right">\n                \x3c!-- CHROME APP BANNER --\x3e\n                <div class="chromeos-banner optional-banner">\n                    <a href="https://chrome.google.com/webstore/detail/arduino-create/dcgicpihgkmccjigalccipmjlnjopdfe" target="_blank" class="chromeos-cont" rel="noopener">\n                        <h2>NOW CHROME OS READY!</h2>\n                        <img src="https://cdn.arduino.cc/header-footer/prod/assets/Banner-ChromeOS.svg" alt="Chrome OS App. $0.99 month">\n                        <div class="chrome-os-available">Arduino Create is now available on Chrome OS!</div>\n                        <div class="download-chrome-os">Download the App</div>\n                    </a>\n                </div>\n\n                \x3c!-- INTEL BANNER --\x3e\n                <div class="intel-banner optional-banner">\n                    <a class="intel-banner-cont" href="https://blog.arduino.cc/2017/11/03/linux-support-comes-to-arduino-create/" target="_blank" rel="noopener">\n                        <h2>INTEL&reg;-based platforms running Linux are supported!</h2>\n                        <img src="https://cdn.arduino.cc/header-footer/prod/assets/Intel-banner.svg" alt="Intel platforms">\n                        <div class="learn-more-intel-banner">Learn more</div>\n                    </a>\n                </div>\n\n                \x3c!-- CHROME APP PLANS BANNER --\x3e\n                <div class="chrome-app-banner optional-banner">\n                    <a class="chrome-app-banner-cont" href="./plans/" target="_self">\n                        <h2>\n                            DISCOVER THE CHROME APP EDUCATIONAL PLANS!\n                        </h2>\n                        <h2 class="tablet">\n                            Subscribe to Chrome Os Edu Plans!\n                        </h2>\n                        <img src="https://cdn.arduino.cc/header-footer/prod/assets/chromeAppPlans.svg" alt="Chrome App Plans">\n                        <div class="description">\n                            Get your school to code online using the Web Editor on Chrome OS devices.\n                        </div>\n                    </a>\n                </div>\n            </div>\n        </div>\n\n        <img src="https://cdn.arduino.cc/header-footer/prod/assets/AWS_Logo_white.png" class="aws-logo" alt="powered by amazon web services">\n\n        <svg class="logo-bottom" viewBox="0 0 130.208 28.333">\n            <use xlink:href="#icon-Global-WebApp_Compressed"></use>\n        </svg>\n\n        <div id="consent-modal-container"></div>\n    </div>\n</div>\n<nagbar></nagbar>');return t="dev"===e.env?(t=(t=t.replace(/{{CREATE_URL}}/g,"https://create-dev.arduino.cc")).replace(/{{DIGITAL_STORE_URL}}/g,"https://unistore-dev.arduino.cc/digital/")).replace(/{{PROFILE_URL}}/g,"https://id-dev.arduino.cc"):(t=(t=t.replace(/{{CREATE_URL}}/g,"https://create.arduino.cc")).replace(/{{DIGITAL_STORE_URL}}/g,"https://store.arduino.cc/digital/")).replace(/{{PROFILE_URL}}/g,"https://id.arduino.cc")},e.addEventListeners=function(){var e=this;this.loginButtons.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e.auth.login({state:e.opts.state})}))})),this.logoutButtons.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),document.cookie="X-Arduino-Education-Cookie=;path=/;domain=.arduino.cc;expires=Thu, 01-Jan-1970 00:00:01 GMT;",e.auth.logout(!0)}))}))},e.showOptionalBanner=function(){var e=this.container.querySelectorAll(".optional-banner");this.selectedBanner=this.selectedBanner||Math.floor(Math.random()*e.length),e[this.selectedBanner].classList.toggle("optional-banner")},e.canShowAds=function(){return new Promise(function(e,t){if(void 0===this._canShowAds){var n=function(){try{return i.call(this)}catch(e){return t(e)}}.bind(this),r=function(e){try{return this._canShowAds=!1,n()}catch(e){return t(e)}}.bind(this);try{return Promise.resolve(fetch("https://content.arduino.cc/banner/advertisement.js",{method:"HEAD"})).then(function(e){try{return this._canShowAds=!0,n()}catch(e){return r(e)}}.bind(this),r)}catch(e){r(e)}}function i(){return e(this._canShowAds)}return i.call(this)}.bind(this))},e.initAds=function(){return new Promise(function(e,t){var n;if(n=this,!this.adsInitialized)return this.adsInitialized=!0,window.arduinoAdvOptions={breakpointDesktop:1140,breakpointMobile:564,zoneIdDesktop:555,zoneIdTablet:554,zoneIdMobile:553},Promise.resolve(Qi("https://cdnjs.cloudflare.com/ajax/libs/postscribe/2.0.8/postscribe.min.js",{async:!1})).then(function(e){try{return Promise.resolve(Qi("https://content.arduino.cc/banner/banner.js",{async:!1})).then(function(e){try{return setTimeout((function(){try{window.injectFirstTimeArduinoAdv()}catch(t){console.error("Failed to init adds: ",t),n.container.querySelector(".adv-banner").style.display="none";var e=n.container.querySelector(".new-feed-cont");e.style.display="block",n.news=new Wi(e)}}),0),r.call(this)}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t);function r(){return e()}return r.call(this)}.bind(this))},e.updateProfile=function(){return new Promise(function(e,t){var n,r,i;return Promise.resolve(this.auth.isAuthenticated()).then(function(o){try{if(o)return n=this.container.querySelector(".user-avatar"),r=this.container.querySelector(".default-avatar"),Promise.resolve(this.auth.getProfile()).then(function(e){try{return(i=e).picture&&"https://content.arduino.cc/avatars/default.svg"!==i.picture?(n.src=i.picture,n.style.display="block",r.style.display="none"):(n.style.display="none",r.style.display="block"),a.call(this)}catch(e){return t(e)}}.bind(this),t);function a(){return e()}return a.call(this)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t}(),_i=function(){var e=t.prototype;function t(){var e=document.createElement("div");if(document.getElementsByTagName("body")[0].appendChild(e),void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e)}return e.init=function(e){this.container=e,this.render()},e.render=function(){this.container.innerHTML=t.markup(this),this.modal=this.container.querySelector(".modal"),this.backdrop=this.container.querySelector(".modal-backdrop"),this.body=this.container.querySelector(".modal-body"),this.addEventListeners()},e.addEventListeners=function(){this.backdrop.addEventListener("click",this.close.bind(this))},e.open=function(){this.modal.style.display="flex",this.modal.classList.add("open")},e.close=function(){this.modal.classList.remove("open")},t.markup=function(){return Ei('<div class="modal info-modal" style="display: none;">\n    <div class="modal-backdrop"></div>\n    <div class="modal-body">\n        \n    </div>\n</div>')},t}(),Ji=function(){var e=t.prototype;function t(e){this.api=e,this.modal=new _i(document.getElementsByTagName("body")[0]);var n=this.modal.body;if(void 0===t.refs&&(t.refs={}),void 0!==n.dataset.ref)return t.refs[n.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,n.dataset.ref=this.ref,this.init(n)}return e.init=function(e){this.container=e,this.render()},e.render=function(){this.container.innerHTML=t.markup(this),this.cancel=this.container.querySelector(".cancel"),this.submit=this.container.querySelector(".submit"),this.privacyError=this.container.querySelector(".privacy-error"),this.newsletterError=this.container.querySelector(".newsletter-error"),this.privacyConsent=this.container.querySelector("#privacy-consent"),this.newsletterConsent=this.container.querySelector("#newsletter-consent"),this.marketingConsent=this.container.querySelector("#marketing-consent"),this.trackingConsent=this.container.querySelector("#tracking-consent"),this.addEventListeners()},t.markup=function(){return Ei('<div class="privacy">\n\n    <h1>{{ PRIVACY_TITLE | translate }}</h1>\n\n    <div>\n        <p>\n            {{ INTRO_START | translate }}<a href="https://www.arduino.cc/en/Main/PrivacyPolicy" target="_blank" rel="noopener">{{ INTRO_PRIVACY | translate }}</a>{{ INTRO_END | translate }}\n        </p>\n\n        <ul class="privacy-settings">\n            <li>\n                <div class="upper-error-notif privacy-error">Please confirm that you have read the privacy policy</div>\n                <label class="checkbox">\n        <input type="checkbox" id="privacy-consent" name="privacy-consent" value="privacy_approval">\n\n        <span class="custom-checkbox"></span>\n        <span>{{ CONFIRM_READING | translate }}<span class="required-asterisk">*</span></span>\n      </label>\n            </li>\n            <li>\n                <div class="upper-error-notif newsletter-error">Please confirm your consent to receive the newsletter</div>\n                <label class="checkbox">\n        <input type="checkbox" id="newsletter-consent" name="newsletter-consent" value="newsletter_approval" checked="checked">\n\n        <span class="custom-checkbox"></span>\n        <span>{{ CONFIRM_NEWSLETTER | translate }}<span class="required-asterisk">*</span></span>\n      </label>\n            </li>\n            <li>\n                <label class="checkbox">\n        <input type="checkbox" id="marketing-consent" value="marketing_approval">\n        <span class="custom-checkbox"></span>\n        <span>{{ CONFIRM_MARKETING | translate }}</span>\n      </label>\n            </li>\n            <li>\n                <label class="checkbox">\n        <input type="checkbox" id="tracking-consent" value="tracking_approval">\n        <span class="custom-checkbox"></span>\n        <span>{{ CONFIRM_PERSONAL_DATA | translate }}</span>\n      </label>\n            </li>\n        </ul>\n        <div class="my-error-notification">\n            <div id="newsletterSubscribeStatus"></div>\n        </div>\n        <section class="buttons-wrapper">\n            <button name="Cancel" class="button secondary cancel">Cancel</button>\n            <button name="Ok" class="primary button submit">Ok</button>\n        </section>\n    </div>\n</div>')},e.resetForm=function(){this.submit.classList.remove("busy"),this.privacyConsent.checked=!1,this.newsletterConsent.checked=!0,this.marketingConsent.checked=!1,this.trackingConsent.checked=!1,this.privacyError.style.display="none",this.newsletterError.style.display="none"},e.addEventListeners=function(){var e=this;this.cancel.addEventListener("click",this.close.bind(this)),this.submit.addEventListener("click",(function(){if(e.privacyConsent.checked)if(e.privacyError.style.display="none",e.newsletterConsent.checked){e.newsletterError.style.display="none",e.submit.classList.add("busy");var t=new CustomEvent("submit",{detail:{newsletter_approval:e.newsletterConsent.checked,privacy_approval:e.privacyConsent.checked,marketing_approval:e.marketingConsent.checked,tracking_approval:e.trackingConsent.checked}});e.container.dispatchEvent(t)}else e.newsletterError.style.display="block";else e.privacyError.style.display="block"}))},e.open=function(){this.modal.open()},e.close=function(){this.modal.close(),this.resetForm()},e.addEventListener=function(e,t){this.container.addEventListener(e,t)},t}(),Yi=function(){var e=t.prototype;function t(){this.modal=new _i(document.getElementsByTagName("body")[0]);var e=this.modal.body;if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e)}return e.init=function(e){this.container=e,this.render()},e.render=function(){this.container.innerHTML=t.markup(this),this.submit=this.container.querySelector(".submit"),this.addEventListeners()},t.markup=function(){return Ei('<div class="confirm">\n  <h1>Confirm your email address</h1>\n  <p>\n    We need to confirm your email address.<br> To complete the subscription, please click the link in the email we just sent you.\n  </p>\n  <p>\n    Thank you for subscribing!\n  </p>\n  <section class="buttons-wrapper">\n    <button name="Ok" class="button submit">Ok</button>\n  </section>\n</div>')},e.addEventListeners=function(){this.submit.addEventListener("click",this.close.bind(this))},e.open=function(){this.modal.open()},e.close=function(){this.modal.close()},e.addEventListener=function(e,t){this.container.addEventListener(e,t)},t}(),Mi=function(){var e=t.prototype;function t(e,n,r,i){if(this.auth=n,this.api=r,this.tag=i,void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e)}return e.init=function(e){this.container=e,this.render()},e.render=function(){this.container.innerHTML=t.markup(this),this.input=this.container.querySelector("#newsletter-email"),this.submit=this.container.querySelector("#subscribe-btn"),this.emailError=this.container.querySelector("#newsletter-email-error"),this.privacy=new Ji,this.confirm=new Yi,this.addEventListeners()},t.markup=function(){return Ei('<div class="newsletter-form">\n    <h4 id="newsletter-input-label">{{ NEWSLETTER | translate }}</h4>\n    <div class="subscribe-wrapper">\n        <div id="newsletter-email-error" class="upper-error-notif">Please insert a valid email</div>\n        <div class="input-wrapper">\n            <input id="newsletter-email" aria-labelledby="newsletter-input-label" type="email" name="email" class="email" placeholder="{{ EMAIL_PLACEHOLDER | translate }}">\n            <button id="subscribe-btn" aria-label="Subscribe" class="button">{{ SUBSCRIBE | translate }}</button>\n        </div>\n    </div>\n</div>')},e.addEventListeners=function(){var e=this,t=function(){var t;t=e.input.value,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?(e.emailError.style.display="none",e.privacy.open()):e.emailError.style.display="block"};this.input.addEventListener("keypress",(function(e){13===e.charCode&&t()})),this.submit.addEventListener("click",t),this.privacy.addEventListener("submit",(function(t){var n=t.detail;e.tag&&(n.tag=e.tag),n.email=e.input.value,e.api.createSubscription(n).then((function(){e.privacy.close(),e.confirm.open()}))}))},t}();var Di=function(){var e=t.prototype;function t(e,n,r){if(this.auth=n,this.api=r,void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n)}return e.init=function(e){this.container=e,this.render()},e.render=function(){this.container.innerHTML=t.markup(this),this.scrollToTopButton=this.container.querySelectorAll("#go-top"),this.container.querySelector("#current-year").innerHTML=(new Date).getFullYear(),this.container.querySelector("#current-year").innerHTML=(new Date).getFullYear(),this.newsletter=new Mi(this.container.querySelector("newsletter"),this.auth,this.api),this.addEventListeners()},e.addEventListeners=function(){this.scrollToTopButton.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))}()}))}))},t.markup=function(){return Ei('<div id="footer-block">\n  <newsletter></newsletter>\n  <section class="footer-links-wrapper">\n    <ul id="footer-list">\n      <li>\n        <a href="//www.arduino.cc/en/Main/TermsOfService">\n          <span class="text">{{ COPYRIGHT | translate }}</span>\n        </a>\n      </li>\n      <li>\n        <a href="//www.arduino.cc/en/Main/PrivacyPolicy">\n          <span class="text">{{ PRIVACY_POLICY | translate }}</span>\n        </a>\n      </li>\n      <li>\n        <div id="teconsent">\n        </div>\n      </li>\n      <li>\n        <a href="//www.arduino.cc/en/contact-us">\n          <span class="text">{{ CONTACT_US | translate }}</span>\n        </a>\n      </li>\n      <li>\n        <a href="//www.arduino.cc/en/Trademark/HomePage">\n          <span class="text">{{ TRADEMARK | translate }}</span>\n        </a>\n      </li>\n      <li>\n        <a href="//store.arduino.cc/distributors">\n          <span class="text">{{ DISTRIBUTORS | translate }}</span>\n        </a>\n      </li>\n      <li>\n        <a href="//careers.arduino.cc">\n          <span class="text">{{ CAREERS | translate }}</span>\n        </a>\n      </li>\n      <li>\n        <a href="//www.arduino.cc/en/Main/Security">\n          <span class="text">{{ SECURITY | translate }}</span>\n        </a>\n      </li>\n    </ul>\x3c!-- footer-list --\x3e\n    <div class="footer-note">\n      <p>\n        <a href="//www.arduino.cc/en/Main/CopyrightNotice">\n          <span class="text">\n            &#169; <span id="current-year"></span> Arduino\n          </span>\n        </a>\n      </p>\n    </div>\n  </section>\n  <ul class="social-btn-list">\n    <li>\n      <a href="https://www.facebook.com/official.arduino" target="_blank" id="facebook" class="facebook" rel="noopener">\n        <img src="https://content.arduino.cc/website/social_icons/icon-facebook.svg" alt="facebook">\n        <p class="follow-us">{{ FACEBOOK | translate }}</p>\n      </a>\n    </li>\n    <li>\n      <a href="https://twitter.com/arduino" target="_blank" id="twitter" class="twitter" rel="noopener">\n        <img src="https://content.arduino.cc/website/social_icons/icon-twitter.svg" alt="twitter">\n        <p class="follow-us">{{ TWITTER | translate }}</p>\n      </a>\n    </li>\n    <li>\n      <a href="https://www.instagram.com/arduino.cc/" target="_blank" id="instagram" class="instagram" rel="noopener">\n        <img src="https://content.arduino.cc/website/social_icons/icon-instagram.svg" alt="instagram">\n        <p class="follow-us">{{ INSTAGRAM | translate }}</p>\n      </a>\n    </li>\n    <li>\n      <a href="https://github.com/arduino/" target="_blank" id="github" class="github" rel="noopener">\n        <img src="https://content.arduino.cc/website/social_icons/icon-github.svg" alt="github">\n        <p class="follow-us">{{ GITHUB | translate }}</p>\n      </a>\n    </li>\n    <li>\n      <a href="https://www.flickr.com/photos/arduino_cc" target="_blank" id="flickr" class="flickr" rel="noopener">\n        <img src="https://content.arduino.cc/website/social_icons/icon-flickr.svg" alt="flickr">\n        <p class="follow-us">{{ FLICKR | translate }}</p>\n      </a>\n    </li>\n    <li>\n      <a href="https://www.youtube.com/user/arduinoteam" target="_blank" id="youtube" class="youtube" rel="noopener">\n        <img src="https://content.arduino.cc/website/social_icons/icon-youtube.svg" alt="youtube">\n        <p class="follow-us">{{ YOUTUBE | translate }}</p>\n      </a>\n    </li>\n  </ul>\n\n  <button id="go-top" class="go-top-footer-btn" aria-label="Scroll Top">\n    <span class="arrow-1"></span>\n    <span class="arrow-2"></span>\n    <span class="arrow-3"></span>\n  </button>\n</div>\x3c!-- footer-block --\x3e\n')},e.detach=function(){for(delete this.container.dataset.ref;this.container.firstChild;)this.container.removeChild(this.container.firstChild)},t}(),Ki=function(e,t,n){var r=y(t);r in e?A.f(e,r,l(0,n)):e[r]=n},qi=function(e){var t,n,r,i,o,a,s=ke(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,h=ut(s),f=0;if(d&&(l=st(l,u>2?arguments[2]:void 0,2)),null==h||c==Array&&at(h))for(n=new c(t=ce(s.length));t>f;f++)a=d?l(s[f],f):s[f],Ki(n,f,a);else for(o=(i=h.call(s)).next,n=new c;!(r=o.call(i)).done;f++)a=d?lt(i,l,[r.value,f],!0):r.value,Ki(n,f,a);return n.length=f,n},zi=!bt((function(e){Array.from(e)}));Ue({target:"Array",stat:!0,forced:zi},{from:qi});var $i,eo,to,no=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),ro=_("IE_PROTO"),io=Object.prototype,oo=no?Object.getPrototypeOf:function(e){return e=ke(e),I(e,ro)?e[ro]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?io:null},ao=Qe("iterator"),so=!1;[].keys&&("next"in(to=[].keys())?(eo=oo(oo(to)))!==Object.prototype&&($i=eo):so=!0),null==$i&&($i={}),I($i,ao)||U($i,ao,(function(){return this}));var co,uo={IteratorPrototype:$i,BUGGY_SAFARI_ITERATORS:so},lo=a?Object.defineProperties:function(e,t){R(e);for(var n,r=Ee(t),i=r.length,o=0;i>o;)A.f(e,n=r[o++],t[n]);return e},ho=_("IE_PROTO"),fo=function(){},po=function(e){return"<script>"+e+"<\/script>"},go=function(){try{co=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;go=co?function(e){e.write(po("")),e.close();var t=e.parentWindow.Object;return e=null,t}(co):((t=C("iframe")).style.display="none",St.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(po("document.F=Object")),e.close(),e.F);for(var n=me.length;n--;)delete go.prototype[me[n]];return go()};J[ho]=!0;var mo=Object.create||function(e,t){var n;return null!==e?(fo.prototype=R(e),n=new fo,fo.prototype=null,n[ho]=e):n=go(),void 0===t?n:lo(n,t)},vo=uo.IteratorPrototype,yo=function(){return this},bo=function(e,t,n){var r=t+" Iterator";return e.prototype=mo(vo,{next:l(1,n)}),ze(e,r,!1),rt[r]=yo,e},Io=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return R(n),function(e){if(!v(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),wo=uo.IteratorPrototype,So=uo.BUGGY_SAFARI_ITERATORS,Co=Qe("iterator"),Bo=function(){return this},xo=function(e,t,n,r,i,o,a){bo(n,t,r);var s,c,u,l=function(e){if(e===i&&g)return g;if(!So&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,f=e.prototype,p=f[Co]||f["@@iterator"]||i&&f[i],g=!So&&p||l(i),m="Array"==t&&f.entries||p;if(m&&(s=oo(m.call(new e)),wo!==Object.prototype&&s.next&&(oo(s)!==wo&&(Io?Io(s,wo):"function"!=typeof s[Co]&&U(s,Co,Bo)),ze(s,d,!0))),"values"==i&&p&&"values"!==p.name&&(h=!0,g=function(){return p.call(this)}),f[Co]!==g&&U(f,Co,g),rt[t]=g,i)if(c={values:l("values"),keys:o?g:l("keys"),entries:l("entries")},a)for(u in c)(So||h||!(u in f))&&ee(f,u,c[u]);else Ue({target:t,proto:!0,forced:So||h},c);return c},Fo=ci.charAt,Ro=$.set,Lo=$.getterFor("String Iterator");xo(String,"String",(function(e){Ro(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Lo(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Fo(n,r),t.index+=e.length,{value:e,done:!1})}));var Ao=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};ai("search",1,(function(e,t,n){return[function(t){var n=g(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=R(e),o=String(this),a=i.lastIndex;Ao(a,0)||(i.lastIndex=0);var s=di(i,o);return Ao(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var Uo=A.f,Eo=Function.prototype,ko=Eo.toString,Vo=/^\s*function ([^ (]*)/;a&&!("name"in Eo)&&Uo(Eo,"name",{configurable:!0,get:function(){try{return ko.call(this).match(Vo)[1]}catch(e){return""}}});var Go=function(e,t){var n=e.src,r=e.inline,i=e.cssClass,o=e.altName;return n&&r?(t.innerHTML=n,i&&t.classList.add(i),!0):!(!n||r)&&(t.innerHTML="",t.appendChild(function(e,t){var n=document.createElement("img");return n.src=e,n.alt=t,n}(n,o)),i&&t.classList.add(i),!0)},Ho=function(e,t,n){var r=document.createElement("a");return t&&(r.className=t),e.onClick&&"function"==typeof e.onClick&&r.addEventListener("click",e.onClick),r.innerHTML='<span title="'+(n||e.name)+'">'+(n||e.name)+"</span>",e.url?(r.href=e.url,e.blank&&(r.target="_blank",r.rel="noopener noreferrer")):r.setAttribute("role","button"),r};function Zo(){return document.head||document.getElementsByTagName("head")[0]}function Xo(){document.querySelector(":root").style.setProperty("--vh",window.innerHeight/100+"px")}var To=function(){var e=t.prototype;function t(e,n){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n)}return e.init=function(e,t){return new Promise(function(n,r){return this.container=e,this.render(t),n()}.bind(this))},e.render=function(e){var n=t.markup(this);this.container.innerHTML=n.replace("{{content}}",e),this.container.classList.toggle("visible"),this.addEventListeners()},e.addEventListeners=function(){var e=this;this.container.addEventListener("click",(function(){e.container.style.display="none"}))},t.markup=function(){return'<div class="snackbar-text">\n    {{content}}\n</div>\n<div class="snackbar-actions">\n    <span class="snackbar-close">\n        <svg width="1em" height="1em" viewBox="0 0 32 32" fill="none"><path d="M24.71 23.2899C24.8037 23.3829 24.8781 23.4935 24.9289 23.6154C24.9797 23.7372 25.0058 23.8679 25.0058 23.9999C25.0058 24.132 24.9797 24.2627 24.9289 24.3845C24.8781 24.5064 24.8037 24.617 24.71 24.7099C24.617 24.8037 24.5064 24.8781 24.3846 24.9288C24.2627 24.9796 24.132 25.0057 24 25.0057C23.868 25.0057 23.7373 24.9796 23.6154 24.9288C23.4936 24.8781 23.383 24.8037 23.29 24.7099L16 17.4199L8.71 24.7099C8.61704 24.8037 8.50644 24.8781 8.38458 24.9288C8.26272 24.9796 8.13201 25.0057 8 25.0057C7.86799 25.0057 7.73728 24.9796 7.61542 24.9288C7.49356 24.8781 7.38296 24.8037 7.29 24.7099C7.19627 24.617 7.12188 24.5064 7.07111 24.3845C7.02034 24.2627 6.9942 24.132 6.9942 23.9999C6.9942 23.8679 7.02034 23.7372 7.07111 23.6154C7.12188 23.4935 7.19627 23.3829 7.29 23.2899L14.58 15.9999L7.29 8.70994C7.19676 8.6167 7.1228 8.50601 7.07234 8.38419C7.02188 8.26237 6.99591 8.1318 6.99591 7.99994C6.99591 7.86808 7.02188 7.73751 7.07234 7.61569C7.1228 7.49387 7.19676 7.38318 7.29 7.28994C7.38324 7.1967 7.49393 7.12274 7.61575 7.07228C7.73757 7.02182 7.86814 6.99585 8 6.99585C8.13186 6.99585 8.26243 7.02182 8.38425 7.07228C8.50607 7.12274 8.61676 7.1967 8.71 7.28994L16 14.5799L23.29 7.28994C23.4783 7.10164 23.7337 6.99585 24 6.99585C24.2663 6.99585 24.5217 7.10164 24.71 7.28994C24.8983 7.47825 25.0041 7.73364 25.0041 7.99994C25.0041 8.26624 24.8983 8.52164 24.71 8.70994L17.42 15.9999L24.71 23.2899Z" fill="currentColor"></path></svg>\n    </span>\n</div>'},t}(),Po=Qe("species"),Oo=function(e){return gn>=51||!o((function(){var t=[];return(t.constructor={})[Po]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Qo=Oo("slice"),Wo=Pr("slice",{ACCESSORS:!0,0:0,1:2}),No=Qe("species"),jo=[].slice,_o=Math.max;Ue({target:"Array",proto:!0,forced:!Qo||!Wo},{slice:function(e,t){var n,r,i,o=m(this),a=ce(o.length),s=de(e,a),c=de(void 0===t?a:t,a);if(Ar(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!Ar(n.prototype)?v(n)&&null===(n=n[No])&&(n=void 0):n=void 0,n===Array||void 0===n))return jo.call(o,s,c);for(r=new(void 0===n?Array:n)(_o(c-s,0)),i=0;s<c;s++,i++)s in o&&Ki(r,i,o[s]);return r.length=i,r}});var Jo=[{url:"//www.arduino.cc/pro",name:"{{ PROFESSIONAL | translate }}",shortName:"{{ PRO | translate }}",blank:!0},{url:"//www.arduino.cc/edu",name:"{{ EDUCATION | translate }}",blank:!0,compress:!0},{url:"//store.arduino.cc",name:"{{ STORE | translate }}",blank:!0}],Yo=[{url:"//www.arduino.cc",name:"Arduino.cc",shortName:"Arduino",blank:!0},{url:"//www.arduino.cc/edu",name:"{{ EDUCATION | translate }}",blank:!0,compress:!0},{url:"//store.arduino.cc",name:"{{ STORE | translate }}",blank:!0}],Mo=[{url:"//www.arduino.cc",name:"Arduino.cc",shortName:"Arduino",blank:!0},{url:"//www.arduino.cc/pro",name:"{{ PROFESSIONAL | translate }}",shortName:"{{ PRO | translate }}",blank:!0},{url:"//www.arduino.cc/edu",name:"{{ EDUCATION | translate }}",blank:!0,compress:!0}],Do=[{url:"//www.arduino.cc",name:"Arduino.cc",shortName:"Arduino",blank:!0},{url:"//www.arduino.cc/pro",name:"{{ PROFESSIONAL | translate }}",shortName:"{{ PRO | translate }}",blank:!0},{url:"//store.arduino.cc",name:"{{ STORE | translate }}",blank:!0}],Ko=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.menuList=t.menuApps&&Array.isArray(t.menuApps)?t.menuApps:this._getDefaultList(),this.render()}var t=e.prototype;return t.render=function(){this.container?this.container&&(this.container.classList.add("app-menu-apps"),this.opts.theme&&this.container.classList.add(this.opts.theme),this.container.appendChild(this._createMenu())):window.arduinoHFDebug&&console.error("Empty container")},t._createMenu=function(){var e=this,t=document.createDocumentFragment();return this.menuList.slice(0,3).forEach((function(n){t.appendChild(e._createMenuItem(n))})),t},t._createMenuItem=function(e){var t=document.createElement("div");return t.className="app-menu-apps-link",t.appendChild(this._createMenuLink(e)),t},t._createMenuLink=function(e){var t=document.createElement("a");if(e.url?(t.href=e.url,e.blank&&(t.target="_blank",t.rel="noopener noreferrer")):t.setAttribute("role","button"),e.name){var n=Ei(e.name),r=document.createElement("span");if(r.innerText=n,t.appendChild(r),e.shortName){var i=document.createElement("span");i.innerText=Ei(e.shortName),r.className="link-full",i.className="link-short",t.appendChild(i)}else if(e.compress){var o=document.createElement("span");o.innerText=n.slice(0,3),r.className="link-full",o.className="link-short",t.appendChild(o)}}return t},t._getDefaultList=function(){switch(this.opts.style){case"store":return Mo;case"education":return Do;case"pro":return Yo;default:return Jo}},e}(),qo=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.render()}var t=e.prototype;return t.render=function(){this.container?null!==this.opts.logo&&(this.container.classList.add("app-brand-logo"),this.opts.theme&&this.container.classList.add(this.opts.theme),this.opts.style&&this.container.classList.add("style-"+this.opts.style),this._setupLogo()):window.arduinoHFDebug&&console.error("Empty container")},t._setupLogo=function(){var e=this.opts,t=e.logo,n=e.style;if(t){var r=t.type,i=t.cssClass,o=t.onClick,a=t.url;if(a&&"a"===this.container.tagName.toLowerCase()&&(this.container.href=a),o&&this.container.addEventListener("click",o),Go(t,this.container))return;if(r){var s=this._getLogoByType(r);return this.container.classList.add("logo-"+s),i&&this.container.classList.add(i),void(this.container.innerHTML='<img src="https://cdn.arduino.cc/header-footer/prod/assets/headerLogo-'+s+'.svg" onload="SVGInject(this)"></img>')}}var c=this._getLogoByType(n);this.container.classList.add("logo-"+c),this.container.innerHTML='<img src="https://cdn.arduino.cc/header-footer/prod/assets/headerLogo-'+c+'.svg" onload="SVGInject(this)"></img>'},t._getLogoByType=function(e){switch(e){case"store":return"store";case"education":return"education";default:return"arduino"}},e}(),zo=function(){function e(e,t,n,r,i){this.auth=r,this.opts=i,this.container=e,this.containerDesktop=t,this.containerMobile=n,this.render()}var t=e.prototype;return t.render=function(){var e=this;if(this.container)if(this.containerDesktop)if(this.containerMobile){var t=function(t,n,r){var i;t?(t.innerHTML=(i=Ei(n),i="dev"===e.opts.env?(i=(i=i.replace(/{{CREATE_URL}}/g,"https://create-dev.arduino.cc")).replace(/{{DIGITAL_STORE_URL}}/g,"https://unistore-dev.arduino.cc/digital/")).replace(/{{PROFILE_URL}}/g,"https://id-dev.arduino.cc"):(i=(i=i.replace(/{{CREATE_URL}}/g,"https://create.arduino.cc")).replace(/{{DIGITAL_STORE_URL}}/g,"https://store.arduino.cc/digital/")).replace(/{{PROFILE_URL}}/g,"https://id.arduino.cc")),t.classList.add(r),e.opts.theme&&t.classList.add(e.opts.theme),e.opts.style&&t.classList.add("style-"+e.opts.style)):console.error("Can't find profile container.")};t(this.containerDesktop,'\x3c!-- Sign In --\x3e\n<div class="login-button">\n  <a href="#">\n    <span>{{ SIGN_IN | translate }}</span>\n  </a>\n</div>\n\n\x3c!-- Profile view --\x3e\n<div class="profile-dropdown popup-dropdown" tabindex="0">\n  <a data-hj-suppress class="submenu-toggle profile-avatar" aria-label="user profile">\n    <svg viewBox="0 0 22 22" class="avatar default-avatar">\n      <path d="M11 11.7498H10.88C9.99585 11.7184 9.1594 11.341 8.55072 10.6989C7.94204 10.0569 7.6098 9.20152 7.62553 8.31694C7.64126 7.43237 8.0037 6.58934 8.63483 5.96934C9.26595 5.34934 10.1153 5.00195 11 5.00195C11.8847 5.00195 12.7341 5.34934 13.3652 5.96934C13.9963 6.58934 14.3587 7.43237 14.3745 8.31694C14.3902 9.20152 14.058 10.0569 13.4493 10.6989C12.8406 11.341 12.0042 11.7184 11.12 11.7498H11Z" fill="currentColor"/>\n      <path d="M17.9752 18.65C17.9857 18.7012 18.0007 18.7514 18.0202 18.8C16.0921 20.535 13.5902 21.495 10.9964 21.495C8.40264 21.495 5.90067 20.535 3.97266 18.8C3.99462 18.7516 4.01219 18.7014 4.02516 18.65C4.38847 17.1001 5.26936 15.7205 6.52245 14.7387C7.77553 13.757 9.3259 13.2318 10.9177 13.25H11.0827C12.6744 13.2318 14.2248 13.757 15.4779 14.7387C16.7309 15.7205 17.6118 17.1001 17.9752 18.65Z" fill="currentColor"/>\n      <path d="M21.5004 10.9998C21.5108 13.3645 20.7174 15.6626 19.2504 17.5173C18.8356 16.2987 18.1466 15.1916 17.2363 14.2814C16.3261 13.3712 15.219 12.6821 14.0004 12.2673C14.8135 11.6501 15.4123 10.7933 15.7124 9.81765C16.0126 8.842 15.9989 7.79676 15.6733 6.82931C15.3477 5.86186 14.7266 5.02102 13.8977 4.42536C13.0687 3.8297 12.0737 3.50928 11.0529 3.50928C10.0321 3.50928 9.03713 3.8297 8.20818 4.42536C7.37922 5.02102 6.75816 5.86186 6.43256 6.82931C6.10697 7.79676 6.09327 8.842 6.39341 9.81765C6.69354 10.7933 7.29236 11.6501 8.10542 12.2673C6.88682 12.6821 5.77973 13.3712 4.8695 14.2814C3.95927 15.1916 3.2702 16.2987 2.85542 17.5173C1.79166 16.2095 1.05841 14.6648 0.717686 13.0138C0.376957 11.3629 0.438759 9.65409 0.897868 8.03203C1.35698 6.40996 2.19989 4.92228 3.35535 3.69477C4.51081 2.46726 5.94484 1.536 7.5362 0.979724C9.12757 0.423451 10.8295 0.25852 12.498 0.498875C14.1666 0.73923 15.7528 1.3778 17.1224 2.36061C18.4921 3.34341 19.605 4.64156 20.367 6.14528C21.129 7.64901 21.5178 9.31411 21.5004 10.9998Z" fill="currentColor"/>\n    </svg>      \n    <img class="avatar user-avatar" src="https://cdn.arduino.cc/header-footer/prod/assets/global_user_profile.svg" alt="User Profile">\n    <span class="badge">0</span>\n  </a>\n  <div class="popup-container">\n    <div class="popup-container__box">\n      <ul>\n        <li>\n          <a href="{{PROFILE_URL}}"><span>{{ PROFILE | translate }}</span></a>\n        </li>\n        <li class="forum-messages">\n          <a href="//forum.arduino.cc/index.php?action=pm"><span>{{ MESSAGES | translate }}</span></a>\n        </li>\n        <li>\n          <a href="{{DIGITAL_STORE_URL}}subscriptions"><span>{{ SUBSCRIPTIONS | translate }}</span></a>\n        </li>\n        <li class="logout">\n          <a role="button" tabindex="0"><span>{{ SIGN_OUT | translate }}</span></a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>',"app-desktop-profile-container"),t(this.containerMobile,'\x3c!-- Sign In --\x3e\n<div class="login-button">\n  <a href="#">\n    <span>{{ SIGN_IN | translate }}</span>\n  </a>\n</div>\n\x3c!-- User profile --\x3e\n<div class="profile-dropdown">\n  <div class="profile-menu">\n    <div class="profile-menu__item">\n      <a href="{{PROFILE_URL}}">{{ PROFILE | translate }}</a>\n    </div>\n    <div class="profile-menu__item">\n      <a href="//forum.arduino.cc/index.php?action=pm">{{ MESSAGES | translate }}</a>\n    </div>\n    <div class="profile-menu__item">\n      <a href="{{DIGITAL_STORE_URL}}subscriptions">{{ SUBSCRIPTIONS | translate }}</a>\n    </div>\n  </div>\n  <div class="profile-info">\n    <div class="profile-avatar" aria-label="user profile">\n      <svg viewBox="0 0 22 22" class="avatar default-avatar">\n        <path d="M11 11.7498H10.88C9.99585 11.7184 9.1594 11.341 8.55072 10.6989C7.94204 10.0569 7.6098 9.20152 7.62553 8.31694C7.64126 7.43237 8.0037 6.58934 8.63483 5.96934C9.26595 5.34934 10.1153 5.00195 11 5.00195C11.8847 5.00195 12.7341 5.34934 13.3652 5.96934C13.9963 6.58934 14.3587 7.43237 14.3745 8.31694C14.3902 9.20152 14.058 10.0569 13.4493 10.6989C12.8406 11.341 12.0042 11.7184 11.12 11.7498H11Z" fill="currentColor"/>\n        <path d="M17.9752 18.65C17.9857 18.7012 18.0007 18.7514 18.0202 18.8C16.0921 20.535 13.5902 21.495 10.9964 21.495C8.40264 21.495 5.90067 20.535 3.97266 18.8C3.99462 18.7516 4.01219 18.7014 4.02516 18.65C4.38847 17.1001 5.26936 15.7205 6.52245 14.7387C7.77553 13.757 9.3259 13.2318 10.9177 13.25H11.0827C12.6744 13.2318 14.2248 13.757 15.4779 14.7387C16.7309 15.7205 17.6118 17.1001 17.9752 18.65Z" fill="currentColor"/>\n        <path d="M21.5004 10.9998C21.5108 13.3645 20.7174 15.6626 19.2504 17.5173C18.8356 16.2987 18.1466 15.1916 17.2363 14.2814C16.3261 13.3712 15.219 12.6821 14.0004 12.2673C14.8135 11.6501 15.4123 10.7933 15.7124 9.81765C16.0126 8.842 15.9989 7.79676 15.6733 6.82931C15.3477 5.86186 14.7266 5.02102 13.8977 4.42536C13.0687 3.8297 12.0737 3.50928 11.0529 3.50928C10.0321 3.50928 9.03713 3.8297 8.20818 4.42536C7.37922 5.02102 6.75816 5.86186 6.43256 6.82931C6.10697 7.79676 6.09327 8.842 6.39341 9.81765C6.69354 10.7933 7.29236 11.6501 8.10542 12.2673C6.88682 12.6821 5.77973 13.3712 4.8695 14.2814C3.95927 15.1916 3.2702 16.2987 2.85542 17.5173C1.79166 16.2095 1.05841 14.6648 0.717686 13.0138C0.376957 11.3629 0.438759 9.65409 0.897868 8.03203C1.35698 6.40996 2.19989 4.92228 3.35535 3.69477C4.51081 2.46726 5.94484 1.536 7.5362 0.979724C9.12757 0.423451 10.8295 0.25852 12.498 0.498875C14.1666 0.73923 15.7528 1.3778 17.1224 2.36061C18.4921 3.34341 19.605 4.64156 20.367 6.14528C21.129 7.64901 21.5178 9.31411 21.5004 10.9998Z" fill="currentColor"/>\n      </svg> \n      <img class="avatar user-avatar" src="https://cdn.arduino.cc/header-footer/prod/assets/global_user_profile.svg" alt="User Profile">\n      <div class="profile-greeting">\n        \x3c!-- Set user greeting here --\x3e\n      </div>\n    </div>\n    <div class="logout">\n      <a role="button" tabindex="0">{{ SIGN_OUT | translate }}</a>\n    </div>\n  </div>\n</div>',"app-mobile-profile-container"),this.loginButtons=this.container.querySelectorAll(".login-button"),this.profiles=this.container.querySelectorAll(".profile-dropdown"),this.logoutButtons=this.container.querySelectorAll(".logout a"),this.loginButtons.forEach((function(e){e.classList.add("hide")})),this.profiles.forEach((function(e){e.classList.add("hide")})),this.addEventListeners()}else window.arduinoHFDebug&&console.error("Empty containerMobile");else window.arduinoHFDebug&&console.error("Empty containerDesktop");else window.arduinoHFDebug&&console.error("Empty container")},t.renderProfile=function(){return new Promise(function(e,t){return this.auth.isInitialized()?Promise.resolve(this.auth.isAuthenticated()).then(function(n){try{return n?(this.profiles.forEach((function(e){e.classList.remove("hide")})),Promise.resolve(this.updateProfile()).then(function(e){try{return r.call(this)}catch(e){return t(e)}}.bind(this),t)):(this.loginButtons.forEach((function(e){e.classList.remove("hide")})),r.call(this));function r(){return e()}}catch(e){return t(e)}}.bind(this),t):e()}.bind(this))},t.updateProfile=function(){return new Promise(function(e,t){var n,r;return Promise.resolve(this.auth.isAuthenticated()).then(function(i){try{if(i)return n=this.container.querySelectorAll(".profile-avatar"),Promise.resolve(this.auth.getProfile()).then(function(e){try{return(r=e).picture&&"https://content.arduino.cc/avatars/default.svg"!==r.picture?n.forEach((function(e){var t=e.querySelector(".user-avatar"),n=e.querySelector(".default-avatar"),i=e.querySelector(".profile-greeting");t.src=r.picture,t.style.display="block",n.style.display="none",i&&r.nickname&&(i.innerHTML=Ei("{{ GREETING | translate }}")+", "+r.nickname+".")})):n.forEach((function(e){var t=e.querySelector(".user-avatar"),n=e.querySelector(".default-avatar");t.style.display="none",n.style.display="block"})),o.call(this)}catch(e){return t(e)}}.bind(this),t);function o(){return e()}return o.call(this)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.addEventListeners=function(){var e=this;this.loginButtons.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e.auth.login({state:e.opts.state})}))})),this.logoutButtons.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e.auth.logout(!0)})),t.addEventListener("keydown",(function(t){13===t.keyCode&&(t.preventDefault(),e.auth.logout(!0))}))})),this.profiles.forEach((function(e){e.addEventListener("mouseleave",(function(){e.blur()})),e.classList.contains("popup-dropdown")&&(e.addEventListener("click",(function(){e.classList.add("show")})),e.addEventListener("mouseleave",(function(){e.classList.remove("show"),e.querySelectorAll("a:focus").forEach((function(e){return e.blur()})),e.blur()})))}))},e}(),$o=function(e){return function(t,n,r,i){tt(n);var o=ke(t),a=p(o),s=ce(o.length),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(i=n(i,a[c],c,o));return i}},ea={left:$o(!1),right:$o(!0)}.left,ta=Hr("reduce"),na=Pr("reduce",{1:0});Ue({target:"Array",proto:!0,forced:!ta||!na},{reduce:function(e){return ea(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}}),ai("match",1,(function(e,t,n){return[function(t){var n=g(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var i=R(e),o=String(this);if(!i.global)return di(i,o);var a=i.unicode;i.lastIndex=0;for(var s,c=[],u=0;null!==(s=di(i,o));){var l=String(s[0]);c[u]=l,""===l&&(i.lastIndex=li(o,ce(i.lastIndex),a)),u++}return 0===u?null:c}]}));var ra=["showCart","showWishlist","showGeolocation"],ia=function(){function e(e,t,n){void 0===t&&(t={}),this.opts=t,this.container=e,this.cart=n,this.geo=new Xi,this.render()}var t=e.prototype;return t.render=function(){var e=this;this.container?(this.controlCount=ra.reduce((function(t,n){return e.opts[n]?t+1:t}),0),0!==this.controlCount&&(this.container.classList.add("app-store-controls"),this.container.classList.remove("hide"),this.opts.theme&&this.container.classList.add(this.opts.theme),this.container.innerHTML=Ei('\x3c!-- wishlist --\x3e\n<div class="app-store-control wishlist-button popup-dropdown hide" tabindex="0">\n  <div id="wishlist-link">\n    <span class="badge">0</span>\n    <div class="wishlist-icon">\n      <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-wishlist.svg" onload="SVGInject(this)">\n    </div>\n  </div>\n\n  <div class="popup-container full-width wishlist-container" tabindex="0">\n    <div class="popup-container__box wishlist-content">\n      <div class="cart-close-button"></div>\n      <p class="loading-content">Loading ...</p>\n    </div>\n  </div>\n</div>\n\x3c!-- end wishlist--\x3e\n\n\x3c!-- cart start --\x3e\n<div class="app-store-control cart-button popup-dropdown hide" tabindex="0">\n  <div id="cart-link">\n    <span class="badge">0</span>\n    <div class="cart-icon">\n      <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-cart.svg" onload="SVGInject(this)">\n    </div>\n  </div>\n\n  <div class="popup-container full-width card-container">\n    <div class="popup-container__box cart-content">\n      <div class="cart-close-button"></div>\n      <p class="loading-content">Loading ...</p>\n    </div>\n  </div>\n</div>\n\n\x3c!-- geolocation --\x3e\n<div class="app-store-control store-location-button popup-dropdown hover-behavior hide" role="button" tabindex="0">\n  <a role="button" class="store-location-link">\n    <div class="store-location-icon">\n      <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerFooter-region.svg" onload="SVGInject(this)">\n    </div>\n  </a>\n\n  <div class="popup-container full-width">\n    <div class="popup-container__box">\n      <p class="empty eu-africa">{{ SHOPPING_EU | translate }}\n        <a class="change-location">{{ VISIT_LOCAL | translate }}</a>\n      </p>\n      <p class="empty america-asia">{{ SHOPPING_APAC | translate }}\n        <a class="change-location">{{ VISIT_LOCAL | translate }}</a>\n      </p>\n    </div>\n  </div>\n</div>\n\x3c!-- cart end --\x3e'),this.cartButton=this.container.querySelector(".cart-button"),this.cartBadge=this.cartButton.querySelector("#cart-link .badge"),this.cartSubMenu=this.cartButton.querySelector(".card-container"),this.wishlistButton=this.container.querySelector(".wishlist-button"),this.wishlistBadge=this.wishlistButton.querySelector("#wishlist-link .badge"),this.wishlistSubMenu=this.wishlistButton.querySelector(".wishlist-container"),this.geolocationButton=this.container.querySelector(".store-location-button"),this._initCart(),this._initWishList(),this._initGeolocation(),this.updateCart(),this.updateWishlist(),this.addEventListeners())):window.arduinoHFDebug&&console.error("Empty container")},t._initCart=function(){this.opts.showCart&&this.cartButton.classList.remove("hide")},t._initWishList=function(){this.opts.showWishlist&&this.wishlistButton.classList.remove("hide")},t._initGeolocation=function(){this.opts.showGeolocation&&(this.geolocationButton.classList.remove("hide"),"usa"===this.geo.getStoreLocation()?this.container.querySelector(".america-asia").style.display="block":this.container.querySelector(".eu-africa").style.display="block")},t.updateCart=function(){return new Promise(function(e,t){var n,r;return Promise.resolve(this.cart.getCount()).then(function(i){try{return n=i,this.cartBadge.innerHTML=n,this.cartBadge.style.display=n>0?"flex":"none",Promise.resolve(this.cart.getMiniCart()).then(function(n){try{return(r=n)&&(this.cartSubMenu.querySelector(".cart-content").innerHTML=r),this.updateCardListeners(),e()}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.updateCardListeners=function(){var e=this,t=this.cartButton.querySelector(".cart-close-button");t&&t.addEventListener("click",(function(t){t.stopPropagation(),e.hideSubMenus()}))},t.updateWishlist=function(){return new Promise(function(e,t){var n,r;return Promise.resolve(this.cart.getWishlist()).then(function(i){try{return r=(n=i)?(n.match(/class="item"/g)||[]).length:0,this.wishlistBadge.innerHTML=r,this.wishlistBadge.style.display=r>0?"flex":"none",n&&(this.wishlistSubMenu.querySelector(".wishlist-content").innerHTML=n),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t._showCart=function(){this.hideSubMenus(),document.body.classList.add("noscroll"),this.cartButton.classList.add("show")},t.showWishlist=function(){this.hideSubMenus(),document.body.classList.add("noscroll"),this.wishlistButton.classList.add("show")},t.hideSubMenus=function(){document.body.classList.remove("noscroll"),this.cartButton&&this.cartButton.classList.remove("show"),this.wishlistButton&&this.wishlistButton.classList.remove("show")},t.addEventListeners=function(){var e=this;this.cartButton&&(this.cartButton.addEventListener("click",(function(){e.cartButton.classList.contains("show")?e.hideSubMenus():(e._showCart(),e.updateCart())})),this.cartButton.addEventListener("mouseleave",(function(){e.hideSubMenus()}))),this.wishlistButton&&(this.wishlistButton.addEventListener("click",(function(){e.wishlistButton.classList.contains("show")?e.hideSubMenus():(e.showWishlist(),e.updateWishlist())})),this.wishlistButton.addEventListener("mouseleave",(function(){e.hideSubMenus()})))},e}(),oa=n((function(e,t){
/*! algoliasearch.umd.js | 4.4.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */
e.exports=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},o=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(e),r=o()[n];return Promise.all([r||t(),void 0!==r])})).then((function(e){var t=i(e,2),r=t[0],o=t[1];return Promise.all([r,o||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(e)]=t,r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=o();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function s(e){var t=o(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},r=t();return r.then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return s({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return s({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return s({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return s({caches:t}).clear()}))}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=r(),s=i&&i.miss||function(){return Promise.resolve()};return a.then((function(e){return s(e)})).then((function(){return a}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function u(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===g.WithinHeaders?r:{}},queryParameters:function(){return e===g.WithinQueryParameters?r:{}}}}function l(e){var t=0;return e((function n(){return t++,new Promise((function(r){setTimeout((function(){r(e(n))}),Math.min(100*t,1e3))}))}))}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(n){return d(e.then((function(e){return Promise.all([t(e,n),e])})).then((function(e){return e[1]})))}})}function h(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function f(e,t){return Object.keys(void 0!==t?t:{}).forEach((function(n){e[n]=t[n](e)})),e}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var g={WithinQueryParameters:0,WithinHeaders:1};function m(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var v={Read:1,Write:2,Any:3};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n({},e,{status:t,lastUpdate:Date.now()})}function b(e){return{protocol:e.protocol||"https",url:e.url,accept:e.accept||v.Any}}var I="DELETE",w="GET",S="POST";function C(e,t,r,i){var a=[],s=function(e,t){if(e.method!==w&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n({},e.data,{},t.data);return JSON.stringify(r)}}(r,i),c=function(e,t){var r=n({},e.headers,{},t.headers),i={};return Object.keys(r).forEach((function(e){var t=r[e];i[e.toLowerCase()]=t})),i}(e,i),u=r.method,l=r.method!==w?{}:n({},r.data,{},i.data),d=n({"x-algolia-agent":e.userAgent.value},e.queryParameters,{},l,{},i.queryParameters),h=0,f=function t(n,o){var l=n.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:L(a)};var f={data:s,headers:c,method:u,url:F(l,r.path,d),connectTimeout:o(h,e.timeouts.connect),responseTimeout:o(h,i.timeout)},p=function(e){var t={request:f,response:e,host:l,triesLeft:n.length};return a.push(t),t},g={onSucess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=p(r);return r.isTimedOut&&h++,Promise.all([e.logger.info("Retryable failure",A(i)),e.hostsCache.set(l,y(l,r.isTimedOut?3:2))]).then((function(){return t(n,o)}))},onFail:function(e){throw p(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,L(a))}};return e.requester.send(f).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSucess(e):t.onFail(e)}(e,g)}))};return function(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(y(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}(e)})),r=e.filter((function(e){return function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(o(n),o(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return b(e)})):t}}))}(e.hostsCache,t).then((function(e){return f(o(e.statelessHosts).reverse(),e.getTimeout)}))}function B(e){var t=e.hostsCache,n=e.logger,r=e.requester,o=e.requestsCache,a=e.responsesCache,s=e.timeouts,c=e.userAgent,u=e.hosts,l=e.queryParameters,d={hostsCache:t,logger:n,requester:r,requestsCache:o,responsesCache:a,timeouts:s,userAgent:c,headers:e.headers,queryParameters:l,hosts:u.map((function(e){return b(e)})),read:function(e,t){var n=m(t,d.timeouts.read),r=function(){return C(d,d.hosts.filter((function(e){return 0!=(e.accept&v.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var o={request:e,mappedRequestOptions:n,transporter:{queryParameters:d.queryParameters,headers:d.headers}};return d.responsesCache.get(o,(function(){return d.requestsCache.get(o,(function(){return d.requestsCache.set(o,r()).then((function(e){return Promise.all([d.requestsCache.delete(o),e])}),(function(e){return Promise.all([d.requestsCache.delete(o),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return d.responsesCache.set(o,e)}})},write:function(e,t){return C(d,d.hosts.filter((function(e){return 0!=(e.accept&v.Write)})),e,m(t,d.timeouts.write))}};return d}function x(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function F(e,t,n){var r=R(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function R(e){return Object.keys(e).map((function(t){return p("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function L(e){return e.map((function(e){return A(e)}))}function A(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n({},e,{request:n({},e.request,{headers:n({},e.request.headers,{},t)})})}var U=function(e){return function(t,n){return e.transporter.write({method:S,path:"2/abtests",data:t},n)}},E=function(e){return function(t,n){return e.transporter.write({method:I,path:p("2/abtests/%s",t)},n)}},k=function(e){return function(t,n){return e.transporter.read({method:w,path:p("2/abtests/%s",t)},n)}},V=function(e){return function(t){return e.transporter.read({method:w,path:"2/abtests"},t)}},G=function(e){return function(t,n){return e.transporter.write({method:S,path:p("2/abtests/%s/stop",t)},n)}},H=function(e){return function(t){return e.transporter.read({method:w,path:"1/strategies/personalization"},t)}},Z=function(e){return function(t,n){return e.transporter.write({method:S,path:"1/strategies/personalization",data:t},n)}};function X(e){return function t(n){return e.request(n).then((function(r){if(void 0!==e.batch&&e.batch(r.hits),!e.shouldStop(r))return r.cursor?t({cursor:r.cursor}):t({page:(n.page||0)+1})}))}({})}var T=function(e){return function(t,i){var o=i||{},a=o.queryParameters,s=r(o,["queryParameters"]),c=n({acl:t},void 0!==a?{queryParameters:a}:{});return d(e.transporter.write({method:S,path:"1/keys",data:c},s),(function(t,n){return l((function(r){return J(e)(t.key,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},P=function(e){return function(t,n,r){var i=m(r);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:S,path:"1/clusters/mapping",data:{cluster:n}},i)}},O=function(e){return function(t,n,r){return e.transporter.write({method:S,path:"1/clusters/mapping/batch",data:{users:t,cluster:n}},r)}},Q=function(e){return function(t,n,r){return d(e.transporter.write({method:S,path:p("1/indexes/%s/operation",t),data:{operation:"copy",destination:n}},r),(function(n,r){return q(e)(t,{methods:{waitTask:De}}).waitTask(n.taskID,r)}))}},W=function(e){return function(t,r,i){return Q(e)(t,r,n({},i,{scope:[qe.Rules]}))}},N=function(e){return function(t,r,i){return Q(e)(t,r,n({},i,{scope:[qe.Settings]}))}},j=function(e){return function(t,r,i){return Q(e)(t,r,n({},i,{scope:[qe.Synonyms]}))}},_=function(e){return function(t,n){return d(e.transporter.write({method:I,path:p("1/keys/%s",t)},n),(function(n,r){return l((function(n){return J(e)(t,r).then(n).catch((function(e){if(404!==e.status)throw e}))}))}))}},J=function(e){return function(t,n){return e.transporter.read({method:w,path:p("1/keys/%s",t)},n)}},Y=function(e){return function(t){return e.transporter.read({method:w,path:"1/logs"},t)}},M=function(e){return function(t){return e.transporter.read({method:w,path:"1/clusters/mapping/top"},t)}},D=function(e){return function(t,n){return e.transporter.read({method:w,path:p("1/clusters/mapping/%s",t)},n)}},K=function(e){return function(t){var n=t||{},i=n.retrieveMappings,o=r(n,["retrieveMappings"]);return!0===i&&(o.getClusters=!0),e.transporter.read({method:w,path:"1/clusters/mapping/pending"},o)}},q=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={transporter:e.transporter,appId:e.appId,indexName:t};return f(r,n.methods)}},z=function(e){return function(t){return e.transporter.read({method:w,path:"1/keys"},t)}},$=function(e){return function(t){return e.transporter.read({method:w,path:"1/clusters"},t)}},ee=function(e){return function(t){return e.transporter.read({method:w,path:"1/indexes"},t)}},te=function(e){return function(t){return e.transporter.read({method:w,path:"1/clusters/mapping"},t)}},ne=function(e){return function(t,n,r){return d(e.transporter.write({method:S,path:p("1/indexes/%s/operation",t),data:{operation:"move",destination:n}},r),(function(n,r){return q(e)(t,{methods:{waitTask:De}}).waitTask(n.taskID,r)}))}},re=function(e){return function(t,n){return d(e.transporter.write({method:S,path:"1/indexes/*/batch",data:{requests:t}},n),(function(t,n){return Promise.all(Object.keys(t.taskID).map((function(r){return q(e)(r,{methods:{waitTask:De}}).waitTask(t.taskID[r],n)})))}))}},ie=function(e){return function(t,n){return e.transporter.read({method:S,path:"1/indexes/*/objects",data:{requests:t}},n)}},oe=function(e){return function(t,r){var i=t.map((function(e){return n({},e,{params:R(e.params||{})})}));return e.transporter.read({method:S,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},ae=function(e){return function(t,i){return Promise.all(t.map((function(t){var o=t.params,a=o.facetName,s=o.facetQuery,c=r(o,["facetName","facetQuery"]);return q(e)(t.indexName,{methods:{searchForFacetValues:_e}}).searchForFacetValues(a,s,n({},i,{},c))})))}},se=function(e){return function(t,n){var r=m(n);return r.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:I,path:"1/clusters/mapping"},r)}},ce=function(e){return function(t,n){return d(e.transporter.write({method:S,path:p("1/keys/%s/restore",t)},n),(function(n,r){return l((function(n){return J(e)(t,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},ue=function(e){return function(t,n){return e.transporter.read({method:S,path:"1/clusters/mapping/search",data:{query:t}},n)}},le=function(e){return function(t,n){var i=Object.assign({},n),o=n||{},a=o.queryParameters,s=r(o,["queryParameters"]),c=a?{queryParameters:a}:{},u=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(e.transporter.write({method:"PUT",path:p("1/keys/%s",t),data:c},s),(function(n,r){return l((function(n){return J(e)(t,r).then((function(e){return function(e){return Object.keys(i).filter((function(e){return-1!==u.indexOf(e)})).every((function(t){return e[t]===i[t]}))}(e)?Promise.resolve():n()}))}))}))}},de=function(e){return function(t,n){return d(e.transporter.write({method:S,path:p("1/indexes/%s/batch",e.indexName),data:{requests:t}},n),(function(t,n){return De(e)(t.taskID,n)}))}},he=function(e){return function(t){return X(n({shouldStop:function(e){return void 0===e.cursor}},t,{request:function(n){return e.transporter.read({method:S,path:p("1/indexes/%s/browse",e.indexName),data:n},t)}}))}},fe=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return X(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r,{request:function(t){return Je(e)("",n({},r,{},t)).then((function(e){return n({},e,{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},pe=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return X(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r,{request:function(t){return Ye(e)("",n({},r,{},t)).then((function(e){return n({},e,{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},ge=function(e){return function(t,n,i){var o=i||{},a=o.batchSize,s=r(o,["batchSize"]),c={taskIDs:[],objectIDs:[]};return d(function r(){var i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,u=[];for(i=o;i<t.length&&(u.push(t[i]),u.length!==(a||1e3));i++);return 0===u.length?Promise.resolve(c):de(e)(u.map((function(e){return{action:n,body:e}})),s).then((function(e){return c.objectIDs=c.objectIDs.concat(e.objectIDs),c.taskIDs.push(e.taskID),i++,r(i)}))}(),(function(t,n){return Promise.all(t.taskIDs.map((function(t){return De(e)(t,n)})))}))}},me=function(e){return function(t){return d(e.transporter.write({method:S,path:p("1/indexes/%s/clear",e.indexName)},t),(function(t,n){return De(e)(t.taskID,n)}))}},ve=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,o=m(r(n,["forwardToReplicas"]));return i&&(o.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:S,path:p("1/indexes/%s/rules/clear",e.indexName)},o),(function(t,n){return De(e)(t.taskID,n)}))}},ye=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,o=m(r(n,["forwardToReplicas"]));return i&&(o.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:S,path:p("1/indexes/%s/synonyms/clear",e.indexName)},o),(function(t,n){return De(e)(t.taskID,n)}))}},be=function(e){return function(t,n){return d(e.transporter.write({method:S,path:p("1/indexes/%s/deleteByQuery",e.indexName),data:t},n),(function(t,n){return De(e)(t.taskID,n)}))}},Ie=function(e){return function(t){return d(e.transporter.write({method:I,path:p("1/indexes/%s",e.indexName)},t),(function(t,n){return De(e)(t.taskID,n)}))}},we=function(e){return function(t,n){return d(Se(e)([t],n).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,n){return De(e)(t.taskID,n)}))}},Se=function(e){return function(t,n){var r=t.map((function(e){return{objectID:e}}));return ge(e)(r,Ke.DeleteObject,n)}},Ce=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,a=m(r(i,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:I,path:p("1/indexes/%s/rules/%s",e.indexName,t)},a),(function(t,n){return De(e)(t.taskID,n)}))}},Be=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,a=m(r(i,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:I,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},a),(function(t,n){return De(e)(t.taskID,n)}))}},xe=function(e){return function(t){return Ee(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},Fe=function(e){return function(t,o){var a=o||{},s=a.query,c=a.paginate,u=r(a,["query","paginate"]),l=0;return function r(){return je(e)(s||"",n({},u,{page:l})).then((function(e){for(var n=0,o=Object.entries(e.hits);n<o.length;n++){var a=i(o[n],2),s=a[0],u=a[1];if(t(u))return{object:u,position:parseInt(s,10),page:l}}if(l++,!1===c||l>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return r()}))}()}},Re=function(e){return function(t,n){return e.transporter.read({method:w,path:p("1/indexes/%s/%s",e.indexName,t)},n)}},Le=function(){return function(e,t){for(var n=0,r=Object.entries(e.hits);n<r.length;n++){var o=i(r[n],2),a=o[0];if(o[1].objectID===t)return parseInt(a,10)}return-1}},Ae=function(e){return function(t,i){var o=i||{},a=o.attributesToRetrieve,s=r(o,["attributesToRetrieve"]),c=t.map((function(t){return n({indexName:e.indexName,objectID:t},a?{attributesToRetrieve:a}:{})}));return e.transporter.read({method:S,path:"1/indexes/*/objects",data:{requests:c}},s)}},Ue=function(e){return function(t,n){return e.transporter.read({method:w,path:p("1/indexes/%s/rules/%s",e.indexName,t)},n)}},Ee=function(e){return function(t){return e.transporter.read({method:w,path:p("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},ke=function(e){return function(t,n){return e.transporter.read({method:w,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},n)}},Ve=function(e){return function(t,n){return d(Ge(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return De(e)(t.taskID,n)}))}},Ge=function(e){return function(t,n){var i=n||{},o=i.createIfNotExists,a=r(i,["createIfNotExists"]),s=o?Ke.PartialUpdateObject:Ke.PartialUpdateObjectNoCreate;return ge(e)(t,s,a)}},He=function(e){return function(t,a){var s=a||{},c=s.safe,u=s.autoGenerateObjectIDIfNotExist,l=s.batchSize,h=r(s,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),f=function(t,n,r,i){return d(e.transporter.write({method:S,path:p("1/indexes/%s/operation",t),data:{operation:r,destination:n}},i),(function(t,n){return De(e)(t.taskID,n)}))},g=Math.random().toString(36).substring(7),m="".concat(e.indexName,"_tmp_").concat(g),v=Pe({appId:e.appId,transporter:e.transporter,indexName:m}),y=[],b=f(e.indexName,m,"copy",n({},h,{scope:["settings","synonyms","rules"]}));return y.push(b),d((c?b.wait(h):b).then((function(){var e=v(t,n({},h,{autoGenerateObjectIDIfNotExist:u,batchSize:l}));return y.push(e),c?e.wait(h):e})).then((function(){var t=f(m,e.indexName,"move",h);return y.push(t),c?t.wait(h):t})).then((function(){return Promise.all(y)})).then((function(e){var t=i(e,3),n=t[0],r=t[1],a=t[2];return{objectIDs:r.objectIDs,taskIDs:[n.taskID].concat(o(r.taskIDs),[a.taskID])}})),(function(e,t){return Promise.all(y.map((function(e){return e.wait(t)})))}))}},Ze=function(e){return function(t,r){return Qe(e)(t,n({},r,{clearExistingRules:!0}))}},Xe=function(e){return function(t,r){return Ne(e)(t,n({},r,{replaceExistingSynonyms:!0}))}},Te=function(e){return function(t,n){return d(Pe(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return De(e)(t.taskID,n)}))}},Pe=function(e){return function(t,n){var i=n||{},o=i.autoGenerateObjectIDIfNotExist,a=r(i,["autoGenerateObjectIDIfNotExist"]),s=o?Ke.AddObject:Ke.UpdateObject;if(s===Ke.UpdateObject){var c=!0,u=!1,l=void 0;try{for(var h,f=t[Symbol.iterator]();!(c=(h=f.next()).done);c=!0)if(void 0===h.value.objectID)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}return ge(e)(t,s,a)}},Oe=function(e){return function(t,n){return Qe(e)([t],n)}},Qe=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,a=i.clearExistingRules,s=m(r(i,["forwardToReplicas","clearExistingRules"]));return o&&(s.queryParameters.forwardToReplicas=1),a&&(s.queryParameters.clearExistingRules=1),d(e.transporter.write({method:S,path:p("1/indexes/%s/rules/batch",e.indexName),data:t},s),(function(t,n){return De(e)(t.taskID,n)}))}},We=function(e){return function(t,n){return Ne(e)([t],n)}},Ne=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,a=i.replaceExistingSynonyms,s=m(r(i,["forwardToReplicas","replaceExistingSynonyms"]));return o&&(s.queryParameters.forwardToReplicas=1),a&&(s.queryParameters.replaceExistingSynonyms=1),d(e.transporter.write({method:S,path:p("1/indexes/%s/synonyms/batch",e.indexName),data:t},s),(function(t,n){return De(e)(t.taskID,n)}))}},je=function(e){return function(t,n){return e.transporter.read({method:S,path:p("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},_e=function(e){return function(t,n,r){return e.transporter.read({method:S,path:p("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},Je=function(e){return function(t,n){return e.transporter.read({method:S,path:p("1/indexes/%s/rules/search",e.indexName),data:{query:t}},n)}},Ye=function(e){return function(t,n){return e.transporter.read({method:S,path:p("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},n)}},Me=function(e){return function(t,n){var i=n||{},o=i.forwardToReplicas,a=m(r(i,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),d(e.transporter.write({method:"PUT",path:p("1/indexes/%s/settings",e.indexName),data:t},a),(function(t,n){return De(e)(t.taskID,n)}))}},De=function(e){return function(t,n){return l((function(r){return function(e){return function(t,n){return e.transporter.read({method:w,path:p("1/indexes/%s/task/%s",e.indexName,t.toString())},n)}}(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},Ke={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},qe={Settings:"settings",Synonyms:"synonyms",Rules:"rules"};function ze(e,t,r){var i={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},o=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(o),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:s({caches:[a({key:"".concat("4.4.0","-").concat(e)}),c()]}),userAgent:x("4.4.0").add({segment:"Browser"})};return function(e){var t=e.appId,r=u(void 0!==e.authMode?e.authMode:g.WithinHeaders,t,e.apiKey),i=B(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:v.Read},{url:"".concat(t,".algolia.net"),accept:v.Write}].concat(h([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e,{headers:n({},r.headers(),{},{"content-type":"application/x-www-form-urlencoded"},{},e.headers),queryParameters:n({},r.queryParameters(),{},e.queryParameters)}));return f({transporter:i,appId:t,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then((function(){}))}},e.methods)}(n({},i,{},r,{methods:{search:oe,searchForFacetValues:ae,multipleBatch:re,multipleGetObjects:ie,multipleQueries:oe,copyIndex:Q,copySettings:N,copySynonyms:j,copyRules:W,moveIndex:ne,listIndices:ee,getLogs:Y,listClusters:$,multipleSearchForFacetValues:ae,getApiKey:J,addApiKey:T,listApiKeys:z,updateApiKey:le,deleteApiKey:_,restoreApiKey:ce,assignUserID:P,assignUserIDs:O,getUserID:D,searchUserIDs:ue,listUserIDs:te,getTopUserIDs:M,removeUserID:se,hasPendingMappings:K,initIndex:function(e){return function(t){return q(e)(t,{methods:{batch:de,delete:Ie,getObject:Re,getObjects:Ae,saveObject:Te,saveObjects:Pe,search:je,searchForFacetValues:_e,waitTask:De,setSettings:Me,getSettings:Ee,partialUpdateObject:Ve,partialUpdateObjects:Ge,deleteObject:we,deleteObjects:Se,deleteBy:be,clearObjects:me,browseObjects:he,getObjectPosition:Le,findObject:Fe,exists:xe,saveSynonym:We,saveSynonyms:Ne,getSynonym:ke,searchSynonyms:Ye,browseSynonyms:pe,deleteSynonym:Be,clearSynonyms:ye,replaceAllObjects:He,replaceAllSynonyms:Xe,searchRules:Je,getRule:Ue,deleteRule:Ce,saveRule:Oe,saveRules:Qe,replaceAllRules:Ze,browseRules:fe,clearRules:ve}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",r=u(g.WithinHeaders,e.appId,e.apiKey),i=B(n({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e,{headers:n({},r.headers(),{},{"content-type":"application/json"},{},e.headers),queryParameters:n({},r.queryParameters(),{},e.queryParameters)}));return f({appId:e.appId,transporter:i},e.methods)}(n({},i,{},e,{methods:{addABTest:U,getABTest:k,getABTests:V,stopABTest:G,deleteABTest:E}}))}},initRecommendation:function(){return function(e){return function(e){var t=e.region||"us",r=u(g.WithinHeaders,e.appId,e.apiKey),i=B(n({hosts:[{url:"recommendation.".concat(t,".algolia.com")}]},e,{headers:n({},r.headers(),{},{"content-type":"application/json"},{},e.headers),queryParameters:n({},r.queryParameters(),{},e.queryParameters)}));return f({appId:e.appId,transporter:i},e.methods)}(n({},i,{},e,{methods:{getPersonalizationStrategy:H,setPersonalizationStrategy:Z}}))}}}}))}return ze.version="4.4.0",ze}()}));function aa(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function sa(e,t){if(e===t)return e;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n],i=e[n];void 0!==i&&void 0===r||(aa(i)&&aa(r)?e[n]=sa(i,r):e[n]="object"==typeof(o=r)&&null!==o?sa(Array.isArray(o)?[]:{},o):o)}var o;return e}var ca=function(e){aa(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];aa(r)&&sa(e,r)}return e},ua=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})};var la=function(e,t){return e.filter((function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r}))},da=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]};var ha=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")};var fa=function(e,t){if(null===e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i};var pa=function(e){return e&&Object.keys(e).length>0},ga={addRefinement:function(e,t,n){if(ga.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],o={};return o[t]=i,ua({},o,e)},removeRefinement:function(e,t,n){if(void 0===n)return ga.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return ga.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return ga.isRefined(e,t,n)?ga.removeRefinement(e,t,n):ga.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return pa(e)?{}:e;if("string"==typeof t)return fa(e,[t]);if("function"==typeof t){var r=!1,i=Object.keys(e).reduce((function(i,o){var a=e[o]||[],s=a.filter((function(e){return!t(e,o,n)}));return s.length!==a.length&&(r=!0),i[o]=s,i}),{});return r?i:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}},ma=ga;function va(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return va(t[n],e)})):e===t}function ya(e){var t=e?ya._parseNumbers(e):{};this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==ya.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}ya.PARAMETERS=Object.keys(new ya),ya._parseNumbers=function(e){if(e instanceof ya)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return ca({},e,t)},ya.make=function(e){var t=new ya(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},ya.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&pa(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):pa(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},ya.prototype={constructor:ya,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:ma.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:ma.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:ma.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:ma.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=ha(n);if(this.isNumericRefined(e,t,r))return this;var i=ca({},this.numericRefinements);return i[e]=ca({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===e&&r.op===t&&va(r.val,ha(n))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return pa(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return pa(this.numericRefinements[e])?fa(this.numericRefinements,[e]):this.numericRefinements;if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var o=n[i],a={};return o=o||{},Object.keys(o).forEach((function(n){var r=o[n]||[],s=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||s.push(t)})),s.length!==r.length&&(t=!0),a[n]=s})),r[i]=a,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ma.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:ma.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ma.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:ma.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return ma.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:ma.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ma.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:ma.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return ma.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:ma.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return ma.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:ma.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:ma.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:ma.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:ma.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:ua({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:ua({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:ua({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&ma.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&ma.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&ma.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,o,a=ha(n),s=void 0!==(i=this.numericRefinements[e][t],o=a,da(i,(function(e){return va(e,o)})));return r&&s},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=la(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return la(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0})))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=ya.validate(this,e);if(t)throw t;var n=this,r=ya._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),o=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?fa(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return da(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}};var ba=ya;function Ia(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,o=null===t;if(!o&&e>t||r&&i||!n)return 1;if(!r&&e<t||o&&n||!i)return-1}return 0}var wa=function(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map((function(e,n){return{criteria:t.map((function(t){return e[t]})),index:n,value:e}}));return r.sort((function(e,t){for(var r=-1;++r<e.criteria.length;){var i=Ia(e.criteria[r],t.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return e.index-t.index})),r.map((function(e){return e.value}))},Sa=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Ca=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},Ba=function(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var r=t.split(":"),i=da(n,(function(e){return e[0]===r[0]}));return r.length>1||!i?(e[0].push(r[0]),e[1].push(r[1]),e):(e[0].push(i[0]),e[1].push(i[1]),e)}),[[],[]])},xa=function(e){return function(t,n){var r=e.hierarchicalFacets[n],i=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",o=e._getHierarchicalFacetSeparator(r),a=e._getHierarchicalRootPath(r),s=e._getHierarchicalShowParentLevel(r),c=Ba(e._getHierarchicalFacetSortBy(r)),u=t.every((function(e){return e.exhaustive})),l=function(e,t,n,r,i){return function(o,a,s){var c=o;if(s>0){var u=0;for(c=o;u<s;){var l=c&&Array.isArray(c.data)?c.data:[];c=da(l,(function(e){return e.isRefined})),u++}}if(c){var d=Object.keys(a.data).map((function(e){return[e,a.data[e]]})).filter((function(e){return function(e,t,n,r,i,o){if(i&&(0!==e.indexOf(i)||i===e))return!1;return!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(o||0===e.indexOf(n))}(e[0],c.path||n,i,t,n,r)}));c.data=wa(d.map((function(e){var n=e[0];return function(e,t,n,r,i){var o=t.split(n);return{name:o[o.length-1].trim(),path:t,count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],n,t,i,a.exhaustive)})),e[0],e[1])}return o}}(c,o,a,s,i),d=t;return a&&(d=t.slice(a.split(o).length)),d.reduce(l,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,exhaustive:u,data:null})}};function Fa(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function Ra(e,t,n){t&&t[n]&&(e.stats=t[n])}function La(e,t){var n=t[0];this._rawResults=t;var r=this;Object.keys(n).forEach((function(e){r[e]=n[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var i=e.getRefinedDisjunctiveFacets(),o=Fa(e.facets),a=Fa(e.disjunctiveFacets),s=1,c=n.facets||{};Object.keys(c).forEach((function(t){var i,s,u=c[t],l=(i=e.hierarchicalFacets,s=t,da(i,(function(e){return(e.attributes||[]).indexOf(s)>-1})));if(l){var d=l.attributes.indexOf(t),h=Ca(e.hierarchicalFacets,(function(e){return e.name===l.name}));r.hierarchicalFacets[h][d]={attribute:t,data:u,exhaustive:n.exhaustiveFacetsCount}}else{var f,p=-1!==e.disjunctiveFacets.indexOf(t),g=-1!==e.facets.indexOf(t);p&&(f=a[t],r.disjunctiveFacets[f]={name:t,data:u,exhaustive:n.exhaustiveFacetsCount},Ra(r.disjunctiveFacets[f],n.facets_stats,t)),g&&(f=o[t],r.facets[f]={name:t,data:u,exhaustive:n.exhaustiveFacetsCount},Ra(r.facets[f],n.facets_stats,t))}})),this.hierarchicalFacets=Sa(this.hierarchicalFacets),i.forEach((function(i){var o=t[s],c=o&&o.facets?o.facets:{},u=e.getHierarchicalFacetByName(i);Object.keys(c).forEach((function(t){var i,s=c[t];if(u){i=Ca(e.hierarchicalFacets,(function(e){return e.name===u.name}));var l=Ca(r.hierarchicalFacets[i],(function(e){return e.attribute===t}));if(-1===l)return;r.hierarchicalFacets[i][l].data=ca({},r.hierarchicalFacets[i][l].data,s)}else{i=a[t];var d=n.facets&&n.facets[t]||{};r.disjunctiveFacets[i]={name:t,data:ua({},s,d),exhaustive:o.exhaustiveFacetsCount},Ra(r.disjunctiveFacets[i],o.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(n){!r.disjunctiveFacets[i].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf(n)>-1&&(r.disjunctiveFacets[i].data[n]=0)}))}})),s++})),e.getRefinedHierarchicalFacets().forEach((function(n){var i=e.getHierarchicalFacetByName(n),o=e._getHierarchicalFacetSeparator(i),a=e.getHierarchicalRefinement(n);if(!(0===a.length||a[0].split(o).length<2)){var c=t[s],u=c&&c.facets?c.facets:{};Object.keys(u).forEach((function(t){var n=u[t],s=Ca(e.hierarchicalFacets,(function(e){return e.name===i.name})),c=Ca(r.hierarchicalFacets[s],(function(e){return e.attribute===t}));if(-1!==c){var l={};if(a.length>0){var d=a[0].split(o)[0];l[d]=r.hierarchicalFacets[s][c].data[d]}r.hierarchicalFacets[s][c].data=ua(l,n,r.hierarchicalFacets[s][c].data)}})),s++}})),Object.keys(e.facetsExcludes).forEach((function(t){var i=e.facetsExcludes[t],a=o[t];r.facets[a]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},i.forEach((function(e){r.facets[a]=r.facets[a]||{name:t},r.facets[a].data=r.facets[a].data||{},r.facets[a].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(xa(e)),this.facets=Sa(this.facets),this.disjunctiveFacets=Sa(this.disjunctiveFacets),this._state=e}function Aa(e,t){if(!t.data||0===t.data.length)return t;var n=t.data.map((function(t){return Aa(e,t)})),r=e(n);return ca({},t,{data:r})}function Ua(e,t){var n=da(e,(function(e){return e.name===t}));return n&&n.stats}function Ea(e,t,n,r,i){var o=da(i,(function(e){return e.name===n})),a=o&&o.data&&o.data[r]?o.data[r]:0,s=o&&o.exhaustive||!1;return{type:t,attributeName:n,name:r,count:a,exhaustive:s}}La.prototype.getFacetByName=function(e){function t(t){return t.name===e}return da(this.facets,t)||da(this.disjunctiveFacets,t)||da(this.hierarchicalFacets,t)},La.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],La.prototype.getFacetValues=function(e,t){var n=function(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=da(e.facets,n);return r?Object.keys(r.data).map((function(n){return{name:n,count:r.data[n],isRefined:e._state.isFacetRefined(t,n),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=da(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){return{name:n,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}})):[]}if(e._state.isHierarchicalFacet(t))return da(e.hierarchicalFacets,n)}(this,e);if(n){var r=ua({},t,{sortBy:La.DEFAULT_SORT});if(Array.isArray(r.sortBy)){var i=Ba(r.sortBy,La.DEFAULT_SORT);return Array.isArray(n)?wa(n,i[0],i[1]):Aa((function(e){return wa(e,i[0],i[1])}),n)}if("function"==typeof r.sortBy)return Array.isArray(n)?n.sort(r.sortBy):Aa((function(e){return function(e,t){return t.sort(e)}(r.sortBy,e)}),n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}},La.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?Ua(this.facets,e):this._state.isDisjunctiveFacet(e)?Ua(this.disjunctiveFacets,e):void 0},La.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(i){n.push(Ea(e,"facet",r,i,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(i){n.push(Ea(e,"exclude",r,i,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(i){n.push(Ea(e,"disjunctive",r,i,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),o=e._getHierarchicalFacetSeparator(i),a=n.split(o),s=da(r,(function(e){return e.name===t})),c=a.reduce((function(e,t){var n=e&&da(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),s),u=c&&c.count||0,l=c&&c.exhaustive||!1,d=c&&c.path||"";return{type:"hierarchical",attributeName:t,name:d,count:u,exhaustive:l}}(e,r,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n};var ka=La;function Va(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ga=Va;function Ha(e){return"function"==typeof e}function Za(e){return"object"==typeof e&&null!==e}function Xa(e){return void 0===e}Va.EventEmitter=Va,Va.prototype._events=void 0,Va.prototype._maxListeners=void 0,Va.defaultMaxListeners=10,Va.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},Va.prototype.emit=function(e){var t,n,r,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Za(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(Xa(n=this._events[e]))return!1;if(Ha(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Za(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},Va.prototype.addListener=function(e,t){var n;if(!Ha(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ha(t.listener)?t.listener:t),this._events[e]?Za(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Za(this._events[e])&&!this._events[e].warned&&(n=Xa(this._maxListeners)?Va.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},Va.prototype.on=Va.prototype.addListener,Va.prototype.once=function(e,t){if(!Ha(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},Va.prototype.removeListener=function(e,t){var n,r,i,o;if(!Ha(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||Ha(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Za(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},Va.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(Ha(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},Va.prototype.listeners=function(e){return this._events&&this._events[e]?Ha(this._events[e])?[this._events[e]]:this._events[e].slice():[]},Va.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ha(t))return 1;if(t)return t.length}return 0},Va.listenerCount=function(e,t){return e.listenerCount(t)};var Ta=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function Pa(e,t){this.main=e,this.fn=t,this.lastResults=null}Ta(Pa,Ga.EventEmitter),Pa.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Pa.prototype.getModifiedState=function(e){return this.fn(e)};var Oa=Pa,Qa={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:Qa._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:Qa._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var i=t.getHierarchicalFacetByName(r),o=t.getHierarchicalRefinement(r),a=t._getHierarchicalFacetSeparator(i);o.length>0&&o[0].split(a).length>1&&n.push({indexName:e,params:Qa._getDisjunctiveFacetSearchParams(t,r,!0)})})),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Qa._getHitsHierarchicalFacetsAttributes(e)),n=Qa._getFacetFilters(e),r=Qa._getNumericFilters(e),i={facets:t,tagFilters:Qa._getTagFilters(e)};return n.length>0&&(i.facetFilters=n),r.length>0&&(i.numericFilters=r),ca({},e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Qa._getFacetFilters(e,t,n),i=Qa._getNumericFilters(e,t),o={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:Qa._getTagFilters(e),analytics:!1,clickAnalytics:!1},a=e.getHierarchicalFacetByName(t);return o.facets=a?Qa._getDisjunctiveHierarchicalFacetAttribute(e,a,n):t,i.length>0&&(o.numericFilters=i),r.length>0&&(o.facetFilters=r),ca({},e.getQueryParams(),o)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var o=i[e]||[];t!==r&&o.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach((function(e){(i[e]||[]).forEach((function(t){r.push(e+":"+t)}))}));var o=e.facetsExcludes||{};Object.keys(o).forEach((function(e){(o[e]||[]).forEach((function(t){r.push(e+":-"+t)}))}));var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).forEach((function(e){var n=a[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var s=e.hierarchicalFacetsRefinements||{};return Object.keys(s).forEach((function(i){var o=(s[i]||[])[0];if(void 0!==o){var a,c,u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),d=e._getHierarchicalRootPath(u);if(t===i){if(-1===o.indexOf(l)||!d&&!0===n||d&&d.split(l).length===o.split(l).length)return;d?(c=d.split(l).length-1,o=d):(c=o.split(l).length-2,o=o.slice(0,o.lastIndexOf(l))),a=u.attributes[c]}else c=o.split(l).length-1,a=u.attributes[c];a&&r.push([a+":"+o])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),o=r.split(i).length,a=n.attributes.slice(0,o+1);return t.concat(a)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),o=0;return i&&(o=i.split(r).length),[t.attributes[o]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,o={facetQuery:t,facetName:e};return"number"==typeof n&&(o.maxFacetHits=n),ca({},Qa._getHitsSearchParams(i),o)}},Wa=Qa;function Na(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.2.2)"),this.setClient(e);var r=n||{};r.index=t,this.state=ba.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function ja(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function _a(){return this.state.page}Ta(Na,Ga.EventEmitter),Na.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Na.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Na.prototype.getQuery=function(){var e=this.state;return Wa._getHitsSearchParams(e)},Na.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Wa._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new ka(n,e.results),state:n,_originalResponse:e}}),(function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new ka(n,e.results),n)})).catch((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)}))},Na.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var o=this.state.setQueryParameters(r||{}),a=o.isDisjunctiveFacet(e),s=Wa.getSearchForFacetQuery(e,t,n,o);this._currentNbQueries++;var c=this;return this.emit("searchForFacetValues",{state:o,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:o.index,params:s}]):this.client.initIndex(o.index).searchForFacetValues(s)).then((function(t){return c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.isRefined=a?o.isDisjunctiveFacetRefined(e,t.value):o.isFacetRefined(e,t.value)})),t}),(function(e){throw c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),e}))},Na.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},Na.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},Na.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Na.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Na.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Na.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},Na.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},Na.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},Na.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Na.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},Na.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Na.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},Na.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},Na.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Na.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Na.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},Na.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},Na.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Na.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},Na.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Na.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},Na.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},Na.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Na.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},Na.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},Na.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Na.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},Na.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},Na.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},Na.prototype.setCurrentPage=ja,Na.prototype.setPage=ja,Na.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},Na.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},Na.prototype.setState=function(e){return this._change({state:ba.make(e),isPageReset:!1}),this},Na.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new ba(e),this},Na.prototype.hasRefinements=function(e){return!!pa(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},Na.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},Na.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},Na.prototype.hasTag=function(e){return this.state.isTagRefined(e)},Na.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Na.prototype.getIndex=function(){return this.state.index},Na.prototype.getCurrentPage=_a,Na.prototype.getPage=_a,Na.prototype.getTags=function(){return this.state.tagRefinements},Na.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e))this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}));else if(this.state.isDisjunctiveFacet(e)){this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}))}var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},Na.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},Na.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},Na.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=Wa._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=Wa._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),o=Array.prototype.concat.apply(r,i),a=this._queryId++;this._currentNbQueries++;try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,n,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",{error:e})}},Na.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach((function(e){var t=e.state,n=e.queriesCount,i=e.helper,o=r.splice(0,n),a=i.lastResults=new ka(t,o);i.emit("result",{results:a,state:t})}))}},Na.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Na.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},Na.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},Na.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},Na.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Na.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.2.2)"),this.client=e),this},Na.prototype.getClient=function(){return this.client},Na.prototype.derive=function(e){var t=new Oa(this,e);return this.derivedHelpers.push(t),t},Na.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},Na.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Ja=Na;function Ya(e,t,n){return new Ja(e,t,n)}Ya.version="3.2.2",Ya.AlgoliaSearchHelper=Ja,Ya.SearchParameters=ba,Ya.SearchResults=ka;var Ma=Ya,Da=Promise.resolve(),Ka=function(e){var t=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null===t&&(t=Da.then((function(){t=null,n?n=!1:e.apply(void 0,i)})))};return r.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){null!==t&&(n=!0)},r};function qa(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((n=e,Object.prototype.toString.call(n).slice(8,-1)),").\n\n").concat(t));var n}function za(){}function $a(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function es(e){return(es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ts(e){if(!function(e){return"object"===es(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ns(e){return e!==Object(e)}function rs(e,t){if(e===t)return!0;if(ns(e)||ns(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!rs(e[i],t[i]))return!1}return!0}var is={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},os=/[&<>"']/g,as=RegExp(os.source);function ss(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(n),!0).forEach((function(t){us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ls(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ds=function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var n=ls(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)},hs=function(e,t){return t.facets.reduce((function(e,t){return e.addFacet(t)}),e)},fs=function(e,t){return t.disjunctiveFacets.reduce((function(e,t){return e.addDisjunctiveFacet(t)}),e)},ps=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce((function(e,t){var n=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(e,(function(e){return e.name===t.name}));if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r}),e.hierarchicalFacets)})},gs=function(e,t){return t.tagRefinements.reduce((function(e,t){return e.addTagRefinement(t)}),e)},ms=function(e,t){return e.setQueryParameters({facetsRefinements:cs({},e.facetsRefinements,{},t.facetsRefinements)})},vs=function(e,t){return e.setQueryParameters({facetsExcludes:cs({},e.facetsExcludes,{},t.facetsExcludes)})},ys=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:cs({},e.disjunctiveFacetsRefinements,{},t.disjunctiveFacetsRefinements)})},bs=function(e,t){return e.setQueryParameters({numericRefinements:cs({},e.numericRefinements,{},t.numericRefinements)})},Is=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:cs({},e.hierarchicalFacetsRefinements,{},t.hierarchicalFacetsRefinements)})},ws=function(e,t){var n=[].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean).filter((function(e,t,n){return n.indexOf(e)===t}));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},Ss=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=Is(e,t),r=ps(n,t),i=gs(r,t),o=bs(i,t),a=ys(o,t),s=vs(a,t),c=ms(s,t),u=fs(c,t),l=ws(u,t),d=hs(l,t);return ds(d,t)}))},Cs=function(e){var t=e.name,n=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",void 0!==n&&n?"#connector":""].join("")},Bs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return Cs(e)})).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}};function xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rs(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ls(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var As=Bs({name:"index-widget"});function Us(e){return"ais.index"===e.$$type}function Es(e,t){var n=t.state,r=t.isPageReset,i=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:r,_uiState:i}))}function ks(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.filter((function(e){return!Us(e)})).reduce((function(e,n){return n.getWidgetState?n.getWidgetState(e,t):e}),n)}function Vs(e,t){var n=t.initialSearchParameters,r=Ls(t,["initialSearchParameters"]);return e.filter((function(e){return!Us(e)})).reduce((function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,r):e}),n)}function Gs(e){var t=e.getParent();return function e(t){return t.filter(Us).reduce((function(t,n){return t.concat.apply(t,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(Rs(e(n.getWidgets()))))}),[])}(t?t.getWidgets():[e])}var Hs=function(e){if(void 0===e||void 0===e.indexName)throw new Error(As("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,i=[],o={},a=null,s=null,c=null,u=null,l=function(e){return a._createURL(Fs({},r,ks(i,{searchParameters:e,helper:c})))};return{$$type:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return c},getResults:function(){return u&&u.lastResults},getParent:function(){return s},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(As("The `addWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(As("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),a&&Boolean(e.length)&&(Es(c,{state:Vs(i,{uiState:o,initialSearchParameters:c.state}),_uiState:o}),e.forEach((function(e){a&&e.init&&e.init({helper:c,parent:t,uiState:a._initialUiState,instantSearchInstance:a,state:c.state,templatesConfig:a.templatesConfig,createURL:l})})),a.scheduleSearch()),this},removeWidgets:function(e){if(!Array.isArray(e))throw new Error(As("The `removeWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(As("The widget definition expects a `dispose` method."));if(i=i.filter((function(t){return-1===e.indexOf(t)})),a&&Boolean(e.length)){var t=e.reduce((function(e,t){return t.dispose({helper:c,state:e})||e}),c.state);o=ks(i,{searchParameters:t,helper:c}),c.setState(Vs(i,{uiState:o,initialSearchParameters:t})),i.length&&a.scheduleSearch()}return this},init:function(e){var n=this,d=e.instantSearchInstance,h=e.parent,f=e.uiState;a=d,s=h,o=f[r]||{};var p=d.mainHelper,g=Vs(i,{uiState:o,initialSearchParameters:new Ma.SearchParameters({index:t})});(c=Ma({},g.index,g)).search=function(){return d.onStateChange?(d.onStateChange({uiState:d.mainIndex.getWidgetState({}),setUiState:d.setUiState.bind(d)}),p):p.search()},c.searchWithoutTriggeringOnStateChange=function(){return p.search()},c.searchForFacetValues=function(e,t,n,r){var i=c.state.setQueryParameters(r);return p.searchForFacetValues(e,t,n,i)},u=p.derive((function(){return Ss.apply(void 0,Rs(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(n)))})),c.on("change",(function(e){e.isPageReset&&function e(t){var n=t.filter(Us);0!==n.length&&n.forEach((function(t){var n=t.getHelper();Es(n,{state:n.state.resetPage(),isPageReset:!0}),e(t.getWidgets())}))}(i)})),u.on("search",(function(){d.scheduleStalledRender()})),u.on("result",(function(e){var t=e.results;d.scheduleRender(),c.lastResults=t})),i.forEach((function(e){e.init&&e.init({uiState:f,helper:c,parent:n,instantSearchInstance:d,state:c.state,templatesConfig:d.templatesConfig,createURL:l})})),c.on("change",(function(e){var t=e.state,n=e._uiState;o=ks(i,{searchParameters:t,helper:c},n||{}),d.onStateChange||d.onInternalStateChange()}))},render:function(e){var t=this,n=e.instantSearchInstance;i.forEach((function(e){e.render&&u.lastResults&&e.render({helper:c,instantSearchInstance:n,results:u.lastResults,scopedResults:Gs(t),state:u.lastResults._state,templatesConfig:n.templatesConfig,createURL:l,searchMetadata:{isSearchStalled:n._isSearchStalled}})}))},dispose:function(){i.forEach((function(e){e.dispose&&e.dispose({helper:c,state:c.state})})),a=null,s=null,c.removeAllListeners(),c=null,u.detach(),u=null},getWidgetState:function(e){return i.filter(Us).reduce((function(e,t){return t.getWidgetState(e)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(n),!0).forEach((function(t){Fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Fs({},this.getIndexId(),o)))},getWidgetSearchParameters:function(e,t){var n=t.uiState;return Vs(i,{uiState:n,initialSearchParameters:e})},refreshUiState:function(){o=ks(i,{searchParameters:this.getHelper().state,helper:this.getHelper()})}}};function Zs(){return(Zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xs(Object(n),!0).forEach((function(t){Ps(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ps(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Os={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},Qs="<mark>",Ws="</mark>";function Ns(e){return function(e){return e&&as.test(e)?e.replace(os,(function(e){return is[e]})):e}(e).replace(new RegExp(Os.highlightPreTag,"g"),Qs).replace(new RegExp(Os.highlightPostTag,"g"),Ws)}function js(e){return ts(e)&&"string"!=typeof e.value?Object.keys(e).reduce((function(t,n){return Ts({},t,Ps({},n,js(e[n])))}),{}):Array.isArray(e)?e.map(js):Ts({},e,{value:Ns(e.value)})}function _s(e){return void 0===e.__escaped&&((e=e.map((function(e){var t=Zs({},e);return t._highlightResult&&(t._highlightResult=js(t._highlightResult)),t._snippetResult&&(t._snippetResult=js(t._snippetResult)),t}))).__escaped=!0),e}var Js=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",o=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(o)}},Ys=Js("Highlight");function Ms(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=$a(i,"_highlightResult.".concat(t,".value"))||"",c=Ys({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return s.replace(new RegExp(Qs,"g"),"<".concat(r,' class="').concat(c,'">')).replace(new RegExp(Ws,"g"),"</".concat(r,">"))}var Ds=Js("Snippet");function Ks(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.hit,o=e.cssClasses,a=void 0===o?{}:o,s=$a(i,"_snippetResult.".concat(t,".value"))||"",c=Ds({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return s.replace(new RegExp(Qs,"g"),"<".concat(r,' class="').concat(c,'">')).replace(new RegExp(Ws,"g"),"</".concat(r,">"))}function qs(e){return(qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zs(e,t){return function(e){var t,n=e.method,r=e.payload;if("object"!==qs(r))throw new Error("The insights helper expects the payload to be an object.");try{t=btoa(JSON.stringify(r))}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nc(e){var t=e.numberLocale;return{formatNumber:function(e,n){return Number(n(e)).toLocaleString(t)},highlight:function(e,t){try{return t(Ms(ec({},JSON.parse(e),{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(Ks(ec({},JSON.parse(e),{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e),r=n.method,i=n.payload;return t(zs(r,ec({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){oc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ac(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sc(e){e.configure;return ac(e,["configure"])}function cc(){return{stateToRoute:function(e){return Object.keys(e).reduce((function(t,n){return ic({},t,oc({},n,sc(e[n])))}),{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return ic({},t,oc({},n,sc(e[n])))}),{})}}}var uc=Object.prototype.hasOwnProperty,lc=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),dc=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},hc={arrayToObject:dc,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],a=Object.keys(o),s=0;s<a.length;++s){var c=a[s],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:c}),n.push(u))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],i=0;i<t.length;++i)void 0!==t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var i=t.charCodeAt(r);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=t.charAt(r):i<128?n+=lc[i]:i<2048?n+=lc[192|i>>6]+lc[128|63&i]:i<55296||i>=57344?n+=lc[224|i>>12]+lc[128|i>>6&63]+lc[128|63&i]:(r+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(r)),n+=lc[240|i>>18]+lc[128|i>>12&63]+lc[128|i>>6&63]+lc[128|63&i])}return n},isBuffer:function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Array.isArray(t))t.push(n);else{if("object"!=typeof t)return[t,n];(r.plainObjects||r.allowPrototypes||!uc.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!=typeof t)return[t].concat(n);var i=t;return Array.isArray(t)&&!Array.isArray(n)&&(i=dc(t,r)),Array.isArray(t)&&Array.isArray(n)?(n.forEach((function(n,i){uc.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],n,r):t.push(n):t[i]=n})),t):Object.keys(n).reduce((function(t,i){var o=n[i];return uc.call(t,i)?t[i]=e(t[i],o,r):t[i]=o,t}),i)}},fc=String.prototype.replace,pc=/%20/g,gc={default:"RFC3986",formatters:{RFC1738:function(e){return fc.call(e,pc,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},mc={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},vc=Date.prototype.toISOString,yc={delimiter:"&",encode:!0,encoder:hc.encode,encodeValuesOnly:!1,serializeDate:function(e){return vc.call(e)},skipNulls:!1,strictNullHandling:!1},bc=function e(t,n,r,i,o,a,s,c,u,l,d,h){var f=t;if("function"==typeof s)f=s(n,f);else if(f instanceof Date)f=l(f);else if(null===f){if(i)return a&&!h?a(n,yc.encoder):n;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||hc.isBuffer(f))return a?[d(h?n:a(n,yc.encoder))+"="+d(a(f,yc.encoder))]:[d(n)+"="+d(String(f))];var p,g=[];if(void 0===f)return g;if(Array.isArray(s))p=s;else{var m=Object.keys(f);p=c?m.sort(c):m}for(var v=0;v<p.length;++v){var y=p[v];o&&null===f[y]||(g=Array.isArray(f)?g.concat(e(f[y],r(n,y),r,i,o,a,s,c,u,l,d,h)):g.concat(e(f[y],n+(u?"."+y:"["+y+"]"),r,i,o,a,s,c,u,l,d,h)))}return g},Ic=Object.prototype.hasOwnProperty,wc={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:hc.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},Sc=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),a=o?r.slice(0,o.index):r,s=[];if(a){if(!n.plainObjects&&Ic.call(Object.prototype,a)&&!n.allowPrototypes)return;s.push(a)}for(var c=0;null!==(o=i.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&Ic.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+r.slice(o.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var o,a=e[i];if("[]"===a)o=(o=[]).concat(r);else{o=n.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=r:o[s]=r}r=o}return r}(s,t,n)}},Cc={formats:gc,parse:function(e,t){var n=t?hc.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||hc.isRegExp(n.delimiter)?n.delimiter:wc.delimiter,n.depth="number"==typeof n.depth?n.depth:wc.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:wc.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:wc.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:wc.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:wc.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:wc.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:wc.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:wc.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=r.split(t.delimiter,i),a=0;a<o.length;++a){var s,c,u=o[a],l=u.indexOf("]="),d=-1===l?u.indexOf("="):l+1;-1===d?(s=t.decoder(u,wc.decoder),c=t.strictNullHandling?null:""):(s=t.decoder(u.slice(0,d),wc.decoder),c=t.decoder(u.slice(d+1),wc.decoder)),Ic.call(n,s)?n[s]=[].concat(n[s]).concat(c):n[s]=c}return n}(e,n):e,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),a=0;a<o.length;++a){var s=o[a],c=Sc(s,r[s],n);i=hc.merge(i,c,n)}return hc.compact(i)},stringify:function(e,t){var n=e,r=t?hc.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===r.delimiter?yc.delimiter:r.delimiter,o="boolean"==typeof r.strictNullHandling?r.strictNullHandling:yc.strictNullHandling,a="boolean"==typeof r.skipNulls?r.skipNulls:yc.skipNulls,s="boolean"==typeof r.encode?r.encode:yc.encode,c="function"==typeof r.encoder?r.encoder:yc.encoder,u="function"==typeof r.sort?r.sort:null,l=void 0!==r.allowDots&&r.allowDots,d="function"==typeof r.serializeDate?r.serializeDate:yc.serializeDate,h="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:yc.encodeValuesOnly;if(void 0===r.format)r.format=gc.default;else if(!Object.prototype.hasOwnProperty.call(gc.formatters,r.format))throw new TypeError("Unknown format option provided.");var f,p,g=gc.formatters[r.format];"function"==typeof r.filter?n=(p=r.filter)("",n):Array.isArray(r.filter)&&(f=p=r.filter);var m,v=[];if("object"!=typeof n||null===n)return"";m=r.arrayFormat in mc?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var y=mc[m];f||(f=Object.keys(n)),u&&f.sort(u);for(var b=0;b<f.length;++b){var I=f[b];a&&null===n[I]||(v=v.concat(bc(n[I],I,y,o,a,s?c:null,p,u,l,d,g,h)))}var w=v.join(i),S=!0===r.addQueryPrefix?"?":"";return w.length>0?S+w:""}};function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rc=function(e){var t=e.qsModule,n=e.routeState,r=e.location,i=r.protocol,o=r.hostname,a=r.port,s=void 0===a?"":a,c=r.pathname,u=r.hash,l=t.stringify(n),d=""===s?"":":".concat(s);return l?"".concat(i,"//").concat(o).concat(d).concat(c,"?").concat(l).concat(u):"".concat(i,"//").concat(o).concat(d).concat(c).concat(u)},Lc=function(e){var t=e.qsModule,n=e.location;return t.parse(n.search.slice(1),{arrayLimit:99})},Ac=function(e){e&&(window.document.title=e)},Uc=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.windowTitle,r=t.writeDelay,i=void 0===r?400:r,o=t.createURL,a=void 0===o?Rc:o,s=t.parseURL,c=void 0===s?Lc:s;Bc(this,e),Fc(this,"windowTitle",void 0),Fc(this,"writeDelay",void 0),Fc(this,"_createURL",void 0),Fc(this,"parseURL",void 0),Fc(this,"writeTimer",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=i,this._createURL=a,this.parseURL=c;var u=this.windowTitle&&this.windowTitle(this.read());Ac(u)}var t,n,r;return t=e,(n=[{key:"read",value:function(){return this.parseURL({qsModule:Cc,location:window.location})}},{key:"write",value:function(e){var t=this,n=this.createURL(e),r=this.windowTitle&&this.windowTitle(e);this.writeTimer&&window.clearTimeout(this.writeTimer),this.writeTimer=window.setTimeout((function(){Ac(r),window.history.pushState(e,r||"",n),t.writeTimer=void 0}),this.writeDelay)}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(n){t.writeTimer&&(window.clearTimeout(t.writeTimer),t.writeTimer=void 0);var r=n.state;e(r||t.read())},window.addEventListener("popstate",this._onPopState)}},{key:"createURL",value:function(e){return this._createURL({qsModule:Cc,routeState:e,location:window.location})}},{key:"dispose",value:function(){this._onPopState&&window.removeEventListener("popstate",this._onPopState),this.writeTimer&&window.clearTimeout(this.writeTimer),this.write({})}}])&&xc(t.prototype,n),r&&xc(t,r),e}();function Ec(e){return new Uc(e)}function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){Gc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hc=function e(t,n){n(t),t.getWidgets().filter((function(e){return"ais.index"===e.$$type})).forEach((function(t){e(t,n)}))};function Zc(e){return(Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oc(e,t){return(Oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wc=Bs({name:"instantsearch"});function Nc(){return"#"}var jc=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Zc(t)&&"function"!=typeof t?Pc(e):t}(this,Tc(t).call(this)),Qc(Pc(n),"client",void 0),Qc(Pc(n),"indexName",void 0),Qc(Pc(n),"insightsClient",void 0),Qc(Pc(n),"onStateChange",null),Qc(Pc(n),"helper",void 0),Qc(Pc(n),"mainHelper",void 0),Qc(Pc(n),"mainIndex",void 0),Qc(Pc(n),"started",void 0),Qc(Pc(n),"templatesConfig",void 0),Qc(Pc(n),"_stalledSearchDelay",void 0),Qc(Pc(n),"_searchStalledTimer",void 0),Qc(Pc(n),"_isSearchStalled",void 0),Qc(Pc(n),"_initialUiState",void 0),Qc(Pc(n),"_createURL",void 0),Qc(Pc(n),"_searchFunction",void 0),Qc(Pc(n),"_mainHelperSearch",void 0),Qc(Pc(n),"middleware",[]),Qc(Pc(n),"scheduleSearch",Ka((function(){n.started&&n.mainHelper.search()}))),Qc(Pc(n),"scheduleRender",Ka((function(){n.mainHelper.hasPendingRequests()||(clearTimeout(n._searchStalledTimer),n._searchStalledTimer=null,n._isSearchStalled=!1),n.mainIndex.render({instantSearchInstance:Pc(n)}),n.emit("render")}))),Qc(Pc(n),"setUiState",(function(e){if(!n.mainHelper)throw new Error(Wc("The `start` method needs to be called before `setUiState`."));n.mainIndex.refreshUiState();var t="function"==typeof e?e(n.mainIndex.getWidgetState({})):e;!function e(n){n.getHelper().overrideStateWithoutTriggeringChangeEvent(n.getWidgetSearchParameters(n.getHelper().state,{uiState:t[n.getIndexId()]})),n.getWidgets().filter(Us).forEach(e)}(n.mainIndex),n.scheduleSearch(),n.onInternalStateChange()})),Qc(Pc(n),"onInternalStateChange",(function(){var e=n.mainIndex.getWidgetState({});n.middleware.forEach((function(t){t.onStateChange({uiState:e})}))}));var r=e.indexName,i=void 0===r?null:r,o=e.numberLocale,a=e.initialUiState,s=void 0===a?{}:a,c=e.routing,u=void 0===c?null:c,l=e.searchFunction,d=e.stalledSearchDelay,h=void 0===d?200:d,f=e.searchClient,p=void 0===f?null:f,g=e.insightsClient,m=void 0===g?null:g,v=e.onStateChange,y=void 0===v?null:v;if(null===i)throw new Error(Wc("The `indexName` option is required."));if(null===p)throw new Error(Wc("The `searchClient` option is required."));if("function"!=typeof p.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof p.addAlgoliaAgent&&p.addAlgoliaAgent("instantsearch.js (".concat("4.7.2",")")),m&&"function"!=typeof m)throw new Error(Wc("The `insightsClient` option should be a function."));if(n.client=p,n.insightsClient=m,n.indexName=i,n.helper=null,n.mainHelper=null,n.mainIndex=Hs({indexName:i}),n.onStateChange=y,n.started=!1,n.templatesConfig={helpers:nc({numberLocale:o}),compileOptions:{}},n._stalledSearchDelay=h,n._searchStalledTimer=null,n._isSearchStalled=!1,n._createURL=Nc,n._initialUiState=s,l&&(n._searchFunction=l),u){var b="boolean"==typeof u?void 0:u;n.EXPERIMENTAL_use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?Ec():t,r=e.stateMapping,i=void 0===r?cc():r;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var r=Object.keys(e).reduce((function(t,n){return Vc({},t,Gc({},n,e[n]))}),t.mainIndex.getWidgetState({})),o=i.stateToRoute(r);return n.createURL(o)},t._initialUiState=Vc({},t._initialUiState,{},i.routeToState(n.read()));var r=void 0;return{onStateChange:function(e){var t=e.uiState,o=i.stateToRoute(t);void 0!==r&&rs(r,o)||(n.write(o),r=o)},subscribe:function(){n.onUpdate((function(e){var n=i.routeToState(e);Hc(t.mainIndex,(function(e){var r=e.getWidgets(),i=n[e.getIndexId()]||{},o=r.reduce((function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,{uiState:i}):e}),e.getHelper().state);e.getHelper().overrideStateWithoutTriggeringChangeEvent(o),t.scheduleSearch()}))}))},unsubscribe:function(){n.dispose()}}}}(b))}return n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oc(e,t)}(t,e),n=t,(r=[{key:"EXPERIMENTAL_use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map((function(t){var n=t({instantSearchInstance:e});return e.middleware.push(n),n}));return this.started&&i.forEach((function(e){e.subscribe()})),this}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(Wc("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(Wc("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(Wc("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(Wc("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(Wc("The `start` method has already been called once."));var t=Ma(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(za)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var r=e.mainIndex.getHelper(),i=Ma(n,r.state.index,r.state);return i.once("search",(function(t){var n=t.state;r.overrideStateWithoutTriggeringChangeEvent(n),e._mainHelperSearch()})),i.on("change",(function(e){var t=e.state;r.setState(t)})),e._searchFunction(i),t}}t.on("error",(function(t){var n=t.error;e.emit("error",{error:n})})),this.mainHelper=t,this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this.middleware.forEach((function(e){e.subscribe()})),t.search(),this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e._isSearchStalled=!0,e.scheduleRender()}),this._stalledSearchDelay))}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(Wc("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Wc("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&Xc(n.prototype,r),i&&Xc(n,i),t}(Ga);function _c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jc(e){var t=e||{};t.page;return _c(t,["page"])}var Yc="ais.infiniteHits";function Mc(){return"undefined"!=typeof window&&void 0!==window.sessionStorage}var Dc=function(e){return new jc(e)};function Kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kc(Object(n),!0).forEach((function(t){zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Dc.version="4.7.2",Dc.snippet=Ks,Dc.highlight=Ms,Dc.insights=zs,Dc.getInsightsAnonymousUserToken=function(){return function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}("_ALGOLIA")},Dc.createInfiniteHitsSessionStorageCache=function(){return{read:function(e){var t=e.state;if(!Mc())return null;try{var n=JSON.parse(window.sessionStorage.getItem(Yc));return n&&rs(n.state,Jc(t))?n.hits:null}catch(e){if(e instanceof SyntaxError)try{window.sessionStorage.removeItem(Yc)}catch(e){}return null}},write:function(e){var t=e.state,n=e.hits;if(Mc())try{window.sessionStorage.setItem(Yc,JSON.stringify({state:Jc(t),hits:n}))}catch(e){}}}},Object.defineProperty(Dc,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(Dc,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var $c=Bs({name:"configure",connector:!0});function eu(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce((function(e,t){return qc({},e,zc({},t,void 0))}),{}))}var tu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:za;return function(n){if(!n||!ts(n.searchParameters))throw new Error($c("The `searchParameters` option expects an object."));var r={};return{$$type:"ais.configure",init:function(t){var i=t.instantSearchInstance,o=t.helper;r.refine=function(e){return function(t){var r=eu(e.state,n),i=Ss(r,new Ma.SearchParameters(t));e.setState(i).search(),n.searchParameters=t}}(o),e({refine:r.refine,instantSearchInstance:i,widgetParams:n},!0)},render:function(t){var i=t.instantSearchInstance;e({refine:r.refine,instantSearchInstance:i,widgetParams:n},!1)},dispose:function(e){var r=e.state;return t(),eu(r,n)},getWidgetSearchParameters:function(e,t){var r=t.uiState;return Ss(e,new Ma.SearchParameters(qc({},r.configure,{},n.searchParameters)))},getWidgetState:function(e){return qc({},e,{configure:qc({},e.configure,{},n.searchParameters)})}}}},nu=[].join,ru=p!=Object,iu=Hr("join",",");function ou(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){su(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ue({target:"Array",proto:!0,forced:ru||!iu},{join:function(e){return nu.call(m(this),void 0===e?",":e)}});var cu=Bs({name:"autocomplete",connector:!0}),uu=38,lu=40,du=27,hu=function(e,t,n){var r=t.querySelector(".ino-suggestion__item.selected");if(r)if("down"===e){var i=r.nextSibling;i&&(r.classList.remove("selected"),i.classList.add("selected"),n&&n(i))}else{var o=r.previousSibling;o&&o.classList.add("selected"),r.classList.remove("selected"),n&&n(o)}else if("down"===e){var a=t.querySelector(".ino-suggestion__box");a&&a.firstChild&&(a.firstChild.classList.add("selected"),n&&n(a.firstChild))}};var fu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:za;return qa(e,cu()),function(n){var r=(n||{}).escapeHTML,i=void 0===r||r,o={};return{$$type:"ais.autocomplete",init:function(t){var r=t.instantSearchInstance,i=t.helper;o.refine=function(e){i.setQuery(e).search()},e({widgetParams:n,currentRefinement:i.state.query||"",indices:[],refine:o.refine,instantSearchInstance:r},!0)},render:function(t){var r=t.helper,a=t.scopedResults,s=t.instantSearchInstance,c=a.map((function(e){return e.results.hits=i?_s(e.results.hits):e.results.hits,{indexId:e.indexId,indexName:e.results.index,hits:e.results.hits,results:e.results}}));e({widgetParams:n,currentRefinement:r.state.query||"",indices:c,refine:o.refine,instantSearchInstance:s},!1)},getWidgetState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:au({},e,{query:n})},getWidgetSearchParameters:function(e,t){var n={query:t.uiState.query||""};return i?e.setQueryParameters(au({},n,{},Os)):e.setQueryParameters(n)},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("query",void 0);return i?r.setQueryParameters(Object.keys(Os).reduce((function(e,t){return au({},e,su({},t,void 0))}),{})):r}}}}((function(e,t){var n="",r=null,i=e.indices,o=e.currentRefinement,a=e.refine,s=e.widgetParams,c=i[0],u=function(){return r||(r=s.container.querySelector(".ino-suggestion__box")),r},l=function(e){var t=e.target.closest(".ino-suggestion__item");t&&(s.container.querySelector(".search-form .search-typing").value=t.getAttribute("value"),s.container.submit())},d=function(){var e=u();s.container.querySelectorAll(".ino-suggestion__item").forEach((function(e){e.removeEventListener("click",l)})),e.innerHTML="",e.classList.remove("show")};if(t){var h=s.container.querySelector(".search-form .search-typing");h.addEventListener("input",(function(e){n=e.currentTarget.value,a(e.currentTarget.value)})),h.addEventListener("focus",(function(){p.classList.add("show")})),window.document.addEventListener("click",(function(e){e.target!==h&&e.target!==p&&p.classList.remove("show")}));var f=function(e){h.value=e?e.getAttribute("value"):n};h.addEventListener("keydown",(function(e){if(s.container.querySelectorAll(".ino-suggestion__item").length>0)switch(e.keyCode){case uu:e.preventDefault(),hu("up",s.container,f);break;case lu:e.preventDefault(),hu("down",s.container,f);break;case du:d()}})),s.container.classList.add("ino-suggestion");var p=document.createElement("div");p.className="ino-suggestion__box",s.container.appendChild(p),p.onmousemove=function(){s.container.querySelectorAll(".ino-suggestion__item.selected").forEach((function(e){return e.classList.remove("selected")}))}}o?function(e){var t=u();null!==s.container.offsetParent&&(s.container.querySelectorAll(".ino-suggestion__item").forEach((function(e){e.removeEventListener("click",l)})),t.innerHTML=function(e){var t=e.hits,n=[];return t.forEach((function(e){n.push('<div class="ino-suggestion__item" value="'+e.query+'">'+Dc.highlight({attribute:"query",hit:e})+"</div>")})),n.join("")}(e),s.container.querySelectorAll(".ino-suggestion__item").forEach((function(e){e.addEventListener("click",l,!0)})),t.classList.add("show"))}(c):d()})),pu='<form class="search-form" role="search" method="GET" action="//www.arduino.cc/search">\n  <div class="search-icon">\n    <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-search.svg" onload="SVGInject(this)">\n  </div>\n  <input type="hidden" name="tab" value="" class="search-tab">\n  <input type="text" placeholder="Search on Arduino.cc" value="" name="q" title="" class="search-typing" autocomplete="off">\n</form>',gu=function(){function e(e,t,n,r){this.opts=r,this.container=e,this.containerDesktop=t,this.containerMobile=n,this.render()}var t=e.prototype;return t.render=function(){var e=this.opts.search;if("object"==typeof e&&null!==e)if(this.container)if(this.containerDesktop)if(this.containerMobile)if(this.opts.theme&&(this.containerDesktop.classList.add(this.opts.theme),this.containerMobile.classList.add(this.opts.theme)),e.showButton)this.containerDesktop.innerHTML='<div class="app-search-button" id="app-search-button" role="button">\n  <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-search.svg" onload="SVGInject(this)">\n</div>',this.containerDesktop.classList.remove("hide"),this.containerDesktop.classList.add("app-search-container"),this.searchButton=this.containerDesktop.querySelector(".search-button");else{this.containerDesktop.innerHTML=pu,this.containerMobile.innerHTML=pu,this.searchForm=this.containerDesktop.querySelector(".search-form"),this.mobileSearchForm=this.containerMobile.querySelector(".search-form"),this.containerDesktop.classList.add("app-desktop-search-control"),this.containerMobile.classList.add("app-mobile-search-control"),this.containerDesktop.classList.remove("hide"),this.containerMobile.classList.remove("hide"),this._setupSearchForm();var t=e.autocomplete;(void 0===t||t)&&this._setupDocsearch(),this.addEventListeners()}else window.arduinoHFDebug&&console.error("Empty containerMobile");else window.arduinoHFDebug&&console.error("Empty containerDesktop");else window.arduinoHFDebug&&console.error("Empty container")},t._setupDocsearch=function(){try{var e=this.opts.search,t=e.indexName||"globalsearch_query_suggestions",n=oa(e.appId||"Y2Y10MZ7JY",e.apiKey||"1de4271379988b2cb3d797b07fca6805");this.instantSearchEngine=Dc({indexName:t,searchClient:n}),this.instantSearchEngine.addWidgets([(r={hitsPerPage:e.hitsPerPage||7},tu(za)({searchParameters:r})),Hs({indexName:t}).addWidgets([fu({container:this.container.querySelector(".app-desktop-search-control .search-form"),indexName:t}),fu({container:this.container.querySelector(".app-mobile-search-control .search-form"),indexName:t})])]),this.instantSearchEngine.start()}catch(e){console.error("Failed to initialized instantsearch;",e.message,e)}var r},t._setupSearchForm=function(){var e=this.opts.search;if(e.action&&(this.searchForm.action=e.action,this.mobileSearchForm.action=e.action),e.blank&&(this.searchForm.target="_blank",this.mobileSearchForm.target="_blank"),e.placeholder){var t=function(t){if(t){var n=t.querySelector(".search-typing");n&&(n.placeholder=e.placeholder)}};t(this.containerDesktop),t(this.containerMobile)}if(e.tab){var n=function(t){if(t){var n=t.querySelector(".search-tab");n&&(n.value=e.tab)}};n(this.containerDesktop),n(this.containerMobile)}},t._cleanupSearch=function(){var e=function(e){if(e){var t=e.querySelector(".search-typing");t&&(t.value="")}};e(this.searchForm),e(this.mobileSearchForm)},t.addEventListeners=function(){var e=function(e,t){if(e){var n=e.querySelector(".search-typing");n&&n.addEventListener("blur",(function(e){if(t){var n=t.querySelector(".search-typing");n&&(n.value=e.target.value)}}))}};e(this.searchForm,this.mobileSearchForm),e(this.mobileSearchForm,this.searchForm)},e}(),mu=Qe("unscopables"),vu=Array.prototype;null==vu[mu]&&A.f(vu,mu,{configurable:!0,value:mo(null)});var yu=function(e){vu[mu][e]=!0},bu=fe.includes,Iu=Pr("indexOf",{ACCESSORS:!0,1:0});Ue({target:"Array",proto:!0,forced:!Iu},{includes:function(e){return bu(this,e,arguments.length>1?arguments[1]:void 0)}}),yu("includes");var wu=function(e,t){void 0===t&&(t=2);for(var n=[],r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},Su={"web-editor":{name:"Web Editor",id:"web-editor",url:"https://create.arduino.cc/editor",dev:"https://create-dev.arduino.cc/editor",blank:!0},classroom:{name:"Classroom",id:"classroom",url:"https://create.arduino.cc",dev:"https://create-dev.arduino.cc",blank:!0},"device-manager":{name:"Manager for Linux",id:"device-manager",url:"https://create.arduino.cc/devices",dev:"https://create-dev.arduino.cc/devices",blank:!0},"iot-cloud":{name:"IoT Cloud",id:"iot-cloud",url:"https://create.arduino.cc/iot",dev:"https://create-dev.arduino.cc/iot",blank:!0},"digital-store":{name:"Digital Store",id:"digital-store",url:"https://store.arduino.cc/digital/",dev:"https://unistore-dev.arduino.cc/digital/",blank:!0}},Cu=["web-editor","iot-cloud","device-manager","digital-store"],Bu=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.apps=t.apps&&Array.isArray(t.apps)?t.apps:Cu,this.toggleBbqMenu=function(e,t){var n;return function(){var r=arguments,i=this,o=function(){return e.apply(i,r)};clearTimeout(n),n=setTimeout(o,t)}}(this.toggleBbqMenu,750),this.render()}var t=e.prototype;return t.render=function(){if(this.container){if(null!==this.opts.apps&&0!==this.apps.length){this.container.classList.add("app-applications-container"),this.container.classList.remove("hide"),this.opts.theme&&this.container.classList.add(this.opts.theme),this.opts.style&&this.container.classList.add("style-"+this.opts.style),this.container.innerHTML='<div class="app-applications popup-dropdown">\n  <a aria-label="Applications" id="application-list-control" href="#" role="button">\n    <div class="app-applications-icon">\n      <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-app-list.svg" onload="SVGInject(this)">\n    </div>\n  </a>\n  <div class="popup-container">\n    <div class="popup-container__box" id="app-apps-container-box"></div>\n  </div>\n</div>';var e=this.container.querySelector("#app-apps-container-box");e&&(e.innerHTML="",e.appendChild(this._renderItems())),this.addEventListeners()}}else window.arduinoHFDebug&&console.error("Empty container")},t._renderItems=function(){var e=this.opts.env,t=void 0===e?"dev":e,n=this.apps;if(Array.isArray(n)&&0!==n.length){var r=function(e){var t=[];return e.forEach((function(e){t.includes(e)||t.push(e)})),t}(n),i=[];r.forEach((function(e){Su[e]?i.push(Su[e]):"dev"===t&&console.error("This application not exists: ",e)}));var o=wu(i),a=document.createDocumentFragment(),s=function(e){var n=document.createElement("div");return n.className="app-applications__row",e.forEach((function(e){return n.appendChild(function(e){var n=document.createElement("div");n.className="app-applications__col",1===i.length&&(n.style.border="none");var r='<a id="'+e.id+'" class="app-application" href="'+("dev"===t?e.dev:e.url)+'" '+(e.blank?'target="blank" rel="noopener noreferrer"':"")+'>\n        <div class="app-application__icon">\n          <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerApp-'+e.id+'.svg" onload="SVGInject(this)"></img>\n        </div>\n        <div class="app-application__name">'+e.name+"</div>\n      </a>";return n.innerHTML=r,n}(e))})),n};return o.forEach((function(e){return a.appendChild(s(e))})),a}},t.addEventListeners=function(){var e=this;if(this.container){var t=this.container.querySelector(".app-applications");this.container.querySelector("#application-list-control").addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),e.quickToggleBbqMenu(!t.classList.contains("open"))})),document.addEventListener("click",(function(){e.quickToggleBbqMenu(!1)})),t.addEventListener("mouseenter",(function(){t.classList.contains("open")&&e.toggleBbqMenu(!0)})),t.addEventListener("mouseleave",(function(){e.toggleBbqMenu(!1)}))}},t.quickToggleBbqMenu=function(e){var t=this.container.querySelector(".app-applications");e?t.classList.contains("open")||t.classList.add("open"):t.classList.remove("open")},t.toggleBbqMenu=function(e){this.quickToggleBbqMenu(e)},e}();function xu(){return(xu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fu,Ru=Fu||(Fu={});Ru.Pop="POP",Ru.Push="PUSH",Ru.Replace="REPLACE";function Lu(e){e.preventDefault(),e.returnValue=""}function Au(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}var Uu=function(e){function t(){var e=a.location,t=s.state||{};return[t.idx,{pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"}]}function n(e){return"string"==typeof e?e:function(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}(e)}function r(e,t){return void 0===t&&(t=null),xu({},d,{},"string"==typeof e?function(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function i(e){u=e,e=t(),l=e[0],d=e[1],h.call({action:u,location:d})}function o(e){s.go(e)}void 0===e&&(e={});var a=void 0===(e=e.window)?document.defaultView:e,s=a.history,c=null;a.addEventListener("popstate",(function(){if(c)f.call(c),c=null;else{var e=Fu.Pop,n=t(),r=n[0];if(n=n[1],f.length){if(null!=r){var a=l-r;a&&(c={action:e,location:n,retry:function(){o(-1*a)}},o(a))}}else i(e)}}));var u=Fu.Pop,l=(e=t())[0],d=e[1],h=Au(),f=Au();return null==l&&(l=0,s.replaceState(xu({},s.state,{idx:l}),"")),{get action(){return u},get location(){return d},createHref:n,push:function e(t,o){var c=Fu.Push,u=r(t,o);if(!f.length||(f.call({action:c,location:u,retry:function(){e(t,o)}}),0)){var d=[{usr:u.state,key:u.key,idx:l+1},n(u)];u=d[0],d=d[1];try{s.pushState(u,"",d)}catch(e){a.location.assign(d)}i(c)}},replace:function e(t,o){var a=Fu.Replace,c=r(t,o);f.length&&(f.call({action:a,location:c,retry:function(){e(t,o)}}),1)||(c=[{usr:c.state,key:c.key,idx:l},n(c)],s.replaceState(c[0],"",c[1]),i(a))},go:o,back:function(){o(-1)},forward:function(){o(1)},listen:function(e){return h.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&a.addEventListener("beforeunload",Lu),function(){t(),f.length||a.removeEventListener("beforeunload",Lu)}}}}(),Eu=function(e){return"/"===e.slice(-1)?e.slice(0,e.length-1):e},ku=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.menu=(t.menu&&Array.isArray(t.menu)?t.menu:[]).slice(0,7),this.baseUrl=t.baseUrl&&"string"==typeof t.baseUrl?Eu(t.baseUrl):"/",this.unlisten=null,this.history=Uu,this._handleLocationChange=this._handleLocationChange.bind(this),this.render()}var t=e.prototype;return t.render=function(){if(this.container){this.history&&(this.unlisten=this.history.listen(this._handleLocationChange)),this.container.classList.add("app-menu-main");var e=this.opts,t=e.theme,n=e.showEarlier,r=e.useExtend,i=e.style;t&&this.container.classList.add(t),i&&this.container.classList.add("style-"+i),n&&this.container.classList.add("show-earlier"),r&&this.container.classList.add("use-extend"),this.container.innerHTML="",this.container.appendChild(this._createMenu(this.menu)),this.addEventListeners(),this.setLocation(window.location)}else window.arduinoHFDebug&&console.error("Empty container")},t.renderMenu=function(e){Array.isArray(e)&&(this.menu=e,this.container&&(this.container.innerHTML="",this.container.appendChild(this._createMenu(this.menu)),this.addEventListeners(),this.setLocation(window.location)))},t._createMenuItem=function(e){var t=this,n=this.opts.useExtend,r=document.createElement("div");r.className="app-menu-item",r.tabIndex=0;var i=Ho(e,"app-menu-text",Ei(e.name));if(i.classList.add("main-text"),i.tabIndex=-1,n&&e.extend&&Array.isArray(e.extend)&&e.extend.length>0||e.subMenu&&Array.isArray(e.subMenu)&&e.subMenu.length>0){var o=document.createElement("div");o.className="app-menu-triangle",o.innerHTML='<svg>\n        <use xlink:href="'+window.location.pathname+'#headerIcon-menu-triangle" href="#headerIcon-menu-triangle"></use>\n      </svg>',i.appendChild(o)}if(r.appendChild(i),n&&e.extend&&Array.isArray(e.extend)&&e.extend.length>0){r.classList.add("app-has-sub-menu"),r.classList.add("app-has-extend-menu");var a=e.extend,s="";a.length>1?(s="app-extend-"+Date.now(),a.slice(0,2).forEach((function(n,i){var o=n.module,a=Ho(e,"app-menu-text app-extend-mobile-link app-extend-button",Ei(e.name)+" - "+(o&&o.name?o.name:"Part "+(i+1))),c=t._createNextIcon();a.appendChild(c),a.setAttribute("data-id",s+"-"+i),r.appendChild(a)}))):(i.classList.add("app-extend-button"),i.classList.add("app-extend-next"),i.appendChild(this._createNextIcon())),r.appendChild(this._createExtendMenus(e.extend,s))}else e.subMenu&&Array.isArray(e.subMenu)&&e.subMenu.length>0&&(r.classList.add("app-has-sub-menu"),r.appendChild(this._createSubMenu(e.subMenu)));return r},t._createExtendMenus=function(e,t){var n=this,r=e.slice(0,2),i=document.createElement("div");return i.className="app-extends-menu",r.forEach((function(e,r){i.appendChild(n._createExtendMenu(e,t?t+"-"+r:""))})),i},t._createExtendBack=function(){var e=document.createElement("div");return e.className="app-extend-menu-back",e.innerHTML='<svg>\n      <use xlink:href="'+window.location.pathname+'#headerIcon-extend-next" href="#headerIcon-extend-next"></use>\n    </svg><span>Back</span>',e},t._createExtendMenu=function(e,t){var n=document.createElement("div");n.className="app-extend-menu",t&&(n.id=t),n.appendChild(this._createExtendBack());var r=e.module,i=e.blocks,o=e.links;if("object"==typeof r&&r.name){var a=document.createElement("div");a.className="app-extend-menu__module-name",a.appendChild(Ho(r)),n.appendChild(a)}if(i&&Array.isArray(i)&&i.length>0)i.forEach((function(e){var t=e.name,r=e.links,i=document.createElement("div");if(i.className="app-extend-menu__block",t&&"string"==typeof t){var o=document.createElement("div");o.className="app-extend-menu__block-name",o.appendChild(Ho(e,"app-extend-menu__block-name-link")),i.appendChild(o)}r&&Array.isArray(r)&&r.forEach((function(e){var t=document.createElement("div");t.className="app-extend-menu__link",t.appendChild(Ho(e)),i.appendChild(t)})),n.appendChild(i)}));else if(o&&Array.isArray(o)&&o.length>0){var s=document.createElement("div");s.className="app-extend-menu__link-box",o.forEach((function(e){var t=document.createElement("div");t.className="app-extend-menu__link",t.appendChild(Ho(e)),s.appendChild(t)})),n.appendChild(s)}return n},t._createNextIcon=function(){var e=document.createElement("div");return e.className="app-extend-mobile-link__icon",e.innerHTML='<svg>\n      <use xlink:href="'+window.location.pathname+'#headerIcon-extend-next" href="#headerIcon-extend-next"></use>\n    </svg>',e},t._createSubMenu=function(e){var t=this,n=this.opts.useExtend,r=document.createElement("div");return r.className="app-sub-menu",e.forEach((function(e){var i=Ho(e,"app-menu-text sub-menu-text",Ei(e.name)),o=e.extend;if(n&&o&&Array.isArray(o)&&o.length>0){var a=document.createElement("div");a.className="app-menu-sub-icon",a.innerHTML='<svg>\n          <use xlink:href="'+window.location.pathname+'#headerIcon-extend-menu" href="#headerIcon-extend-menu"></use>\n        </svg>',i.appendChild(a);var s=document.createElement("div");s.className="app-extend-sub-menu",s.tabIndex=0;var c="";o.length>1?(i.classList.add("app-extend-hide-element"),c="app-extend-"+Date.now(),o.slice(0,2).forEach((function(n,r){var i=n.module,o=Ho(e,"app-menu-text app-extend-mobile-link app-extend-button",Ei(e.name)+" - "+(i&&i.name?i.name:"Part "+(r+1))),a=t._createNextIcon();o.appendChild(a),o.setAttribute("data-id",c+"-"+r),s.appendChild(o)}))):(i.appendChild(t._createNextIcon()),i.classList.add("app-extend-button")),s.appendChild(i),s.appendChild(t._createExtendMenus(o,c)),r.appendChild(s)}else r.appendChild(i)})),r},t._createMenu=function(e){var t=this;void 0===e&&(e=[]);var n=document.createDocumentFragment();return e.forEach((function(e){n.appendChild(t._createMenuItem(e))})),n},t.closeAllMenus=function(){this.container.querySelectorAll(".app-has-sub-menu").forEach((function(e){e.querySelectorAll(".app-extend-menu").forEach((function(e){return e.classList.remove("open")})),e.querySelectorAll(".app-extend-sub-menu").forEach((function(e){return e.classList.remove("open")})),e.querySelectorAll(".app-sub-menu").forEach((function(e){return e.classList.remove("open")})),e.classList.remove("open")})),this.container.classList.remove("no-scroll-menu")},t.addEventListeners=function(){var e=this,t=this.opts.useExtend;this.container&&(t?(this.container.querySelectorAll(".app-has-extend-menu").forEach((function(t){t.querySelectorAll(".app-extend-button").forEach((function(n){n.addEventListener("click",(function(r){r.preventDefault(),e.closeAllMenus(),t.classList.add("open"),e.container.classList.add("no-scroll-menu"),e.container.scrollTop=0;var i=n.getAttribute("data-id"),o=i?t.querySelector("#"+i):t.querySelector(".app-extend-menu");o&&o.classList.add("open")}))}))})),this.container.querySelectorAll(".app-extend-sub-menu").forEach((function(t){t.querySelectorAll(".app-extend-button").forEach((function(n){n.addEventListener("click",(function(r){r.preventDefault(),e.closeAllMenus(),t.closest(".app-has-sub-menu").classList.add("open"),t.classList.add("open"),e.container.classList.add("no-scroll-menu"),e.container.scrollTop=0;var i=n.getAttribute("data-id"),o=i?t.querySelector("#"+i):t.querySelector(".app-extend-menu");o&&o.classList.add("open")}))}))})),this.container.querySelectorAll(".app-extend-menu-back").forEach((function(t){t.addEventListener("click",(function(){e.closeAllMenus()}))}))):this.container.querySelectorAll(".app-has-sub-menu").forEach((function(t){t.addEventListener("click",(function(){e.container.querySelectorAll(".app-has-sub-menu").forEach((function(e){e!==t&&(e.querySelectorAll(".app-sub-menu").forEach((function(e){return e.classList.remove("open")})),e.classList.remove("open"))})),t.classList.toggle("open"),t.querySelector(".app-sub-menu").classList.toggle("open")}))})),this.container.querySelectorAll(".app-menu-main > .app-menu-item").forEach((function(e){e.addEventListener("click",(function(t){t.target.blur();var n=t.target.closest("a");n&&n.blur(),e.blur(),e.querySelectorAll(".app-menu-text").forEach((function(e){return e.blur()}))}))})),this.container.querySelectorAll(".app-menu-text.sub-menu-text").forEach((function(e){e.addEventListener("click",(function(e){e.target.blur();var t=e.target.closest("a");t&&t.blur();var n=e.target.closest(".app-extend-sub-menu");n&&n.blur()}))})),this.container.querySelectorAll(".app-menu-text.main-text").forEach((function(e){e.addEventListener("mouseout",(function(e){e.preventDefault(),e.target.blur();var t=e.target.closest("a");t&&t.blur()}))})))},t.queryElements=function(e){return this.container.querySelectorAll(e)},t._handleLocationChange=function(e){window.arduinoHFDebugLocation&&console.log("_handleLocationChange",e);var t=e.location||e;this.setLocation(t)},t.setLocation=function(e){void 0===e&&(e={}),window.arduinoHFDebugLocation&&console.log("setLocation",e,window.location);var t=e.href||window.location.href;if(!this.setActiveLink(t)){var n=e.pathname||window.location.pathname;"/"!==this.baseUrl&&(0===n.indexOf(this.baseUrl)&&(n=n.substr(this.baseUrl.length)),n||(n="/"));var r=e.hash||window.location.hash,i="/"===n&&r?""+r:""+n+(r||"");this.setActiveLink(i)}},t.setActiveLink=function(e){window.arduinoHFDebugLocation&&console.log("setActiveLink",e),this.container.querySelectorAll("a.active").forEach((function(e){return e.classList.remove("active")})),this.container.querySelectorAll(".app-extend-sub-menu.active").forEach((function(e){return e.classList.remove("active")}));var t=!1;return this.container.querySelectorAll("a").forEach((function(n){if((n.getAttribute("href")===e||n.href===e)&&(t=!0,n.classList.add("active"),!n.classList.contains("main-text"))){var r=n.closest(".app-has-sub-menu");if(r){var i=r.querySelector(".app-menu-text.main-text");i&&i.classList.add("active")}var o=n.closest(".app-extend-sub-menu");o&&o.classList.add("active")}})),t},t.setHistory=function(e,t){void 0===t&&(t={}),this.history=e,this.baseUrl=t.baseUrl&&"string"==typeof t.baseUrl?Eu(t.baseUrl):this.baseUrl,this.unlisten&&this.unlisten(),this.unlisten=e.listen(this._handleLocationChange),this.setLocation(window.location)},e}(),Vu=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.buttons=t.menuButtons&&Array.isArray(t.menuButtons)?t.menuButtons:[],this.render()}var t=e.prototype;return t.render=function(){this.container?(this.container&&(this.container.classList.add("app-menu-buttons"),this.opts.theme&&this.container.classList.add(this.opts.theme)),this._renderButtons()):window.arduinoHFDebug&&console.error("Empty container")},t._renderButtons=function(){var e=this;if(this.container)if(this.container.innerHTML="",this.buttons.length>0){this.container.classList.add("show");var t=document.createDocumentFragment();this.buttons.slice(0,2).forEach((function(n){t.appendChild(e._createButton(n))})),this.container.appendChild(t)}else this.container.classList.remove("show")},t.renderMenuButtons=function(e){Array.isArray(e)&&(this.buttons=e,this._renderButtons())},t._createButton=function(e){var t=Ho(e,e.main?"app-menu-button main-button":"app-menu-button",e.label||"");return e.id&&(t.id=e.id),t},e}(),Gu=[{url:"",name:"{{ ARDUINO_USA | translate }}",blank:!1,subMenu:[{url:"//www.arduino.cc/en/Main/Create",name:"{{ ONLINE_TOOLS | translate }}",blank:!0},{url:"//www.arduino.cc/en/software",name:"{{ DOWNLOADS | translate }}",blank:!0}]},{url:"",name:"{{ RESOURCES | translate }}",blank:!1,subMenu:[]}],Hu=[{url:"https://www.arduino.cc/en/Main/Products",name:"Hardware",blank:!1},{url:"",name:"Software",blank:!1,subMenu:[{url:"//www.arduino.cc/en/Main/Create",name:"Arduino Create",blank:!1},{url:"//www.arduino.cc/en/software",name:"{{ DOWNLOADS | translate }}",blank:!1}]},{url:"",name:"Documentation",blank:!1,subMenu:[{url:"//www.arduino.cc/en/Tutorial/HomePage",name:"{{ TUTORIALS | translate }}",blank:!1},{url:"//www.arduino.cc/reference/en",name:"{{ REFERENCE | translate }}",blank:!1},{url:"//playground.arduino.cc/",name:"Playground",blank:!1}]},{url:"",name:"Community",blank:!1,subMenu:[{url:"//forum.arduino.cc/",name:"Forum",blank:!1},{url:"https://discord.gg/jQJFwW7",name:"Discord",blank:!0},{url:"//create.arduino.cc/projecthub",name:"Project Hub",blank:!0},{url:"//day.arduino.cc/",name:"Arduino Day",blank:!0}]},{url:"//blog.arduino.cc/",name:"Blog",blank:!1},{url:"https://www.arduino.cc/en/Guide/Introduction",name:"About",blank:!1}],Zu=function(){var e=t.prototype;function t(e,n,r,i){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n,r,i)}return e.init=function(e,t,n,r){var i=this;this.container=e,this.auth=t,this.api=n,this.opts=r,this.drawerIsOpen=!1,this.cart=new Ti(r,t),this.currentScrollPos=0,this.render(r).then((function(){window.addEventListener("scroll",(function(){i.collapseOnScroll(i.arduinoNav),i.storeControls.hideSubMenus()})),Xo(),window.addEventListener("resize",(function(){i.setMinControlWidth(),Xo()})),i.menuCmp&&i.menuCmp.queryElements("a").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".app-menu-text"),n=e.target.closest(".app-menu-item");(null===t||!t.classList.contains("main-text")&&n.classList.contains("app-has-sub-menu")||t.classList.contains("main-text")&&!n.classList.contains("app-has-sub-menu"))&&i._closeMenu()}))}))}))},e.render=function(){return new Promise(function(e,t){return this.container.innerHTML=Ei('<header id="ino-header-new">\n  <nav class="arduino-nav">\n    \x3c!-- First level of header --\x3e\n    <div class="first-level">\n      <div class="first-level-left" id="main-menu">\n        \x3c!-- Component MenuAppsCmp --\x3e\n      </div>\n\n      \x3c!-- Right part of control --\x3e\n      <div class="first-level-right">\n        \x3c!-- Search bar --\x3e\n        <div class="app-controls search-control hide">\n          \x3c!-- Search Handler component --\x3e\n        </div>\n\n        \x3c!-- Store container --\x3e\n        <div class="app-controls store-controls hide">\n          \x3c!-- Store buttons --\x3e\n        </div>\n\n        \x3c!-- Application list --\x3e\n        <div class="app-controls application-list hide">\n          \x3c!-- Application injectable --\x3e\n        </div>\n\n        \x3c!-- Auth/Profile container --\x3e\n        <div class="app-controls profile-desktop-container">\n          \x3c!-- desktop view --\x3e\n        </div>\n      </div>\n\n    </div>\n\n    \x3c!-- Second level of header --\x3e\n    <div class="second-level">\n      \x3c!-- Brand logo --\x3e\n      <a class="brand-logo" href="/" aria-label="arduino-logo">\n        \x3c!--<div id="standard">\n          <img src="{TEMPLATE}" alt=\'Logo\'>\n        </div>\n        <div id="custom">\n          Custom Logo here\n        </div>--\x3e\n      </a>\n\n      \x3c!-- Main application menu --\x3e\n      <div class="menu-container">\n        \x3c!-- Search bar --\x3e\n        <div class="mobile-search-control hide">\n          \x3c!-- Search handler component --\x3e\n        </div>\n\n        \x3c!-- App menu --\x3e\n        <div class="menu-list" id="app-menu-list">\n          \x3c!-- Menu handler component --\x3e\n        </div>\n\n        \x3c!-- App buttons --\x3e\n        <div class="menu-buttons" id="app-menu-buttons">\n        </div>\n\n        <div class="profile-mobile-container">\n          \x3c!-- Mobile profile template --\x3e\n        </div>\n      </div>\n\n      \x3c!-- Burger menu --\x3e\n      <div class="burger-menu">\n        <div class="burger-main-icon">\n          <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-burger-menu.svg" onload="SVGInject(this)">\n        </div>\n        <div class="burger-close-icon">\n          <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-burger-close.svg" onload="SVGInject(this)">\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- portal element--\x3e\n    <div id="ino-portal-element"></div>\n  </nav>\n  <div id="consent-modal-container"></div>\n</header>\n<nagbar></nagbar>\n<snackbar></snackbar>'),this.container.classList.add("ino-header-base"),this.arduinoNav=this.container.querySelector(".arduino-nav"),this.collapseOnScroll(this.arduinoNav),this.setMainTheme(),this.opts.cssClass&&this.arduinoNav.classList.add(this.opts.cssClass),this.menuList=this._getMenu(),this.menuApps=new Ko(this.container.querySelector("#main-menu"),this.opts),this.brandLogo=new qo(this.container.querySelector(".brand-logo"),this.opts),this.storeControls=new ia(this.container.querySelector(".store-controls"),this.opts,this.cart),this.profileHandler=new zo(this.container,this.container.querySelector(".profile-desktop-container"),this.container.querySelector(".profile-mobile-container"),this.auth,this.opts),this.searchHandler=new gu(this.container,this.container.querySelector(".search-control"),this.container.querySelector(".mobile-search-control"),this.opts),this.appList=new Bu(this.container.querySelector(".application-list"),this.opts),this.burgerMenu=this.container.querySelector(".burger-menu"),this.opts.showBurger||this.burgerMenu.classList.contains("no-menu")||0!==this.menuList.length||this.burgerMenu.classList.add("no-menu"),this.burgerMenu&&this.isHasMenuButtons()&&this.burgerMenu.classList.add("show-earlier"),this.menuContainer=this.container.querySelector(".menu-container"),this.menuContainer&&this.isHasMenuButtons()&&this.menuContainer.classList.add("show-earlier"),this.menuCmp=new ku(this.container.querySelector("#app-menu-list"),Object.assign({},this.opts,{menu:this.menuList,showEarlier:this.isHasMenuButtons()})),this.menuButtons=new Vu(this.container.querySelector("#app-menu-buttons"),this.opts,this.isHasMenuButtons()),this.renderProfile(),this.addEventListeners(),this.setMinControlWidth(),e()}.bind(this))},e._getMenu=function(){var e=this.opts,t=e.menu,n=e.style;if(null===t)return[];if(!t)switch(n){case"store":return Gu;case"education":return[];default:return Hu}return t},e.renderProfile=function(){return new Promise(function(e,t){var n;return Promise.resolve(this.profileHandler.renderProfile()).then(function(r){try{return this.nagbar=new Pi(this.container.querySelector("nagbar"),this.auth,this.api),Promise.resolve(this.auth.isAuthenticated()).then(function(r){try{if(r){return"id.arduino.cc"!==window.location.host&&"id-dev.arduino.cc"!==window.location.host||-1===window.location.search.indexOf("code=success")?Promise.resolve(this.auth.getProfile()).then(function(e){try{return(null==(n=e["http://arduino.cc/consent"])?void 0:n.privacy_updated)&&(this.snackbar=new To(this.container.querySelector("snackbar"),'We\'ve updated our <a href="https://www.arduino.cc/en/privacy-policy" target="_blank">Privacy Policy</a>')),i.call(this)}catch(e){return t(e)}}.bind(this),t):(this.snackbar=new To(this.container.querySelector("snackbar"),'<span class="snackbar-strong">Welcome to Arduino!</span> Your new account was created successfully.'),i.call(this));function i(){return o.call(this)}}function o(){return e()}return o.call(this)}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this),t)}.bind(this))},e.renderMenu=function(e){Array.isArray(e)&&(this.menuCmp&&this.menuCmp.renderMenu(e),this.burgerMenu&&(this.opts.showBurger||this.burgerMenu.classList.contains("no-menu")&&e.length>0?this.burgerMenu.classList.remove("no-menu"):this.burgerMenu.classList.contains("no-menu")||0!==e.length||this.burgerMenu.classList.add("no-menu")))},e.renderMenuButtons=function(e){this.menuButtons&&this.menuButtons.renderMenuButtons(e)},e.collapseOnScroll=function(e){if(!this.opts.alwaysFull){var t=window.scrollY||window.pageYOffset;t>this.currentScrollPos?e.classList.add("collapsed"):e.classList.remove("collapsed"),this.currentScrollPos=t<100?100:t}},e.setMinControlWidth=function(){var e=Array.from(document.querySelectorAll(".first-level-right .app-controls")).reverse(),t=null;e.forEach((function(e){if(e.classList.remove("min-width"),!t){var n=window.getComputedStyle(e);"none"!==n.display&&"absolute"!==n.position&&(t=e)}})),t&&t.classList.add("min-width")},e.isHasMenuButtons=function(){var e=this.opts.menuButtons;return e&&Array.isArray(e)&&e.length>0},e.addEventListeners=function(){var e=this;this.burgerMenu.addEventListener("click",(function(){e.drawerIsOpen?(e.menuContainer.classList.remove("open"),e.burgerMenu.classList.remove("menu-open"),e.arduinoNav.classList.remove("menu-open"),document.body.classList.remove("no-scroll")):(e.menuContainer.classList.add("open"),e.burgerMenu.classList.add("menu-open"),e.arduinoNav.classList.add("menu-open"),document.body.classList.add("no-scroll")),e.menuCmp&&e.menuCmp.closeAllMenus(),e.drawerIsOpen=!e.drawerIsOpen}))},e._closeMenu=function(){this.drawerIsOpen&&(this.menuContainer.classList.remove("open"),this.burgerMenu.classList.remove("menu-open"),this.arduinoNav.classList.remove("menu-open"),document.body.classList.remove("no-scroll"),this.menuCmp&&this.menuCmp.closeAllMenus(),this.drawerIsOpen=!1)},e.closeMenu=function(){this._closeMenu()},e.updateProfile=function(){return new Promise(function(e,t){return Promise.resolve(this.profileHandler.updateProfile()).then((function(n){try{return e()}catch(e){return t(e)}}),t)}.bind(this))},e.updateWishlist=function(){return new Promise(function(e,t){return Promise.resolve(this.storeControls.updateWishlist()).then((function(n){try{return e()}catch(e){return t(e)}}),t)}.bind(this))},e.showWishlist=function(){this.storeControls.showWishlist()},e.setMainTheme=function(){var e=this.opts.theme;this.arduinoNav.classList.add(e||"teal")},e.setHistory=function(e,t){void 0===t&&(t={}),this.menuCmp.setHistory(e,t)},e.setLocation=function(e){this.menuCmp.setLocation(e)},e.setActiveLink=function(e){this.menuCmp.setActiveLink(e)},t}();function Xu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pu(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var Ou=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.render()}var t=e.prototype;return t.render=function(){this.container?(this.container.classList.add("app-footer-logo"),this.opts.theme&&this.container.classList.add(this.opts.theme),this._setupLogo()):window.arduinoHFDebug&&console.error("Empty container")},t._setupLogo=function(){var e=this.opts,t=e.logo,n=e.style;if(t){var r=t.type,i=t.cssClass;if(Go(t,this.container))return;if(r){var o=this._getLogoByType(r);return this.container.classList.add("logo-"+o),i&&this.container.classList.add(i),void(this.container.innerHTML='<img src="https://cdn.arduino.cc/header-footer/prod/assets/footerLogo-'+o+'.svg" onload="SVGInject(this)"></img>')}}var a=this._getLogoByType(n);this.container.classList.add("logo-"+a),this.container.innerHTML='<img src="https://cdn.arduino.cc/header-footer/prod/assets/footerLogo-'+a+'.svg" onload="SVGInject(this)"></img>'},t._getLogoByType=function(e){switch(e){case"store":return"arduino";case"education":return"education";default:return"arduino"}},e}(),Qu="//www.arduino.cc/en/Main/CopyrightNotice",Wu=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.copyright=void 0===this.opts.copyright||this.opts.copyright,this.render()}return e.prototype.render=function(){if(this.container){if(this.copyright){this.container.classList.add("app-footer-copyright"),this.opts.theme&&this.container.classList.add(this.opts.theme);var e="object"==typeof this.copyright&&this.copyright.url||Qu;this.container.innerHTML='<p id="footer-copyright-container">\n  <a href="" id="footer-copyright-url">\n    <span class="text">\n      &#169; <span id="current-year"></span> Arduino\n    </span>\n  </a>\n</p>';var t=this.container.querySelector("#footer-copyright-url");t&&(t.href=e);var n=this.container.querySelector("#current-year");if(n&&(n.innerHTML=(new Date).getFullYear()),"object"==typeof this.copyright&&this.copyright.showIcons){var r=this.container.querySelector("#footer-copyright-container");r&&(r.innerHTML+='<img src="https://cdn.arduino.cc/header-footer/prod/assets/footerCopyright.svg" onload="SVGInject(this)"></img>')}}}else window.arduinoHFDebug&&console.error("Empty container")},e}(),Nu=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.showSocial=void 0===this.opts.social||Boolean(this.opts.social),this.render()}return e.prototype.render=function(){this.container?this.showSocial&&(this.container.innerHTML=Ei('<h4>FOLLOW US</h4>\n<div class="app-footer-social-btns">\n  <div class="app-footer-social-btn">\n    <a href="https://www.facebook.com/official.arduino" target="_blank" id="facebook" class="facebook" rel="noopener">\n      <div class="app-footer-social-icon">\n        <img src="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-facebook.svg" onload="SVGInject(this)">\n      </div>\n    </a>\n  </div>\n  <div class="app-footer-social-btn">\n    <a href="https://www.instagram.com/arduino.cc/" target="_blank" id="instagram" class="instagram" rel="noopener">\n      <div class="app-footer-social-icon">\n        <img src="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-instagram.svg" onload="SVGInject(this)">\n      </div>\n    </a>\n  </div>\n  <div class="app-footer-social-btn">\n    <a href="https://twitter.com/arduino" target="_blank" id="twitter" class="twitter" rel="noopener">\n      <div class="app-footer-social-icon">\n        <img src="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-twitter.svg" onload="SVGInject(this)">\n      </div>\n    </a>\n  </div>\n  <div class="app-footer-social-btn">\n    <a href="https://github.com/arduino/" target="_blank" id="github" class="github" rel="noopener">\n      <div class="app-footer-social-icon">\n        <img src="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-github.svg" onload="SVGInject(this)">\n      </div>\n    </a>\n  </div>\n  <div class="app-footer-social-btn">\n    <a href="https://www.linkedin.com/company/arduino" target="_blank" id="linkedin" class="linkedin" rel="noopener">\n      <div class="app-footer-social-icon">\n        <img src="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-linkedin.svg" onload="SVGInject(this)">\n      </div>\n    </a>\n  </div>\n  <div class="app-footer-social-btn">\n    <a href="https://www.youtube.com/user/arduinoteam" target="_blank" id="youtube" class="youtube" rel="noopener">\n      <div class="app-footer-social-icon">\n        <img src="https://cdn.arduino.cc/header-footer/prod/assets/footerSocial-youtube.svg" onload="SVGInject(this)">\n      </div>\n    </a>\n  </div>\n</div>'),this.container.classList.add("app-footer-social-apps"),this.opts.theme&&this.container.classList.add(this.opts.theme)):window.arduinoHFDebug&&console.error("Empty container")},e}(),ju=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.render()}return e.prototype.render=function(){this.container?this.opts.payments&&(this.container.classList.add("app-footer-payments"),this.opts.theme&&this.container.classList.add(this.opts.theme),this.container.innerHTML='<img src="https://cdn.arduino.cc/header-footer/prod/assets/payment_applePay.svg" alt="apple pay">\n<img src="https://cdn.arduino.cc/header-footer/prod/assets/payment_paypal.svg" alt="paypal">\n<img src="https://cdn.arduino.cc/header-footer/prod/assets/payment_visa.svg" alt="visa">\n<img src="https://cdn.arduino.cc/header-footer/prod/assets/payment_mastercard.svg" alt="mastercard">\n<img src="https://cdn.arduino.cc/header-footer/prod/assets/payment_amex.svg" alt="amex">\n<img src="https://cdn.arduino.cc/header-footer/prod/assets/payment_discover.svg" alt="discover">'):window.arduinoHFDebug&&console.error("Empty container")},e}(),_u=Qe("isConcatSpreadable"),Ju=gn>=51||!o((function(){var e=[];return e[_u]=!1,e.concat()[0]!==e})),Yu=Oo("concat"),Mu=function(e){if(!v(e))return!1;var t=e[_u];return void 0!==t?!!t:Ar(e)};Ue({target:"Array",proto:!0,forced:!Ju||!Yu},{concat:function(e){var t,n,r,i,o,a=ke(this),s=Er(a,0),c=0;for(t=-1,r=arguments.length;t<r;t++)if(Mu(o=-1===t?a:arguments[t])){if(c+(i=ce(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,c++)n in o&&Ki(s,c,o[n])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Ki(s,c++,o)}return s.length=c,s}});var Du=[{url:"//www.arduino.cc/en/Trademark/HomePage",name:"{{ TRADEMARK | translate }}",blank:!1},{url:"//www.arduino.cc/en/contact-us",name:"{{ CONTACT_US | translate }}",blank:!1},{url:"//store.arduino.cc/distributors",name:"{{ DISTRIBUTORS | translate }}",blank:!1},{url:"//careers.arduino.cc",name:"{{ CAREERS | translate }}",blank:!1},{url:"//support.arduino.cc",name:"Help Center",blank:!1}],Ku=[{url:"//store.arduino.cc/shipping-policy",name:"Shipping Policy",blank:!1},{url:"//store.arduino.cc/payment-methods",name:"Payment Methods",blank:!1},{url:"//store.arduino.cc/general-sales-conditions",name:"Sales Conditions",blank:!1},{url:"//store.arduino.cc/transparency",name:"Transparency",blank:!1},{url:"//store.arduino.cc/distributors",name:"Distributors",blank:!1},{url:"//store.arduino.cc/educators",name:"Educators",blank:!1},{url:"//support.arduino.cc",name:"Help Center",blank:!0}],qu=[{url:"//www.arduino.cc/en/Main/TermsOfService",name:"{{ COPYRIGHT | translate }}",blank:!1},{url:"//www.arduino.cc/en/Main/PrivacyPolicy",name:"{{ PRIVACY_POLICY | translate }}",blank:!1},{url:"//www.arduino.cc/en/Main/Security",name:"{{ SECURITY | translate }}",blank:!1},{name:"Cookie Settings",class:"iubenda-cs-preferences-link"}],zu=function(){function e(e,t,n,r){void 0===r&&(r={}),this.opts=r,this.containerDesktop=e,this.containerMobile=t,this.containerCopyright=n,this.cookiesText=this.opts.cookieSettings||"Cookie Preferences",this.menu=Array.isArray(r.menu)?r.menu.slice(0,8):this._getDefaultMenu(),this.menuCopyright=Array.isArray(r.menuCopyright)?r.menuCopyright.slice(0,3):qu,this.render()}var t=e.prototype;return t.render=function(){this._setupDesktop(),this._renderDesktop(),this._setupCopyright(),this._renderCopyright(),this._setupMobile(),this._renderMobile()},t.reRenderMenu=function(e,t){Array.isArray(e)&&(this.menu=e.slice(0,8)),Array.isArray(t)&&(this.menuCopyright=t.slice(0,8)),this._renderDesktop(),this._renderCopyright(),this._renderMobile()},t._setupDesktop=function(){this.containerDesktop?(this.containerDesktop.classList.add("app-footer-menu-desktop"),this.containerDesktop.classList.remove("hide"),this.opts.theme&&this.containerDesktop.classList.add(this.opts.theme)):window.arduinoHFDebug&&console.warn("Empty desktop container")},t._renderDesktop=function(){var e=this;this.containerDesktop?(this.containerDesktop.innerHTML="",0!==this.menu.length&&wu(this.menu,4).forEach((function(t){var n=document.createElement("div");n.className="app-footer-menu-desktop__item",e._createMenuItems(n,t,"app-footer-menu-desktop"),e.containerDesktop.appendChild(n)}))):window.arduinoHFDebug&&console.warn("Empty desktop container")},t._setupCopyright=function(){this.containerCopyright?(this.containerCopyright.classList.add("app-footer-menu-copyright"),this.containerCopyright.classList.remove("hide"),this.opts.theme&&this.containerCopyright.classList.add(this.opts.theme)):console.warn("Empty copyright container")},t._renderCopyright=function(){this.containerCopyright?(this.containerCopyright.innerHTML="",0!==this.menuCopyright.length&&this._createMenuItems(this.containerCopyright,this.menuCopyright,"app-footer-menu-copyright")):console.warn("Empty copyright container")},t._setupMobile=function(){this.containerMobile?(this.containerMobile.classList.add("app-footer-menu-mobile"),this.opts.theme&&this.containerMobile.classList.add(this.opts.theme)):console.warn("Empty mobile container")},t._renderMobile=function(){if(this.containerMobile){this.containerMobile.innerHTML="";var e=this.menu.concat(this.menuCopyright);0!==e.length?(this.containerMobile.classList.remove("hide"),this._createMenuItems(this.containerMobile,e,"app-footer-menu-mobile")):this.containerMobile.classList.add("hide")}else console.warn("Empty mobile container")},t._createMenuItems=function(e,t,n){t.forEach((function(t){var r=document.createElement("div");r.className=n+"__link";var i=Ho(t,t.class||"",Ei(t.name));r.appendChild(i),e.appendChild(r)}))},t._getDefaultMenu=function(){switch(this.opts.style){case"store":return Ku;case"platform":case"education":return[];default:return Du}},e}(),$u=function(){function e(e,t){void 0===t&&(t={}),this.opts=t,this.container=e,this.geo=new Xi,this.render()}var t=e.prototype;return t.render=function(){this.container?(this.container.classList.add("app-footer-controls"),this.opts.theme&&this.container.classList.add(this.opts.theme),this._renderRegion(),this._renderBackButton(),this.scrollToTopButton=this.container.querySelectorAll("#go-top"),this.regionButtons=this.container.querySelectorAll("#footer-region > a"),this.addEventListeners()):window.arduinoHFDebug&&console.error("Empty container")},t._renderBackButton=function(){(void 0===this.opts.backToTop||this.opts.backToTop)&&(this.container.innerHTML+=Ei('<div class="app-footer-button" id="go-top">\n  <div class="app-footer-button__icon"><img src="https://cdn.arduino.cc/header-footer/prod/assets/footerControl-back2top.svg" onload="SVGInject(this)"></div>\n  <span class="app-footer-button__text">{{ BACK_TO_TOP | translate }}</span>\n</div>'))},t._renderRegion=function(){this.opts.region&&(this.container.innerHTML+=Ei('<div class="app-footer-button store-location-button popup-dropdown hover-behavior" id="footer-region" role="button">\n  <a role="button" class="store-location-button__button">\n    <div class="app-footer-button__icon"><img src="https://cdn.arduino.cc/header-footer/prod/assets/footerControl-region.svg" onload="SVGInject(this)"></div>\n    <span class="app-footer-button__text">Region</span>\n  </a>\n  <div class="popup-container">\n    <div class="popup-container__box">\n      <p class="empty eu-africa">{{ SHOPPING_EU | translate }}\n        <a class="change-location">{{ VISIT_LOCAL | translate }}</a>\n      </p>\n      <p class="empty america-asia">{{ SHOPPING_APAC | translate }}\n        <a class="change-location">{{ VISIT_LOCAL | translate }}</a>\n      </p>\n    </div>\n  </div>\n</div>'),"usa"===this.geo.getStoreLocation()?this.container.querySelector(".america-asia").style.display="block":this.container.querySelector(".eu-africa").style.display="block")},t.addEventListeners=function(){this.scrollToTopButton&&this.scrollToTopButton.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),(document.documentElement.scrollTop||document.body.scrollTop)>0&&window.scrollTo({top:0,behavior:"smooth"})}))}))},e}(),el=Gr.find,tl=!0,nl=Pr("find");"find"in[]&&Array(1).find((function(){tl=!1})),Ue({target:"Array",proto:!0,forced:tl||!nl},{find:function(e){return el(this,e,arguments.length>1?arguments[1]:void 0)}}),yu("find");var rl=function(){function e(e,t){void 0===t&&(t={}),this.container=e,this.opts=t,this.options=t.langSelector||{},this.selectedId=this.options.selectedId,this.onSelect=this.options.onSelect,this.render()}var t,n,r,i=e.prototype;return i.render=function(){this.container?(this.container.classList.add("app-footer-language"),this.opts.theme&&this.container.classList.add(this.opts.theme),this._build()):window.arduinoHFDebug&&console.error("Empty container")},i.rebuild=function(e){this.container?(this.destroy(),this.options=e||{},this.selectedId=e.selectedId,this.onSelect=e.onSelect,this._build()):window.arduinoHFDebug&&console.error("Empty container for update")},i._build=function(){var e=this.options.data;e&&Array.isArray(e)&&(e.length<2||(this.container.innerHTML=function(e,t){void 0===e&&(e=[]);var n="",r=[];return e.forEach((function(e,i){var o="";t?e.id===t&&(n=e.value,o="selected"):0===i&&(n=e.value,o="selected"),r.push('\n      <li class="app-footer-language__item '+o+'" data-type="item" data-id="'+e.id+'">'+e.value+"</li>\n    ")})),'\n    <div class="app-footer-language__backdrop" data-type="backdrop"></div>\n    <div class="app-footer-language__input" data-type="input">\n      <svg class="app-footer-language__lang-icon">\n        <use xlink:href="'+window.location.pathname+'#footerLang-icon" href="#footerLang-icon"></use>\n      </svg>\n      <span data-type="value">'+n+'</span>\n      <svg class="app-footer-language__triangle-icon">\n        <use xlink:href="'+window.location.pathname+'#footerTriangle-icon" href="#footerTriangle-icon"></use>\n      </svg>\n    </div>\n    <div class="app-footer-language__dropdown">\n      <ul class="app-footer-language__list">\n        '+r.join("")+"\n      </ul>\n    </div>\n  "}(e,this.selectedId),this.clickHandler=this.clickHandler.bind(this),this.container.addEventListener("click",this.clickHandler),this._value=this.container.querySelector('[data-type="value"]')))},i.clickHandler=function(e){var t=e.target.dataset,n=t.type,r=t.id;"input"===n||"value"===n||"image"===n?this.toggle():"item"===n?this.select(r):"backdrop"===n&&this.close()},i.select=function(e){this.selectedId=e,this._value.textContent=this.current.value,this.container.querySelectorAll('[data-type="item"]').forEach((function(e){e.classList.remove("selected")})),this.container.querySelector('[data-id="'+e+'"]').classList.add("selected"),this.onSelect&&this.onSelect(this.current),this.close()},i.toggle=function(){this.isOpen?this.close():this.open()},i.open=function(){this.container.classList.add("open")},i.close=function(){this.container.classList.remove("open")},i.destroy=function(){this.container.removeEventListener("click",this.clickHandler),this.container.innerHTML=""},t=e,(n=[{key:"isOpen",get:function(){return this.container.classList.contains("open")}},{key:"current",get:function(){var e=this;return this.options.data.find((function(t){return t.id===e.selectedId}))}}])&&Xu(t.prototype,n),r&&Xu(t,r),e}();function il(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}var ol=function(){var e=t.prototype;function t(e,n,r,i){if(this.auth=n,this.api=r,void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,i)}return e.init=function(e,t){this.container=e,this.opts=t,this.showHelpCenter=null!==t.helpCenter,this.template=t.template||"arduino",this._handlerHelpButton=this._handlerHelpButton.bind(this),this.render()},e.render=function(){var e=this;if(this.container.innerHTML=t.markup(this),this.footerBlock=this.container.querySelector("#ino-footer-block"),this._setTheme(),this._setTemplateStyle(),this.footerCopyright=new Wu(this.container.querySelector("#footer-copyright"),this.opts),this.footerMenu=new zu(this.container.querySelector(".footer-menu-desktop"),this.container.querySelector(".footer-mobile-menu-list"),this.container.querySelector(".footer-menu-copyright"),this.opts),"platform"!==this.template&&"education"!==this.template||(this.langSelector=new rl(this.container.querySelector("#footer-lang-selector"),this.opts)),"platform"===this.template){if(this.footerPlatformContent=this.container.querySelector(".app-footer-platform"),this.footerPlatformContent){var n=this.opts.partners;if(n&&Array.isArray(n)){this.footerPlatformContent.classList.add("withPartners"),this.footerPartners=this.footerPlatformContent.querySelector(".app-footer-platform-partners");var r=this._partnersImage();0===r.length&&this.footerPlatformContent.classList.remove("withPartners"),r.forEach((function(t){return e.footerPartners.appendChild(t)}))}}}else this.footerLogo=new Ou(this.container.querySelector("#footer-logo"),this.opts),this.footerSocial=new Nu(this.container.querySelector(".social-container"),this.opts),this.footerPayments=new ju(this.container.querySelector("#footer-payments"),this.opts),this.footerControls=new $u(this.container.querySelector("#footer-controls"),this.opts),"education"===this.template&&this.opts.contactUs&&this.setContactUs(this.opts.contactUs),this.newsletter=new Mi(this.container.querySelector("newsletter"),this.auth,this.api,this.opts.newsletterTag);this.renderHelpButton(),this.addEventListeners()},e.renderHelpButton=function(){var e=this;if(this.showHelpCenter&&(this.helpContainer=this.container.querySelector(".footer-help-container"),this.helpContainer)){this.helpContainer.classList.remove("hide");var t=this.opts.helpCenter;if("object"==typeof t){var n=t.blank,r=void 0!==n&&n,i=this.helpContainer.querySelector(".footer-help-button");i&&r&&(i.target="_blank",i.rel="noopener noreferrer")}this._handlerHelpButton(),setTimeout((function(){e._handlerHelpButton()}),1e3)}},e._addedContentListener=function(){this.bodyObserver=new MutationObserver(this._handlerHelpButton),this.bodyObserver.observe(document.body,{childList:!0,subtree:!0,characterData:!0})},e._handlerHelpButton=function(){var e=(pr.ios()||pr.android()||document.body.offsetHeight===window.innerHeight?il():document.body.offsetHeight)-this.container.offsetHeight,t=window.innerHeight+window.scrollY,n=window.innerWidth<=768?20:36;this.helpContainer.style.bottom=t>=e?n+(t-e)+"px":n+"px"},e.addEventListeners=function(){this.helpContainer&&(window.addEventListener("scroll",this._handlerHelpButton),window.addEventListener("resize",this._handlerHelpButton),this._addedContentListener())},e.setContactUs=function(e){var t=this.container.querySelector("#footer-contact-us");t&&(t.innerHTML=e)},e.rebuildLanguage=function(e){this.langSelector&&this.langSelector.rebuild(e)},e._setTheme=function(){this.opts.theme&&this.footerBlock.classList.add(this.opts.theme)},e._setTemplateStyle=function(){this.opts.template&&this.footerBlock.classList.add(this.opts.template)},e._partnersImage=function(){var e=this.opts.partners;if(e&&Array.isArray(e)){for(var t,n=[],r=Pu(e.slice(0,3));!(t=r()).done;){var i=t.value,o=document.createElement("div");o.className="app-footer-platform-partners__partner",Go(i,o)&&n.push(o)}return n}return[]},e.renderMenu=function(e,t){this.footerMenu&&this.footerMenu.reRenderMenu(e,t)},t.markup=function(e){var t='<div id="ino-footer-block" class="ino-footer-block">\n  <div class="app-footer-header">\n    <div class="app-footer-header__logo" id="footer-logo">\n    </div>\n\n    <div class="app-footer-header__controls no-select" id="footer-controls"></div>\n  </div>\n\n  <div class="app-footer-content main">\n    <div class="footer-menu-desktop"></div>\n\n    <div class="news-letter arduino-view">\n      <newsletter></newsletter>\n    </div>\n\n    <div class="social-container"></div>\n  </div>\n\n  <div class="footer-mobile-menu-list hide"></div>\n\n  <div class="app-footer-bottom">\n    <div class="app-footer-bottom__left footer-year" id="footer-copyright"></div>\n\n    <div class="app-footer-bottom__middle">\n      <div class="footer-menu-copyright hide"></div>\n    </div>\n\n    <div class="app-footer-bottom__right payments" id="footer-payments">\n      \x3c!-- right --\x3e\n    </div>\n  </div>\n  \n  <div class="footer-help-container hide">\n    <a href="https://support.arduino.cc" aria-haspopup="true" aria-label="Help" class="footer-help-button">\n      <span class="footer-help-icon" type="Icon">\n        <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><title></title><g id="Layer_4"><path d="M11,12.3V13c0,0-1.8,0-2,0v-0.6c0-0.6,0.1-1.4,0.8-2.1c0.7-0.7,1.6-1.2,1.6-2.1c0-0.9-0.7-1.4-1.4-1.4 c-1.3,0-1.4,1.4-1.5,1.7H6.6C6.6,7.1,7.2,5,10,5c2.4,0,3.4,1.6,3.4,3C13.4,10.4,11,10.8,11,12.3z"></path><circle cx="10" cy="15" r="1"></circle><path d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10S15.5,0,10,0 L10,0z"></path></g></svg>\n      </span>\n      <span class="footer-help-text">Help</span>\n    </a>\n  </div>\n</div>\x3c!-- footer-block --\x3e\n';return"education"===e.opts.template?t='<div id="ino-footer-block" class="ino-footer-block">\n  <div class="app-footer-content main">\n    <div class="app-footer-content__box education-box">\n      <div class="app-footer-content__logo" id="footer-logo"></div>\n      <div class="app-footer-content__education-box" id="footer-contact-us"></div>\n    </div>\n\n    <div class="app-footer-content__box main-box">\n      <div class="news-letter">\n        <newsletter></newsletter>\n      </div>\n\n      <div class="social-container"></div>\n    </div>\n  </div>\n\n  <div class="footer-mobile-menu-list hide"></div>\n\n  <div class="app-footer-bottom">\n    <div class="app-footer-bottom__left footer-year" id="footer-copyright"></div>\n\n    <div class="app-footer-bottom__middle">\n      <div class="footer-menu-copyright hide"></div>\n    </div>\n\n    <div class="app-footer-bottom__right lang-selector no-select" id="footer-lang-selector">\n      \x3c!-- right --\x3e\n    </div>\n  </div>\n  <div class="footer-help-container hide">\n    <a href="https://support.arduino.cc" target="_blank" aria-haspopup="true" aria-label="Help" class="footer-help-button">\n      <span class="footer-help-icon" type="Icon">\n        <svg width="20" height="20" viewBox="0 0 20 20" aria-hidden="true"><title></title><g id="Layer_4"><path d="M11,12.3V13c0,0-1.8,0-2,0v-0.6c0-0.6,0.1-1.4,0.8-2.1c0.7-0.7,1.6-1.2,1.6-2.1c0-0.9-0.7-1.4-1.4-1.4 c-1.3,0-1.4,1.4-1.5,1.7H6.6C6.6,7.1,7.2,5,10,5c2.4,0,3.4,1.6,3.4,3C13.4,10.4,11,10.8,11,12.3z"></path><circle cx="10" cy="15" r="1"></circle><path d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10S15.5,0,10,0 L10,0z"></path></g></svg>\n      </span>\n      <span class="footer-help-text">Help</span>\n    </a>\n  </div>\x3c!-- footer-block --\x3e\n</div>':"platform"===e.opts.template&&(t='<div id="ino-footer-block" class="ino-footer-block">\n  <div class="app-footer-platform">\n    <div class="app-footer-platform-partners"></div>\n\n    <div class="app-footer-platform-mobile-menu footer-mobile-menu-list hide"></div>\n  </div>\n\n  <div class="app-footer-bottom">\n    <div class="app-footer-bottom__left footer-year" id="footer-copyright"></div>\n\n    <div class="app-footer-bottom__middle">\n      <div class="footer-menu-copyright hide"></div>\n    </div>\n\n    <div class="app-footer-bottom__right lang-selector no-select" id="footer-lang-selector">\n      \x3c!-- right --\x3e\n    </div>\n  </div>\n</div>\x3c!-- footer-block --\x3e\n'),Ei(t)},t}(),al=function(){var e=t.prototype;function t(e,n,r,i){if(void 0===t.refs&&(t.refs={}),void 0!==e.dataset.ref)return t.refs[e.dataset.ref];this.ref=Math.random(),t.refs[this.ref]=this,e.dataset.ref=this.ref,this.init(e,n,r,i)}return e.init=function(e,t,n,r){var i=this;this.container=e,this.auth=t,this.api=n,this.opts=Object.assign({},r,{theme:r.theme||"white"}),this.drawerIsOpen=!1,this.render(r).then((function(){window.addEventListener("scroll",(function(){})),Xo(),window.addEventListener("resize",(function(){i._closeMenu(),Xo()})),i.menuCmp&&i.menuCmp.queryElements("a").forEach((function(e){e.addEventListener("click",(function(e){var t=e.target.closest(".app-menu-text"),n=e.target.closest(".app-menu-item");null!==t&&t.classList.contains("main-text")&&n.classList.contains("app-has-sub-menu")||null!==t&&t.classList.contains("app-extend-button")||i._closeMenu()}))}))}))},e.render=function(){return new Promise(function(e,t){return this.container.innerHTML=Ei('<header id="ino-header-new">\n  <nav class="platform-nav">\n    \x3c!-- Brand logo --\x3e\n    <a class="brand-logo" href="/" aria-label="arduino-logo">\n      \x3c!--<div id="standard">\n          <img src="{TEMPLATE}" alt=\'Logo\'>\n        </div>\n        <div id="custom">\n          Custom Logo here\n        </div>--\x3e\n    </a>\n\n    \x3c!-- Main application menu --\x3e\n    <div class="app-menu-container">\n      <div></div>\n\n      \x3c!-- App menu --\x3e\n      <div class="menu-list" id="app-menu-list">\n        \x3c!-- Menu handler component --\x3e\n      </div>\n\n      \x3c!-- App buttons --\x3e\n      <div class="menu-buttons" id="app-menu-buttons">\n      </div>\n\n      <div class="profile-mobile-container">\n        \x3c!-- Mobile profile template --\x3e\n      </div>\n    </div>\n\n    <div class="platform-nav__right">\n      \x3c!-- Application list --\x3e\n      <div class="app-controls application-list hide">\n        \x3c!-- Application injectable --\x3e\n      </div>\n\n      \x3c!-- Auth/Profile container --\x3e\n      <div class="app-controls profile-desktop-container">\n        \x3c!-- desktop view --\x3e\n      </div>\n\n      \x3c!-- Burger menu --\x3e\n      <div class="burger-menu">\n        <div class="burger-main-icon">\n          <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-burger-menu.svg" onload="SVGInject(this)">\n        </div>\n        <div class="burger-close-icon">\n          <img src="https://cdn.arduino.cc/header-footer/prod/assets/headerIcon-burger-close.svg" onload="SVGInject(this)">\n        </div>\n      </div>\n    </div>\n  </nav>\n  <div id="consent-modal-container"></div>\n  <div id="ino-portal-element"></div>\n</header>\n<nagbar></nagbar>'),this.container.classList.add("ino-header-platform"),this.platformNav=this.container.querySelector(".platform-nav"),this.setMainTheme(),this.opts.cssClass&&this.arduinoNav.classList.add(this.opts.cssClass),this.brandLogo=new qo(this.container.querySelector(".brand-logo"),this.opts),this.profileHandler=new zo(this.container,this.container.querySelector(".profile-desktop-container"),this.container.querySelector(".profile-mobile-container"),this.auth,this.opts),this.appList=new Bu(this.container.querySelector(".application-list"),this.opts),this.burgerMenu=this.container.querySelector(".burger-menu"),this.burgerMenu&&(!this.opts.menu||Array.isArray(this.opts.menu)&&0===this.opts.menu.length)&&this.burgerMenu.classList.add("no-menu"),this.burgerMenu&&this.isHasMenuButtons()&&this.burgerMenu.classList.add("show-earlier"),this.menuContainer=this.container.querySelector(".app-menu-container"),this.menuContainer&&this.isHasMenuButtons()&&this.menuContainer.classList.add("show-earlier"),this.menuCmp=new ku(this.container.querySelector("#app-menu-list"),Object.assign({},this.opts,{showEarlier:this.isHasMenuButtons(),useExtend:!0})),this.menuButtons=new Vu(this.container.querySelector("#app-menu-buttons"),this.opts),this.renderProfile(),this.addEventListeners(),e()}.bind(this))},e.renderProfile=function(){return new Promise(function(e,t){return Promise.resolve(this.profileHandler.renderProfile()).then(function(n){try{return this.nagbar=new Pi(this.container.querySelector("nagbar"),this.auth,this.api),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},e.renderMenu=function(e){Array.isArray(e)&&(this.menuCmp&&this.menuCmp.renderMenu(e),this.burgerMenu&&(this.burgerMenu.classList.contains("no-menu")&&e.length>0&&this.burgerMenu.classList.remove("no-menu"),this.burgerMenu.classList.contains("no-menu")||0!==e.length||this.burgerMenu.classList.add("no-menu")))},e.renderMenuButtons=function(e){this.menuButtons&&this.menuButtons.renderMenuButtons(e)},e._closeMenu=function(){this.drawerIsOpen&&(this.menuContainer.classList.remove("open"),this.burgerMenu.classList.remove("menu-open"),this.platformNav.classList.remove("menu-open"),document.body.classList.remove("no-scroll"),this.menuCmp&&this.menuCmp.closeAllMenus(),this.drawerIsOpen=!1)},e.closeMenu=function(){this._closeMenu()},e.addEventListeners=function(){var e=this;this.burgerMenu.addEventListener("click",(function(){e.drawerIsOpen?(e.menuContainer.classList.remove("open"),e.burgerMenu.classList.remove("menu-open"),document.body.classList.remove("no-scroll")):(e.menuContainer.classList.add("open"),e.burgerMenu.classList.add("menu-open"),document.body.classList.add("no-scroll")),e.menuContainer.querySelectorAll(".app-has-sub-menu").forEach((function(e){e.classList.remove("open"),e.querySelectorAll(".app-sub-menu").forEach((function(e){return e.classList.remove("open")}))})),e.menuCmp.closeAllMenus(),e.drawerIsOpen=!e.drawerIsOpen}))},e.updateProfile=function(){return new Promise(function(e,t){return Promise.resolve(this.profileHandler.updateProfile()).then((function(n){try{return e()}catch(e){return t(e)}}),t)}.bind(this))},e.isHasMenuButtons=function(){var e=this.opts,t=e.menuButtons,n=e.menu,r=void 0===n?[]:n,i=t&&Array.isArray(t)&&t.length>0;return r&&Array.isArray(r)&&r.length>4&&i},e.setMainTheme=function(){var e=this.opts.theme,t=void 0===e?"white":e;t&&this.platformNav.classList.add(t)},e.setHistory=function(e,t){void 0===t&&(t={}),this.menuCmp.setHistory(e,t)},e.setLocation=function(e){this.menuCmp.setLocation(e)},e.setActiveLink=function(e){this.menuCmp.setActiveLink(e)},t}(),sl=RegExp.prototype,cl=sl.toString,ul=o((function(){return"/a/b"!=cl.call({source:"a",flags:"b"})})),ll="toString"!=cl.name;(ul||ll)&&ee(RegExp.prototype,"toString",(function(){var e=R(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in sl)?jr.call(e):n)}),{unsafe:!0});var dl=Qe("match"),hl=function(e){var t;return v(e)&&(void 0!==(t=e[dl])?!!t:"RegExp"==h(e))},fl=[].push,pl=Math.min,gl=!o((function(){return!RegExp(4294967295,"y")}));ai("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(g(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!hl(e))return t.call(r,e,i);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,d=new RegExp(e.source,u+"g");(o=$r.call(d,r))&&!((a=d.lastIndex)>l&&(c.push(r.slice(l,o.index)),o.length>1&&o.index<r.length&&fl.apply(c,o.slice(1)),s=o[0].length,l=a,c.length>=i));)d.lastIndex===o.index&&d.lastIndex++;return l===r.length?!s&&d.test("")||c.push(""):c.push(r.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=g(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=R(e),s=String(this),c=wt(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(gl?"y":"g"),d=new c(gl?a:"^(?:"+a.source+")",l),h=void 0===i?4294967295:i>>>0;if(0===h)return[];if(0===s.length)return null===di(d,s)?[s]:[];for(var f=0,p=0,g=[];p<s.length;){d.lastIndex=gl?p:0;var m,v=di(d,gl?s:s.slice(p));if(null===v||(m=pl(ce(d.lastIndex+(gl?0:p)),s.length))===f)p=li(s,p,u);else{if(g.push(s.slice(f,p)),g.length===h)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===h)return g;p=f=m}}return g.push(s.slice(f)),g}]}),!gl);
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var ml=function(e,t){return(ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function vl(e,t){function n(){this.constructor=e}ml(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var yl=function(){return(yl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function bl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Il(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function wl(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var Sl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Cl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Bl(e,t){return e(t={exports:{}},t.exports),t.exports}var xl=function(e){return e&&e.Math==Math&&e},Fl=xl("object"==typeof globalThis&&globalThis)||xl("object"==typeof window&&window)||xl("object"==typeof self&&self)||xl("object"==typeof Sl&&Sl)||Function("return this")(),Rl=function(e){try{return!!e()}catch(e){return!0}},Ll=!Rl((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Al={}.propertyIsEnumerable,Ul=Object.getOwnPropertyDescriptor,El={f:Ul&&!Al.call({1:2},1)?function(e){var t=Ul(this,e);return!!t&&t.enumerable}:Al},kl=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Vl={}.toString,Gl=function(e){return Vl.call(e).slice(8,-1)},Hl="".split,Zl=Rl((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==Gl(e)?Hl.call(e,""):Object(e)}:Object,Xl=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Tl=function(e){return Zl(Xl(e))},Pl=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Ol=function(e,t){if(!Pl(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Pl(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Pl(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Pl(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Ql={}.hasOwnProperty,Wl=function(e,t){return Ql.call(e,t)},Nl=Fl.document,jl=Pl(Nl)&&Pl(Nl.createElement),_l=function(e){return jl?Nl.createElement(e):{}},Jl=!Ll&&!Rl((function(){return 7!=Object.defineProperty(_l("div"),"a",{get:function(){return 7}}).a})),Yl=Object.getOwnPropertyDescriptor,Ml={f:Ll?Yl:function(e,t){if(e=Tl(e),t=Ol(t,!0),Jl)try{return Yl(e,t)}catch(e){}if(Wl(e,t))return kl(!El.f.call(e,t),e[t])}},Dl=function(e){if(!Pl(e))throw TypeError(String(e)+" is not an object");return e},Kl=Object.defineProperty,ql={f:Ll?Kl:function(e,t,n){if(Dl(e),t=Ol(t,!0),Dl(n),Jl)try{return Kl(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},zl=Ll?function(e,t,n){return ql.f(e,t,kl(1,n))}:function(e,t,n){return e[t]=n,e},$l=function(e,t){try{zl(Fl,e,t)}catch(n){Fl[e]=t}return t},ed=Fl["__core-js_shared__"]||$l("__core-js_shared__",{}),td=Function.toString;"function"!=typeof ed.inspectSource&&(ed.inspectSource=function(e){return td.call(e)});var nd,rd,id,od=ed.inspectSource,ad=Fl.WeakMap,sd="function"==typeof ad&&/native code/.test(od(ad)),cd=Bl((function(e){(e.exports=function(e,t){return ed[e]||(ed[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),ud=0,ld=Math.random(),dd=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ud+ld).toString(36)},hd=cd("keys"),fd=function(e){return hd[e]||(hd[e]=dd(e))},pd={},gd=Fl.WeakMap;if(sd){var md=new gd,vd=md.get,yd=md.has,bd=md.set;nd=function(e,t){return bd.call(md,e,t),t},rd=function(e){return vd.call(md,e)||{}},id=function(e){return yd.call(md,e)}}else{var Id=fd("state");pd[Id]=!0,nd=function(e,t){return zl(e,Id,t),t},rd=function(e){return Wl(e,Id)?e[Id]:{}},id=function(e){return Wl(e,Id)}}var wd,Sd={set:nd,get:rd,has:id,enforce:function(e){return id(e)?rd(e):nd(e,{})},getterFor:function(e){return function(t){var n;if(!Pl(t)||(n=rd(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Cd=Bl((function(e){var t=Sd.get,n=Sd.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||Wl(i,"name")||zl(i,"name",t),n(i).source=r.join("string"==typeof t?t:"")),e!==Fl?(a?!c&&e[t]&&(s=!0):delete e[t],s?e[t]=i:zl(e,t,i)):s?e[t]=i:$l(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||od(this)}))})),Bd=Fl,xd=function(e){return"function"==typeof e?e:void 0},Fd=function(e,t){return arguments.length<2?xd(Bd[e])||xd(Fl[e]):Bd[e]&&Bd[e][t]||Fl[e]&&Fl[e][t]},Rd=Math.ceil,Ld=Math.floor,Ad=function(e){return isNaN(e=+e)?0:(e>0?Ld:Rd)(e)},Ud=Math.min,Ed=function(e){return e>0?Ud(Ad(e),9007199254740991):0},kd=Math.max,Vd=Math.min,Gd=function(e){return function(t,n,r){var i,o=Tl(t),a=Ed(o.length),s=function(e,t){var n=Ad(e);return n<0?kd(n+t,0):Vd(n,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Hd={includes:Gd(!0),indexOf:Gd(!1)},Zd=Hd.indexOf,Xd=function(e,t){var n,r=Tl(e),i=0,o=[];for(n in r)!Wl(pd,n)&&Wl(r,n)&&o.push(n);for(;t.length>i;)Wl(r,n=t[i++])&&(~Zd(o,n)||o.push(n));return o},Td=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pd=Td.concat("length","prototype"),Od={f:Object.getOwnPropertyNames||function(e){return Xd(e,Pd)}},Qd={f:Object.getOwnPropertySymbols},Wd=Fd("Reflect","ownKeys")||function(e){var t=Od.f(Dl(e)),n=Qd.f;return n?t.concat(n(e)):t},Nd=function(e,t){for(var n=Wd(t),r=ql.f,i=Ml.f,o=0;o<n.length;o++){var a=n[o];Wl(e,a)||r(e,a,i(t,a))}},jd=/#|\.prototype\./,_d=function(e,t){var n=Yd[Jd(e)];return n==Dd||n!=Md&&("function"==typeof t?Rl(t):!!t)},Jd=_d.normalize=function(e){return String(e).replace(jd,".").toLowerCase()},Yd=_d.data={},Md=_d.NATIVE="N",Dd=_d.POLYFILL="P",Kd=_d,qd=Ml.f,zd=function(e,t){var n,r,i,o,a,s=e.target,c=e.global,u=e.stat;if(n=c?Fl:u?Fl[s]||$l(s,{}):(Fl[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=qd(n,r))&&a.value:n[r],!Kd(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Nd(o,i)}(e.sham||i&&i.sham)&&zl(o,"sham",!0),Cd(n,r,o,e)}},$d=!!Object.getOwnPropertySymbols&&!Rl((function(){return!String(Symbol())})),eh=$d&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,th=cd("wks"),nh=Fl.Symbol,rh=eh?nh:nh&&nh.withoutSetter||dd,ih=function(e){return Wl(th,e)||($d&&Wl(nh,e)?th[e]=nh[e]:th[e]=rh("Symbol."+e)),th[e]},oh=ih("match"),ah=function(e){if(function(e){var t;return Pl(e)&&(void 0!==(t=e[oh])?!!t:"RegExp"==Gl(e))}(e))throw TypeError("The method doesn't accept regular expressions");return e},sh=ih("match"),ch=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[sh]=!1,"/./"[e](t)}catch(e){}}return!1},uh=Ml.f,lh="".startsWith,dh=Math.min,hh=ch("startsWith"),fh=!(hh||(wd=uh(String.prototype,"startsWith"),!wd||wd.writable));zd({target:"String",proto:!0,forced:!fh&&!hh},{startsWith:function(e){var t=String(Xl(this));ah(e);var n=Ed(dh(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return lh?lh.call(t,r,n):t.slice(n,n+r.length)===r}});var ph,gh,mh,vh=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},yh=function(e,t,n){if(vh(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},bh=Function.call,Ih=function(e,t,n){return yh(bh,Fl[e].prototype[t],n)},wh=(Ih("String","startsWith"),function(e){return function(t,n){var r,i,o=String(Xl(t)),a=Ad(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}}),Sh={codeAt:wh(!1),charAt:wh(!0)},Ch=function(e){return Object(Xl(e))},Bh=!Rl((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),xh=fd("IE_PROTO"),Fh=Object.prototype,Rh=Bh?Object.getPrototypeOf:function(e){return e=Ch(e),Wl(e,xh)?e[xh]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Fh:null},Lh=ih("iterator"),Ah=!1;[].keys&&("next"in(mh=[].keys())?(gh=Rh(Rh(mh)))!==Object.prototype&&(ph=gh):Ah=!0),null==ph&&(ph={}),Wl(ph,Lh)||zl(ph,Lh,(function(){return this}));var Uh,Eh={IteratorPrototype:ph,BUGGY_SAFARI_ITERATORS:Ah},kh=Object.keys||function(e){return Xd(e,Td)},Vh=Ll?Object.defineProperties:function(e,t){Dl(e);for(var n,r=kh(t),i=r.length,o=0;i>o;)ql.f(e,n=r[o++],t[n]);return e},Gh=Fd("document","documentElement"),Hh=fd("IE_PROTO"),Zh=function(){},Xh=function(e){return"<script>"+e+"<\/script>"},Th=function(){try{Uh=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Th=Uh?function(e){e.write(Xh("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Uh):((t=_l("iframe")).style.display="none",Gh.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Xh("document.F=Object")),e.close(),e.F);for(var n=Td.length;n--;)delete Th.prototype[Td[n]];return Th()};pd[Hh]=!0;var Ph=Object.create||function(e,t){var n;return null!==e?(Zh.prototype=Dl(e),n=new Zh,Zh.prototype=null,n[Hh]=e):n=Th(),void 0===t?n:Vh(n,t)},Oh=ql.f,Qh=ih("toStringTag"),Wh=function(e,t,n){e&&!Wl(e=n?e:e.prototype,Qh)&&Oh(e,Qh,{configurable:!0,value:t})},Nh={},jh=Eh.IteratorPrototype,_h=function(){return this},Jh=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Dl(n),function(e){if(!Pl(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Yh=Eh.IteratorPrototype,Mh=Eh.BUGGY_SAFARI_ITERATORS,Dh=ih("iterator"),Kh=function(){return this},qh=function(e,t,n,r,i,o,a){!function(e,t,n){var r=t+" Iterator";e.prototype=Ph(jh,{next:kl(1,n)}),Wh(e,r,!1),Nh[r]=_h}(n,t,r);var s,c,u,l=function(e){if(e===i&&g)return g;if(!Mh&&e in f)return f[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,f=e.prototype,p=f[Dh]||f["@@iterator"]||i&&f[i],g=!Mh&&p||l(i),m="Array"==t&&f.entries||p;if(m&&(s=Rh(m.call(new e)),Yh!==Object.prototype&&s.next&&(Rh(s)!==Yh&&(Jh?Jh(s,Yh):"function"!=typeof s[Dh]&&zl(s,Dh,Kh)),Wh(s,d,!0))),"values"==i&&p&&"values"!==p.name&&(h=!0,g=function(){return p.call(this)}),f[Dh]!==g&&zl(f,Dh,g),Nh[t]=g,i)if(c={values:l("values"),keys:o?g:l("keys"),entries:l("entries")},a)for(u in c)(Mh||h||!(u in f))&&Cd(f,u,c[u]);else zd({target:t,proto:!0,forced:Mh||h},c);return c},zh=Sh.charAt,$h=Sd.set,ef=Sd.getterFor("String Iterator");qh(String,"String",(function(e){$h(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=ef(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=zh(n,r),t.index+=e.length,{value:e,done:!1})}));var tf=function(e,t,n,r){try{return r?t(Dl(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&Dl(i.call(e)),t}},nf=ih("iterator"),rf=Array.prototype,of=function(e){return void 0!==e&&(Nh.Array===e||rf[nf]===e)},af=function(e,t,n){var r=Ol(t);r in e?ql.f(e,r,kl(0,n)):e[r]=n},sf={};sf[ih("toStringTag")]="z";var cf="[object z]"===String(sf),uf=ih("toStringTag"),lf="Arguments"==Gl(function(){return arguments}()),df=cf?Gl:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),uf))?n:lf?Gl(t):"Object"==(r=Gl(t))&&"function"==typeof t.callee?"Arguments":r},hf=ih("iterator"),ff=function(e){if(null!=e)return e[hf]||e["@@iterator"]||Nh[df(e)]},pf=ih("iterator"),gf=!1;try{var mf=0,vf={next:function(){return{done:!!mf++}},return:function(){gf=!0}};vf[pf]=function(){return this},Array.from(vf,(function(){throw 2}))}catch(ml){}var yf=function(e,t){if(!t&&!gf)return!1;var n=!1;try{var r={};r[pf]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},bf=!yf((function(e){Array.from(e)}));zd({target:"Array",stat:!0,forced:bf},{from:function(e){var t,n,r,i,o,a,s=Ch(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,d=void 0!==l,h=ff(s),f=0;if(d&&(l=yh(l,u>2?arguments[2]:void 0,2)),null==h||c==Array&&of(h))for(n=new c(t=Ed(s.length));t>f;f++)a=d?l(s[f],f):s[f],af(n,f,a);else for(o=(i=h.call(s)).next,n=new c;!(r=o.call(i)).done;f++)a=d?tf(i,l,[r.value,f],!0):r.value,af(n,f,a);return n.length=f,n}}),Bd.Array.from;var If,wf="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Sf=ql.f,Cf=Fl.Int8Array,Bf=Cf&&Cf.prototype,xf=Fl.Uint8ClampedArray,Ff=xf&&xf.prototype,Rf=Cf&&Rh(Cf),Lf=Bf&&Rh(Bf),Af=Object.prototype,Uf=Af.isPrototypeOf,Ef=ih("toStringTag"),kf=dd("TYPED_ARRAY_TAG"),Vf=wf&&!!Jh&&"Opera"!==df(Fl.opera),Gf={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(If in Gf)Fl[If]||(Vf=!1);if((!Vf||"function"!=typeof Rf||Rf===Function.prototype)&&(Rf=function(){throw TypeError("Incorrect invocation")},Vf))for(If in Gf)Fl[If]&&Jh(Fl[If],Rf);if((!Vf||!Lf||Lf===Af)&&(Lf=Rf.prototype,Vf))for(If in Gf)Fl[If]&&Jh(Fl[If].prototype,Lf);if(Vf&&Rh(Ff)!==Lf&&Jh(Ff,Lf),Ll&&!Wl(Lf,Ef))for(If in Sf(Lf,Ef,{get:function(){return Pl(this)?this[kf]:void 0}}),Gf)Fl[If]&&zl(Fl[If],kf,If);var Hf=ih("species"),Zf=function(e){if(function(e){return Pl(e)&&Wl(Gf,df(e))}(e))return e;throw TypeError("Target is not a typed array")},Xf=function(e){if(Jh){if(Uf.call(Rf,e))return e}else for(var t in Gf)if(Wl(Gf,If)){var n=Fl[t];if(n&&(e===n||Uf.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},Tf=[].slice;!function(e,t,n){if(Ll){if(n)for(var r in Gf){var i=Fl[r];i&&Wl(i.prototype,e)&&delete i.prototype[e]}Lf[e]&&!n||Cd(Lf,e,n?t:Vf&&Bf[e]||t)}}("slice",(function(e,t){for(var n=Tf.call(Zf(this),e,t),r=function(e,t){var n,r=Dl(e).constructor;return void 0===r||null==(n=Dl(r)[Hf])?t:vh(n)}(this,this.constructor),i=0,o=n.length,a=new(Xf(r))(o);o>i;)a[i]=n[i++];return a}),Rl((function(){new Int8Array(1).slice()})));var Pf=ih("unscopables"),Of=Array.prototype;null==Of[Pf]&&ql.f(Of,Pf,{configurable:!0,value:Ph(null)});var Qf=function(e){Of[Pf][e]=!0},Wf=Object.defineProperty,Nf={},jf=function(e){throw e},_f=Hd.includes,Jf=function(e,t){if(Wl(Nf,e))return Nf[e];t||(t={});var n=[][e],r=!!Wl(t,"ACCESSORS")&&t.ACCESSORS,i=Wl(t,0)?t[0]:jf,o=Wl(t,1)?t[1]:void 0;return Nf[e]=!!n&&!Rl((function(){if(r&&!Ll)return!0;var e={length:-1};r?Wf(e,1,{enumerable:!0,get:jf}):e[1]=1,n.call(e,i,o)}))}("indexOf",{ACCESSORS:!0,1:0});zd({target:"Array",proto:!0,forced:!Jf},{includes:function(e){return _f(this,e,arguments.length>1?arguments[1]:void 0)}}),Qf("includes"),Ih("Array","includes"),zd({target:"String",proto:!0,forced:!ch("includes")},{includes:function(e){return!!~String(Xl(this)).indexOf(ah(e),arguments.length>1?arguments[1]:void 0)}}),Ih("String","includes");var Yf=!Rl((function(){return Object.isExtensible(Object.preventExtensions({}))})),Mf=Bl((function(e){var t=ql.f,n=dd("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!Pl(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Wl(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!Wl(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return Yf&&a.REQUIRED&&i(e)&&!Wl(e,n)&&o(e),e}};pd[n]=!0})),Df=(Mf.REQUIRED,Mf.fastKey,Mf.getWeakData,Mf.onFreeze,Bl((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,i,o){var a,s,c,u,l,d,h,f=yh(n,r,i?2:1);if(o)a=e;else{if("function"!=typeof(s=ff(e)))throw TypeError("Target is not iterable");if(of(s)){for(c=0,u=Ed(e.length);u>c;c++)if((l=i?f(Dl(h=e[c])[0],h[1]):f(e[c]))&&l instanceof t)return l;return new t(!1)}a=s.call(e)}for(d=a.next;!(h=d.call(a)).done;)if("object"==typeof(l=tf(a,f,h.value,i))&&l&&l instanceof t)return l;return new t(!1)}).stop=function(e){return new t(!0,e)}}))),Kf=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},qf=function(e,t,n){for(var r in t)Cd(e,r,t[r],n);return e},zf=ih("species"),$f=ql.f,ep=Mf.fastKey,tp=Sd.set,np=Sd.getterFor,rp=(function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=Fl.Set,s=a&&a.prototype,c=a,u={},l=function(e){var t=s[e];Cd(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!Pl(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!Pl(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!Pl(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Kd(e,"function"!=typeof a||!(i||s.forEach&&!Rl((function(){(new a).entries().next()})))))c=n.getConstructor(t,e,r,o),Mf.REQUIRED=!0;else if(Kd(e,!0)){var d=new c,h=d[o](i?{}:-0,1)!=d,f=Rl((function(){d.has(1)})),p=yf((function(e){new a(e)})),g=!i&&Rl((function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)}));p||((c=t((function(t,n){Kf(t,c,e);var i=function(e,t,n){var r,i;return Jh&&"function"==typeof(r=t.constructor)&&r!==n&&Pl(i=r.prototype)&&i!==n.prototype&&Jh(e,i),e}(new a,t,c);return null!=n&&Df(n,i[o],i,r),i}))).prototype=s,s.constructor=c),(f||g)&&(l("delete"),l("has"),r&&l("get")),(g||h)&&l(o),i&&s.clear&&delete s.clear}u.Set=c,zd({global:!0,forced:c!=a},u),Wh(c,e),i||n.setStrong(c,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var i=e((function(e,o){Kf(e,i,t),tp(e,{type:t,index:Ph(null),first:void 0,last:void 0,size:0}),Ll||(e.size=0),null!=o&&Df(o,e[r],e,n)})),o=np(t),a=function(e,t,n){var r,i,a=o(e),c=s(e,t);return c?c.value=n:(a.last=c={index:i=ep(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=c),r&&(r.next=c),Ll?a.size++:e.size++,"F"!==i&&(a.index[i]=c)),e},s=function(e,t){var n,r=o(e),i=ep(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return qf(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Ll?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=s(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),Ll?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=yh(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),qf(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),Ll&&$f(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=np(t),o=np(r);qh(e,t,(function(e,t){tp(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(e){var t=Fd(e),n=ql.f;Ll&&t&&!t[zf]&&n(t,zf,{configurable:!0,get:function(){return this}})}(t)}}),cf?{}.toString:function(){return"[object "+df(this)+"]"});cf||Cd(Object.prototype,"toString",rp,{unsafe:!0});var ip={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},op=Sd.set,ap=Sd.getterFor("Array Iterator"),sp=qh(Array,"Array",(function(e,t){op(this,{type:"Array Iterator",target:Tl(e),index:0,kind:t})}),(function(){var e=ap(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Nh.Arguments=Nh.Array,Qf("keys"),Qf("values"),Qf("entries");var cp=ih("iterator"),up=ih("toStringTag"),lp=sp.values;for(var dp in ip){var hp=Fl[dp],fp=hp&&hp.prototype;if(fp){if(fp[cp]!==lp)try{zl(fp,cp,lp)}catch(ml){fp[cp]=lp}if(fp[up]||zl(fp,up,dp),ip[dp])for(var pp in sp)if(fp[pp]!==sp[pp])try{zl(fp,pp,sp[pp])}catch(ml){fp[pp]=sp[pp]}}}function gp(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}Bd.Set;var mp=setTimeout;function vp(e){return Boolean(e&&void 0!==e.length)}function yp(){}function bp(e){if(!(this instanceof bp))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],xp(e,this)}function Ip(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,bp._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void Sp(t.promise,e)}wp(t.promise,r)}else(1===e._state?wp:Sp)(t.promise,e._value)}))):e._deferreds.push(t)}function wp(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof bp)return e._state=3,e._value=t,void Cp(e);if("function"==typeof n)return void xp((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,Cp(e)}catch(t){Sp(e,t)}var r,i}function Sp(e,t){e._state=2,e._value=t,Cp(e)}function Cp(e){2===e._state&&0===e._deferreds.length&&bp._immediateFn((function(){e._handled||bp._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)Ip(e,e._deferreds[t]);e._deferreds=null}function Bp(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function xp(e,t){var n=!1;try{e((function(e){n||(n=!0,wp(t,e))}),(function(e){n||(n=!0,Sp(t,e))}))}catch(e){if(n)return;n=!0,Sp(t,e)}}bp.prototype.catch=function(e){return this.then(null,e)},bp.prototype.then=function(e,t){var n=new this.constructor(yp);return Ip(this,new Bp(e,t,n)),n},bp.prototype.finally=gp,bp.all=function(e){return new bp((function(t,n){if(!vp(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},bp.resolve=function(e){return e&&"object"==typeof e&&e.constructor===bp?e:new bp((function(t){t(e)}))},bp.reject=function(e){return new bp((function(t,n){n(e)}))},bp.race=function(e){return new bp((function(t,n){if(!vp(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)bp.resolve(e[r]).then(t,n)}))},bp._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){mp(e,0)},bp._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var Fp=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in Fp?Fp.Promise.prototype.finally||(Fp.Promise.prototype.finally=gp):Fp.Promise=bp,function(e){function t(){}function n(e,t){if(e=void 0===e?"utf-8":e,t=void 0===t?{fatal:!1}:t,-1===i.indexOf(e.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+e+"') is invalid.");if(t.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function r(e){for(var t=0,n=Math.min(65536,e.length+1),r=new Uint16Array(n),i=[],o=0;;){var a=t<e.length;if(!a||o>=n-1){if(i.push(String.fromCharCode.apply(null,r.subarray(0,o))),!a)return i.join("");e=e.subarray(t),o=t=0}if(0==(128&(a=e[t++])))r[o++]=a;else if(192==(224&a)){var s=63&e[t++];r[o++]=(31&a)<<6|s}else if(224==(240&a)){s=63&e[t++];var c=63&e[t++];r[o++]=(31&a)<<12|s<<6|c}else 240==(248&a)&&(65535<(a=(7&a)<<18|(s=63&e[t++])<<12|(c=63&e[t++])<<6|63&e[t++])&&(a-=65536,r[o++]=a>>>10&1023|55296,a=56320|1023&a),r[o++]=a)}}if(e.TextEncoder&&e.TextDecoder)return!1;var i=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");t=0;for(var n=e.length,r=0,i=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(i>>>3<<3);t<n;){var a=e.charCodeAt(t++);if(55296<=a&&56319>=a){if(t<n){var s=e.charCodeAt(t);56320==(64512&s)&&(++t,a=((1023&a)<<10)+(1023&s)+65536)}if(55296<=a&&56319>=a)continue}if(r+4>o.length&&(i+=8,i=(i*=1+t/e.length*2)>>>3<<3,(s=new Uint8Array(i)).set(o),o=s),0==(4294967168&a))o[r++]=a;else{if(0==(4294965248&a))o[r++]=a>>>6&31|192;else if(0==(4294901760&a))o[r++]=a>>>12&15|224,o[r++]=a>>>6&63|128;else{if(0!=(4292870144&a))continue;o[r++]=a>>>18&7|240,o[r++]=a>>>12&63|128,o[r++]=a>>>6&63|128}o[r++]=63&a|128}}return o.slice?o.slice(0,r):o.subarray(0,r)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var o=r;"function"==typeof Buffer&&Buffer.from?o=function(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(o=function(e){var t=URL.createObjectURL(new Blob([e],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n.responseText}catch(t){return r(e)}finally{URL.revokeObjectURL(t)}}),n.prototype.decode=function(e,t){if((t=void 0===t?{stream:!1}:t).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return e=e instanceof Uint8Array?e:e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer):new Uint8Array(e),o(e)},e.TextEncoder=t,e.TextDecoder=n}("undefined"!=typeof window?window:Sl),function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?o(e):t}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var l=function(){function t(){e(this,t),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(t,[{key:"addEventListener",value:function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"removeEventListener",value:function(e,t){if(e in this.listeners)for(var n=this.listeners[e],r=0,i=n.length;r<i;r++)if(n[r]===t)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(e){var t=this;if(e.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(t,e)}))},r=this.listeners[e.type],i=0,o=r.length;i<o;i++)n(r[i]);return!e.defaultPrevented}}}]),t}(),d=function(t){r(c,t);var a=s(c);function c(){var t;return e(this,c),(t=a.call(this)).listeners||l.call(o(t)),Object.defineProperty(o(t),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(t),"onabort",{value:null,writable:!0,configurable:!0}),t}return n(c,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(e){"abort"===e.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,e)),u(i(c.prototype),"dispatchEvent",this).call(this,e)}}]),c}(l),h=function(){function t(){e(this,t),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(t,[{key:"abort",value:function(){var e;try{e=new Event("abort")}catch(t){"undefined"!=typeof document?document.createEvent?(e=document.createEvent("Event")).initEvent("abort",!1,!1):(e=document.createEventObject()).type="abort":e={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(e)}},{key:"toString",value:function(){return"[object AbortController]"}}]),t}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(h.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),function(e){(function(e){return e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof e.Request&&!e.Request.prototype.hasOwnProperty("signal")||!e.AbortController})(e)&&(e.AbortController=h,e.AbortSignal=d)}("undefined"!=typeof self?self:Sl)}();var Rp=Bl((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var r=e.locked.get(t);void 0===r?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(r.unshift(n),e.locked.set(t,r))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,r){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var r=n.pop();e.locked.set(t,n),void 0!==r&&setTimeout(r,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();t.default=function(){return n.getInstance()}}));Cl(Rp);var Lp=Cl(Bl((function(e,t){var n=Sl&&Sl.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}c((r=r.apply(e,t||[])).next())}))},r=Sl&&Sl.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key";function o(e){return new Promise((function(t){return setTimeout(t,e)}))}function a(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}var s=function(){function e(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+a(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,s){return void 0===s&&(s=5e3),n(this,void 0,void 0,(function(){var n,c,u,l,d,h;return r(this,(function(r){switch(r.label){case 0:n=Date.now()+a(4),c=Date.now()+s,u=i+"-"+t,l=window.localStorage,r.label=1;case 1:return Date.now()<c?[4,o(30)]:[3,8];case 2:return r.sent(),null!==l.getItem(u)?[3,5]:(d=this.id+"-"+t+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return r.sent(),l.setItem(u,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return r.sent(),null!==(h=l.getItem(u))&&(h=JSON.parse(h)).id===this.id&&h.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(u,n),[2,!0]):[3,7];case 5:return e.lockCorrector(),[4,this.waitForSomethingToChange(c)];case 6:r.sent(),r.label=7;case 7:return n=Date.now()+a(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return n(this,void 0,void 0,(function(){var i=this;return r(this,(function(o){return setTimeout((function(){return n(i,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return[4,Rp.default().lock(t)];case 1:return r.sent(),this.acquiredIatSet.has(t)?(n=window.localStorage,null===(i=n.getItem(e))?(Rp.default().unlock(t),[2]):((i=JSON.parse(i)).timeRefreshed=Date.now(),n.setItem(e,JSON.stringify(i)),Rp.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(Rp.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return n(this,void 0,void 0,(function(){return r(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=!1,i=Date.now(),o=!1;function a(){if(o||(window.removeEventListener("storage",a),e.removeFromWaiting(a),clearTimeout(s),o=!0),!r){r=!0;var t=50-(Date.now()-i);t>0?setTimeout(n,t):n()}}window.addEventListener("storage",a),e.addToWaiting(a);var s=setTimeout(a,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return n(this,void 0,void 0,(function(){var n,o,a;return r(this,(function(r){switch(r.label){case 0:return n=window.localStorage,o=i+"-"+t,null===(a=n.getItem(o))?[2]:(a=JSON.parse(a)).id!==this.id?[3,2]:[4,Rp.default().lock(a.iat)];case 1:r.sent(),this.acquiredIatSet.delete(a.iat),n.removeItem(o),Rp.default().unlock(a.iat),e.notifyWaiters(),r.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(){for(var t=Date.now()-5e3,n=window.localStorage,r=Object.keys(n),o=!1,a=0;a<r.length;a++){var s=r[a];if(s.includes(i)){var c=n.getItem(s);null!==c&&(void 0===(c=JSON.parse(c)).timeRefreshed&&c.timeAcquired<t||void 0!==c.timeRefreshed&&c.timeRefreshed<t)&&(n.removeItem(s),o=!0)}}o&&e.notifyWaiters()},e.waiters=void 0,e}();t.default=s}))),Ap={timeoutInSeconds:60},Up=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Ep=function(e){function t(n,r){var i=e.call(this,r)||this;return i.error=n,i.error_description=r,Object.setPrototypeOf(i,t.prototype),i}return vl(t,e),t.fromPayload=function(e){return new t(e.error,e.error_description)},t}(Error),kp=function(e){function t(n,r,i,o){void 0===o&&(o=null);var a=e.call(this,n,r)||this;return a.state=i,a.appState=o,Object.setPrototypeOf(a,t.prototype),a}return vl(t,e),t}(Ep),Vp=function(e){function t(){var n=e.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,t.prototype),n}return vl(t,e),t}(Ep),Gp=function(e){function t(n){var r=e.call(this)||this;return r.popup=n,Object.setPrototypeOf(r,t.prototype),r}return vl(t,e),t}(Vp),Hp=function(e,t,n){return void 0===n&&(n=60),new Promise((function(r,i){var o=window.document.createElement("iframe");o.setAttribute("width","0"),o.setAttribute("height","0"),o.style.display="none";var a=function(){window.document.body.contains(o)&&window.document.body.removeChild(o)},s=setTimeout((function(){i(new Vp),a()}),1e3*n),c=function(e){if(e.origin==t&&e.data&&"authorization_response"===e.data.type){var n=e.source;n&&n.close(),e.data.response.error?i(Ep.fromPayload(e.data.response)):r(e.data.response),clearTimeout(s),window.removeEventListener("message",c,!1),setTimeout(a,2e3)}};window.addEventListener("message",c,!1),window.document.body.appendChild(o),o.setAttribute("src",e)}))},Zp=function(e,t){var n,r,i,o=t.popup;if(o?o.location.href=e:(n=e,r=window.screenX+(window.innerWidth-400)/2,i=window.screenY+(window.innerHeight-600)/2,o=window.open(n,"auth0:authorize:popup","left="+r+",top="+i+",width=400,height=600,resizable,scrollbars=yes,status=1")),!o)throw new Error("Could not open popup");return new Promise((function(e,n){var r=setTimeout((function(){n(new Gp(o))}),1e3*(t.timeoutInSeconds||60));window.addEventListener("message",(function(t){if(t.data&&"authorization_response"===t.data.type){if(clearTimeout(r),o.close(),t.data.response.error)return n(Ep.fromPayload(t.data.response));e(t.data.response)}}))}))},Xp=function(){return window.crypto||window.msCrypto},Tp=function(){var e=Xp();return e.subtle||e.webkitSubtle},Pp=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Xp().getRandomValues(new Uint8Array(43))).forEach((function(n){return t+=e[n%e.length]})),t},Op=function(e){return btoa(e)},Qp=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]})).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},Wp=function(e){return Il(void 0,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return t=Tp().digest({name:"SHA-256"},(new TextEncoder).encode(e)),window.msCrypto?[2,new Promise((function(e,n){t.oncomplete=function(t){e(t.target.result)},t.onerror=function(e){n(e.error)},t.onabort=function(){n("The digest operation was aborted")}}))]:[4,t];case 1:return[2,n.sent()]}}))}))},Np=function(e){return function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(e.replace(/_/g,"/").replace(/-/g,"+"))},jp=function(e){var t=new Uint8Array(e);return function(e){var t={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(function(e){return t[e]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(t))))},_p=function(e,t,n,r,i,o){return Il(void 0,void 0,void 0,(function(){var a,s;return wl(this,(function(c){switch(c.label){case 0:return o?(delete r.signal,[2,(d=yl({url:e,audience:t,scope:n,timeout:i},r),h=o,new Promise((function(e,t){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?t(new Error(n.data.error)):e(n.data)},h.postMessage(d,[n.port2])})))]):[3,1];case 1:return[4,(u=e,l=r,l=l||{},new Promise((function(e,t){var n=new XMLHttpRequest,r=[],i=[],o={},a=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:a,headers:{keys:function(){return r},entries:function(){return i},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var s in n.open(l.method||"get",u,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){r.push(t=t.toLowerCase()),i.push([t,n]),o[t]=o[t]?o[t]+","+n:n})),e(a())},n.onerror=t,n.withCredentials="include"==l.credentials,l.headers)n.setRequestHeader(s,l.headers[s]);n.send(l.body||null)})))];case 2:return a=c.sent(),s={ok:a.ok},[4,a.json()];case 3:return[2,(s.json=c.sent(),s)]}var u,l,d,h}))}))},Jp=function(e,t,n,r,i,o){void 0===o&&(o=1e4);var a,s=new AbortController,c=s.signal,u=yl(yl({},r),{signal:c});return Promise.race([_p(e,t,n,u,o,i),new Promise((function(e,t){a=setTimeout((function(){s.abort(),t(new Error("Timeout when executing 'fetch'"))}),o)}))]).finally((function(){clearTimeout(a)}))},Yp=function(e,t,n,r,i,o){return Il(void 0,void 0,void 0,(function(){var a,s,c,u,l,d,h,f,p,g;return wl(this,(function(m){switch(m.label){case 0:a=null,c=0,m.label=1;case 1:if(!(c<3))return[3,6];m.label=2;case 2:return m.trys.push([2,4,,5]),[4,Jp(e,n,r,i,o,t)];case 3:return s=m.sent(),a=null,[3,6];case 4:return u=m.sent(),a=u,[3,5];case 5:return c++,[3,1];case 6:if(a)throw a.message=a.message||"Failed to fetch",a;if(l=s.json,d=l.error,h=l.error_description,f=bl(l,["error","error_description"]),!s.ok)throw p=h||"HTTP error. Unable to fetch "+e,(g=new Error(p)).error=d||"request_error",g.error_description=p,g;return[2,f]}}))}))},Mp=function(e,t){return Il(void 0,void 0,void 0,(function(){var n=e.baseUrl,r=e.timeout,i=e.audience,o=e.scope,a=bl(e,["baseUrl","timeout","audience","scope"]);return wl(this,(function(e){switch(e.label){case 0:return[4,Yp(n+"/oauth/token",r,i||"default",o,{method:"POST",body:JSON.stringify(yl({redirect_uri:window.location.origin},a)),headers:{"Content-type":"application/json"}},t)];case 1:return[2,e.sent()]}}))}))},Dp=function(e){return Array.from(new Set(e))},Kp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dp(e.join(" ").trim().split(/\s+/)).join(" ")},qp=function(e){return"@@auth0spajs@@::"+e.client_id+"::"+e.audience+"::"+e.scope},zp=function(e){var t=Math.floor(Date.now()/1e3)+e.expires_in;return{body:e,expiresAt:Math.min(t,e.decodedToken.claims.exp)}},$p=function(){function e(){}return e.prototype.save=function(e){var t=qp(e),n=zp(e);window.localStorage.setItem(t,JSON.stringify(n))},e.prototype.get=function(e,t){void 0===t&&(t=0);var n=qp(e),r=this.readJson(n),i=Math.floor(Date.now()/1e3);if(r){if(!(r.expiresAt-t<i))return r.body;if(r.body.refresh_token){var o=this.stripData(r);return this.writeJson(n,o),o.body}localStorage.removeItem(n)}},e.prototype.clear=function(){for(var e=localStorage.length-1;e>=0;e--)localStorage.key(e).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(e))},e.prototype.readJson=function(e){var t,n=window.localStorage.getItem(e);if(n&&(t=JSON.parse(n)))return t},e.prototype.writeJson=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.stripData=function(e){return{body:{refresh_token:e.body.refresh_token},expiresAt:e.expiresAt}},e}(),eg=function(){this.enclosedCache=function(){var e={body:{},expiresAt:0};return{save:function(t){var n=qp(t),r=zp(t);e[n]=r},get:function(t,n){void 0===n&&(n=0);var r=qp(t),i=e[r],o=Math.floor(Date.now()/1e3);if(i)return i.expiresAt-n<o?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},i.body):void delete e[r]:i.body},clear:function(){e={body:{},expiresAt:0}}}}()},tg=function(){function e(e){this.storage=e,this.transaction=this.storage.get("a0.spajs.txs")}return e.prototype.create=function(e){this.transaction=e,this.storage.save("a0.spajs.txs",e,{daysUntilExpire:1})},e.prototype.get=function(){return this.transaction},e.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},e}(),ng=function(e){return"number"==typeof e},rg=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],ig=Bl((function(e,t){var n=Sl&&Sl.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e,t){if(!t)return"";var n="; "+e;return!0===t?n:n+"="+t}function i(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if("number"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return r("Expires",e.expires?e.expires.toUTCString():"")+r("Domain",e.domain)+r("Path",e.path)+r("Secure",e.secure)+r("SameSite",e.sameSite)}(n)}function o(e){for(var t={},n=e?e.split("; "):[],r=/(%[\dA-F]{2})+/gi,i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");'"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[o[0].replace(r,decodeURIComponent)]=a.replace(r,decodeURIComponent)}catch(e){}}return t}function a(){return o(document.cookie)}function s(e,t,r){document.cookie=i(e,t,n({path:"/"},r))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=a,t.get=function(e){return a()[e]},t.set=s,t.remove=function(e,t){s(e,"",n(n({},t),{expires:-1}))}}));Cl(ig),ig.encode,ig.parse,ig.getAll;var og=ig.get,ag=ig.set,sg=ig.remove,cg={get:function(e){var t=og(e);if(void 0!==t)return JSON.parse(t)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0,sameSite:"none"}),r.expires=n.daysUntilExpire,ag(e,JSON.stringify(t),r)},remove:function(e){sg(e)}},ug={get:function(e){return cg.get(e)||cg.get("_legacy_"+e)},save:function(e,t,n){var r={};"https:"===window.location.protocol&&(r={secure:!0}),r.expires=n.daysUntilExpire,ag("_legacy_"+e,JSON.stringify(t),r),cg.save(e,t,n)},remove:function(e){cg.remove(e),cg.remove("_legacy_"+e)}},lg={get:function(e){if("undefined"!=typeof sessionStorage){var t=sessionStorage.getItem(e);if(void 0!==t)return JSON.parse(t)}},save:function(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove:function(e){sessionStorage.removeItem(e)}};var dg,hg=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",!1,function(e){return dg=dg||function(e,t,n){var r=void 0===t?null:t,i=function(e,t){var n=atob(e);if(t){for(var r=new Uint8Array(n.length),i=0,o=n.length;i<o;++i)r[i]=n.charCodeAt(i);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return n}(e,void 0!==n&&n),o=i.indexOf("\n",10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",!1),new Worker(dg,e)}),fg=new Lp,pg={memory:function(){return(new eg).enclosedCache},localstorage:function(){return new $p}},gg=function(e){return pg[e]},mg=function(){function e(e){var t,n,r,i;if(this.options=e,"undefined"!=typeof window&&function(){if(!Xp())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Tp())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),this.cacheLocation=e.cacheLocation||"memory",this.cookieStorage=!1===e.legacySameSiteCookie?cg:ug,!gg(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');this.cache=gg(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new tg(lg),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(r=this.options.issuer,i=this.domainUrl,r?r.startsWith("https://")?r:"https://"+r+"/":i+"/"),this.defaultScope=Kp("openid",void 0!==(null===(n=null===(t=this.options)||void 0===t?void 0:t.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=Kp(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new hg),this.customOptions=function(e){return e.advancedOptions,e.audience,e.auth0Client,e.authorizeTimeoutInSeconds,e.cacheLocation,e.client_id,e.domain,e.issuer,e.leeway,e.max_age,e.redirect_uri,e.scope,e.useRefreshTokens,bl(e,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(e)}return e.prototype._url=function(e){var t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||{name:"auth0-spa-js",version:"1.12.1"})));return""+this.domainUrl+e+"&auth0Client="+t},e.prototype._getParams=function(e,t,n,r,i){var o=this.options,a=(o.domain,o.leeway,o.useRefreshTokens,o.auth0Client,o.cacheLocation,o.advancedOptions,bl(o,["domain","leeway","useRefreshTokens","auth0Client","cacheLocation","advancedOptions"]));return yl(yl(yl({},a),e),{scope:Kp(this.defaultScope,this.scope,e.scope),response_type:"code",response_mode:"query",state:t,nonce:n,redirect_uri:i||this.options.redirect_uri,code_challenge:r,code_challenge_method:"S256"})},e.prototype._authorizeUrl=function(e){return this._url("/authorize?"+Qp(e))},e.prototype._verifyIdToken=function(e,t){return function(e){if(!e.id_token)throw new Error("ID token is required but missing");var t=function(e){var t=e.split("."),n=t[0],r=t[1],i=t[2];if(3!==t.length||!n||!r||!i)throw new Error("ID token could not be decoded");var o=JSON.parse(Np(r)),a={__raw:e},s={};return Object.keys(o).forEach((function(e){a[e]=o[e],rg.includes(e)||(s[e]=o[e])})),{encoded:{header:n,payload:r,signature:i},header:JSON.parse(Np(n)),claims:a,user:s}}(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+e.iss+'", found "'+t.claims.iss+'"');if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==t.header.alg)throw new Error('Signature algorithm of "'+t.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!t.claims.aud||"string"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but was not one of "'+t.claims.aud.join(", ")+'"');if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+e.aud+'", found "'+t.claims.azp+'"')}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+e.aud+'" but found "'+t.claims.aud+'"');if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+e.nonce+'", found "'+t.claims.nonce+'"')}if(e.max_age&&!ng(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!ng(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!ng(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=e.leeway||60,r=new Date(Date.now()),i=new Date(0),o=new Date(0),a=new Date(0);if(a.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),i.setUTCSeconds(t.claims.exp+n),o.setUTCSeconds(t.claims.nbf-n),r>i)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+r+") is after expiration time ("+i+")");if(ng(t.claims.nbf)&&r<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+r+") is before "+o);if(ng(t.claims.auth_time)&&r>a)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+r+") is after last auth at "+a);return t}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:e,nonce:t,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},e.prototype._parseNumber=function(e){return"string"!=typeof e?e:parseInt(e,10)||void 0},e.prototype.buildAuthorizeUrl=function(e){return void 0===e&&(e={}),Il(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,l,d;return wl(this,(function(h){switch(h.label){case 0:return t=e.redirect_uri,n=e.appState,r=bl(e,["redirect_uri","appState"]),i=Op(Pp()),o=Op(Pp()),a=Pp(),[4,Wp(a)];case 1:return s=h.sent(),c=jp(s),u=e.fragment?"#"+e.fragment:"",l=this._getParams(r,i,o,c,t),d=this._authorizeUrl(l),this.transactionManager.create({nonce:o,code_verifier:a,appState:n,scope:l.scope,audience:l.audience||"default",redirect_uri:l.redirect_uri}),[2,d+u]}}))}))},e.prototype.loginWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Il(this,void 0,void 0,(function(){var n,r,i,o,a,s,c,u,l,d,h,f;return wl(this,(function(p){switch(p.label){case 0:return n=bl(e,[]),r=Op(Pp()),i=Op(Pp()),o=Pp(),[4,Wp(o)];case 1:return a=p.sent(),s=jp(a),c=this._getParams(n,r,i,s,this.options.redirect_uri||window.location.origin),u=this._authorizeUrl(yl(yl({},c),{response_mode:"web_message"})),[4,Zp(u,yl(yl({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(l=p.sent(),r!==l.state)throw new Error("Invalid state");return[4,Mp({audience:c.audience,scope:c.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:l.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri},this.worker)];case 3:return d=p.sent(),h=this._verifyIdToken(d.id_token,i),f=yl(yl({},d),{decodedToken:h,scope:c.scope,audience:c.audience||"default",client_id:this.options.client_id}),this.cache.save(f),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}}))}))},e.prototype.getUser=function(e){return void 0===e&&(e={}),Il(this,void 0,void 0,(function(){var t,n,r;return wl(this,(function(i){return t=e.audience||this.options.audience||"default",n=Kp(this.defaultScope,this.scope,e.scope),[2,(r=this.cache.get({client_id:this.options.client_id,audience:t,scope:n}))&&r.decodedToken&&r.decodedToken.user]}))}))},e.prototype.getIdTokenClaims=function(e){return void 0===e&&(e={}),Il(this,void 0,void 0,(function(){var t,n,r;return wl(this,(function(i){return t=e.audience||this.options.audience||"default",n=Kp(this.defaultScope,this.scope,e.scope),[2,(r=this.cache.get({client_id:this.options.client_id,audience:t,scope:n}))&&r.decodedToken&&r.decodedToken.claims]}))}))},e.prototype.loginWithRedirect=function(e){return void 0===e&&(e={}),Il(this,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(e)];case 1:return t=n.sent(),window.location.assign(t),[2]}}))}))},e.prototype.handleRedirectCallback=function(e){return void 0===e&&(e=window.location.href),Il(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,l,d;return wl(this,(function(h){switch(h.label){case 0:if(0===(t=e.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(e){e.indexOf("#")>-1&&(e=e.substr(0,e.indexOf("#")));var t=e.split("&"),n={};return t.forEach((function(e){var t=e.split("="),r=t[0],i=t[1];n[r]=decodeURIComponent(i)})),yl(yl({},n),{expires_in:parseInt(n.expires_in)})}(t.join("")),r=n.state,i=n.code,o=n.error,a=n.error_description,!(s=this.transactionManager.get())||!s.code_verifier||!s.nonce)throw new Error("Invalid state");if(o)throw this.transactionManager.remove(),new kp(o,a,r,s.appState);return this.transactionManager.remove(),c={audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i},void 0!==s.redirect_uri&&(c.redirect_uri=s.redirect_uri),[4,Mp(c,this.worker)];case 1:return u=h.sent(),l=this._verifyIdToken(u.id_token,s.nonce),d=yl(yl({},u),{decodedToken:l,audience:s.audience,scope:s.scope,client_id:this.options.client_id}),this.cache.save(d),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:s.appState}]}}))}))},e.prototype.checkSession=function(e){return Il(this,void 0,void 0,(function(){var t;return wl(this,(function(n){switch(n.label){case 0:if("memory"===this.cacheLocation&&!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(e)];case 2:return n.sent(),[3,4];case 3:if(t=n.sent(),!Up.includes(t.error))throw t;return[3,4];case 4:return[2]}}))}))},e.prototype.getTokenSilently=function(e){return void 0===e&&(e={}),Il(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c=this;return wl(this,(function(u){switch(u.label){case 0:if(t=yl(yl({audience:this.options.audience,ignoreCache:!1},e),{scope:Kp(this.defaultScope,this.scope,e.scope)}),n=t.ignoreCache,r=bl(t,["ignoreCache"]),i=function(){var e=c.cache.get({scope:r.scope,audience:r.audience||"default",client_id:c.options.client_id},60);return e&&e.access_token},!n&&(o=i()))return[2,o];u.label=1;case 1:return u.trys.push([1,7,8,10]),[4,fg.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return u.sent(),!n&&(o=i())?[2,o]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(r)]:[3,4];case 3:return s=u.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(r)];case 5:s=u.sent(),u.label=6;case 6:return a=s,this.cache.save(yl({client_id:this.options.client_id},a)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,a.access_token];case 7:throw u.sent();case 8:return[4,fg.releaseLock("auth0.lock.getTokenSilently")];case 9:return u.sent(),[7];case 10:return[2]}}))}))},e.prototype.getTokenWithPopup=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Il(this,void 0,void 0,(function(){return wl(this,(function(n){switch(n.label){case 0:return e.audience=e.audience||this.options.audience,e.scope=Kp(this.defaultScope,this.scope,e.scope),t=yl(yl({},Ap),t),[4,this.loginWithPopup(e,t)];case 1:return n.sent(),[2,this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}).access_token]}}))}))},e.prototype.isAuthenticated=function(){return Il(this,void 0,void 0,(function(){return wl(this,(function(e){switch(e.label){case 0:return[4,this.getUser()];case 1:return[2,!!e.sent()]}}))}))},e.prototype.logout=function(e){void 0===e&&(e={}),null!==e.client_id?e.client_id=e.client_id||this.options.client_id:delete e.client_id;var t=e.federated,n=e.localOnly,r=bl(e,["federated","localOnly"]);if(n&&t)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!n){var i=t?"&federated":"",o=this._url("/v2/logout?"+Qp(r));window.location.assign(""+o+i)}},e.prototype._getTokenFromIFrame=function(e){return Il(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c,u,l,d,h,f,p;return wl(this,(function(g){switch(g.label){case 0:return t=Op(Pp()),n=Op(Pp()),r=Pp(),[4,Wp(r)];case 1:return i=g.sent(),o=jp(i),a=this._getParams(e,t,n,o,e.redirect_uri||this.options.redirect_uri||window.location.origin),s=this._authorizeUrl(yl(yl({},a),{prompt:"none",response_mode:"web_message"})),c=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,Hp(s,this.domainUrl,c)];case 2:if(u=g.sent(),t!==u.state)throw new Error("Invalid state");return l=e.scope,d=e.audience,e.redirect_uri,e.ignoreCache,e.timeoutInSeconds,h=bl(e,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,Mp(yl(yl(yl({},this.customOptions),h),{scope:l,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:r,code:u.code,grant_type:"authorization_code",redirect_uri:a.redirect_uri}),this.worker)];case 3:return f=g.sent(),p=this._verifyIdToken(f.id_token,n),[2,yl(yl({},f),{decodedToken:p,scope:a.scope,audience:a.audience||"default"})]}}))}))},e.prototype._getTokenUsingRefreshToken=function(e){return Il(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,c;return wl(this,(function(u){switch(u.label){case 0:return e.scope=Kp(this.defaultScope,this.options.scope,e.scope),(t=this.cache.get({scope:e.scope,audience:e.audience||"default",client_id:this.options.client_id}))&&t.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(e)];case 1:return[2,u.sent()];case 2:n=e.redirect_uri||this.options.redirect_uri||window.location.origin,i=e.scope,o=e.audience,e.ignoreCache,e.timeoutInSeconds,a=bl(e,["scope","audience","ignoreCache","timeoutInSeconds"]),u.label=3;case 3:return u.trys.push([3,5,,8]),[4,Mp(yl(yl(yl({},this.customOptions),a),{audience:o,scope:i,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:n}),this.worker)];case 4:return r=u.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(s=u.sent()).message?[3,7]:[4,this._getTokenFromIFrame(e)];case 6:return[2,u.sent()];case 7:throw s;case 8:return c=this._verifyIdToken(r.id_token),[2,yl(yl({},r),{decodedToken:c,scope:e.scope,audience:e.audience||"default"})]}}))}))},e}(),vg=function(){function e(e){this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.getAccessTokenDifferentAudience=this.getAccessTokenDifferentAudience.bind(this),this.getProfile=this.getProfile.bind(this),this.init=this.init.bind(this),e.state||(e.state=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),this._opts=e,window.oauth=this}var t=e.prototype;return t.init=function(){return new Promise(function(e,t){return this.auth0?e(this.auth0):this.auth0Promise?e(this.auth0Promise):(this.auth0Promise=this.createAuth0Client(this._opts),Promise.resolve(this.auth0Promise).then(function(n){try{return this.auth0=n,e(this.auth0)}catch(e){return t(e)}}.bind(this),t))}.bind(this))},t.createAuth0Client=function(e){return new Promise(function(t,n){var r,i;r=new mg(Object.assign({authorizeTimeoutInSeconds:5,useRefreshTokens:!1},e));var o=function(){try{if(i)return t(r);if(e.skipAutoLogin&&!this.hasAuthenticatedCookie())return t(r);var o=function(){try{return t(r)}catch(e){return n(e)}},a=function(e){try{return o()}catch(e){return n(e)}};try{return Promise.resolve(this._getTokenSilently(r)).then((function(e){try{return o()}catch(e){return a()}}),a)}catch(e){a()}}catch(e){return n(e)}}.bind(this),a=function(e){try{return o()}catch(e){return n(e)}};try{return Promise.resolve(r.handleRedirectCallback()).then(function(e){try{return i=e.appState,this.redirectCallbackResult=i,o()}catch(e){return a()}}.bind(this),a)}catch(e){a()}}.bind(this))},t._getTokenSilently=function(e){return new Promise(function(t,n){void 0===e&&(e=this.auth0);var r=function(e){try{switch(e.error){case"timeout":throw console.error("[header-footer] Silent authentication timed out after 5s: was the Web Origin set for "+window.location.hostname+"?"),e;case"login_required":throw this.removeAuthenticatedCookie(),e;case"interaction_required":console.error("[header-footer] Interaction required: redirecting to Auth0"),this.login();break;default:throw e}return function(){try{return t()}catch(e){return n(e)}}()}catch(e){return n(e)}}.bind(this);try{return Promise.resolve(e.getTokenSilently()).then(t,r)}catch(e){r(e)}}.bind(this))},t.isInitialized=function(){return window.mockToken||void 0!==this.auth0},t.login=function(e){return new Promise(function(t,n){var r,i,o;return e||(e=this._opts),(r=e.href)||e.redirect_uri||(r=window.location.href),i={appState:{previousState:e.state,previousHref:r}},o=function(e){e.href,e.state;return function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["href","state"])}(e),Promise.resolve(this.init()).then((function(e){try{return e.loginWithRedirect(Object.assign({},o,i)),t()}catch(e){return n(e)}}),n)}.bind(this))},t.handleAuthentication=function(){return new Promise(function(e,t){return window.mockToken?e({}):Promise.resolve(this.init()).then(function(n){try{if(this.redirectCallbackResult)return e(this.redirectCallbackResult);var r=function(n){try{return function(){try{return e({})}catch(e){return t(e)}}()}catch(e){return t(e)}};try{return Promise.resolve(this.auth0.handleRedirectCallback()).then((function(t){try{return e(t.appState||{})}catch(e){return r()}}),r)}catch(e){r()}}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.getAccessToken=function(){return new Promise(function(e,t){return window.mockToken?e(window.mockToken):Promise.resolve(this.init()).then(function(n){try{return e(this._getTokenSilently())}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.getAccessTokenDifferentAudience=function(e){return new Promise(function(t,n){var r=function(e){try{throw e.error&&console.error(e.error),e}catch(e){return n(e)}};try{return Promise.resolve(this.init()).then(function(n){try{return Promise.resolve(this.auth0.getTokenSilently(e)).then(t,r)}catch(e){return r(e)}}.bind(this),r)}catch(e){r(e)}}.bind(this))},t.token=function(){return new Promise(function(e,t){return console.error("[header-footer] You called window.oauth.token() but you probably should have used window.auth.getAccessToken()."),Promise.resolve(this.getAccessToken()).then((function(n){try{return e({token:n})}catch(e){return t(e)}}),t)}.bind(this))},t.getProfile=function(){return new Promise(function(e,t){return Promise.resolve(new Promise(function(e,t){var n;if(!(n=window.mockUser))return Promise.resolve(this.init()).then(function(e){try{return n=e.getUser(),r.call(this)}catch(e){return t(e)}}.bind(this),t);function r(){return e(n)}return r.call(this)}.bind(this))).then((function(n){try{return e(n||{})}catch(e){return t(e)}}),t)}.bind(this))},t.logout=function(){return new Promise(function(e,t){return this.removeAuthenticatedCookie(),Promise.resolve(this.init()).then(function(n){try{return n.logout({returnTo:this._opts.logout_uri||this._opts.redirect_uri}),e()}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.isAuthenticated=function(){return new Promise(function(e,t){return Promise.resolve(this.init()).then(function(n){try{return e(Boolean(window.mockToken)||this.hasAuthenticatedCookie())}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.hasAuthenticatedCookie=function(){return 2===("; "+document.cookie).split("; auth0.is.authenticated=").length},t.removeAuthenticatedCookie=function(){document.cookie="auth0.is.authenticated=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},e}(),yg=function(){function e(e){this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.getProfile=this.getProfile.bind(this),this.init=this.init.bind(this),this._opts=e}var t=e.prototype;return t.init=function(){return new Promise((function(e,t){return e()}))},t.isInitialized=function(){return!this._opts.no_auth},t.login=function(){return new Promise(function(e,t){return this._opts.login_url&&(window.location=this._opts.login_url),e()}.bind(this))},t.handleAuthentication=function(){return new Promise((function(e,t){return e({})}))},t.getAccessToken=function(){return new Promise(function(e,t){return e(this._opts.token)}.bind(this))},t.getProfile=function(){return new Promise(function(e,t){return e(this._opts.profile)}.bind(this))},t.logout=function(){return new Promise(function(e,t){return this._opts.logout_url&&(window.location=this._opts.logout_url),e()}.bind(this))},t.isAuthenticated=function(){return new Promise(function(e,t){return e(Boolean(this._opts.token))}.bind(this))},e}(),bg=function(){function e(e,t){this.url="dev"===e?"https://api-dev.arduino.cc":"https://api2.arduino.cc",this.auth=t}var t=e.prototype;return t.createSubscription=function(e){return new Promise(function(t,n){return t(fetch(this.url+"/consent/v1/subscription",{method:"POST",body:JSON.stringify(e)}))}.bind(this))},t.confirmEmail=function(){return new Promise(function(e,t){return Promise.resolve(this.defaultHeaders()).then(function(n){try{return e(fetch(this.url+"/users/v1/users/byID/me/confirm",{method:"POST",headers:n}))}catch(e){return t(e)}}.bind(this),t)}.bind(this))},t.defaultHeaders=function(){return new Promise(function(e,t){return Promise.resolve(this.auth.getAccessToken()).then((function(n){try{return e({"Content-Type":"application/json",Authorization:"Bearer "+n})}catch(e){return t(e)}}),t)}.bind(this))},e}(),Ig=$.set,wg=$.getterFor("Array Iterator"),Sg=xo(Array,"Array",(function(e,t){Ig(this,{type:"Array Iterator",target:m(e),index:0,kind:t})}),(function(){var e=wg(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");rt.Arguments=rt.Array,yu("keys"),yu("values"),yu("entries");var Cg=Qe("iterator"),Bg=Qe("toStringTag"),xg=Sg.values;for(var Fg in yi){var Rg=i[Fg],Lg=Rg&&Rg.prototype;if(Lg){if(Lg[Cg]!==xg)try{U(Lg,Cg,xg)}catch(e){Lg[Cg]=xg}if(Lg[Bg]||U(Lg,Bg,Fg),yi[Fg])for(var Ag in Sg)if(Lg[Ag]!==Sg[Ag])try{U(Lg,Ag,Sg[Ag])}catch(e){Lg[Ag]=Sg[Ag]}}}var Ug=Qe("iterator"),Eg=!o((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[Ug]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),kg=/[^\0-\u007E]/,Vg=/[.\u3002\uFF0E\uFF61]/g,Gg="Overflow: input needs wider integers to process",Hg=Math.floor,Zg=String.fromCharCode,Xg=function(e){return e+22+75*(e<26)},Tg=function(e,t,n){var r=0;for(e=n?Hg(e/700):e>>1,e+=Hg(e/t);e>455;r+=36)e=Hg(e/35);return Hg(r+36*e/(e+38))},Pg=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,o=128,a=0,s=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(Zg(n));var c=r.length,u=c;for(c&&r.push("-");u<i;){var l=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=o&&n<l&&(l=n);var d=u+1;if(l-o>Hg((2147483647-a)/d))throw RangeError(Gg);for(a+=(l-o)*d,o=l,t=0;t<e.length;t++){if((n=e[t])<o&&++a>2147483647)throw RangeError(Gg);if(n==o){for(var h=a,f=36;;f+=36){var p=f<=s?1:f>=s+26?26:f-s;if(h<p)break;var g=h-p,m=36-p;r.push(Zg(Xg(p+g%m))),h=Hg(g/m)}r.push(Zg(Xg(h))),s=Tg(a,d,u==c),a=0,++u}}++a,++o}return r.join("")},Og=function(e){var t=ut(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return R(t.call(e))},Qg=re("fetch"),Wg=re("Headers"),Ng=Qe("iterator"),jg=$.set,_g=$.getterFor("URLSearchParams"),Jg=$.getterFor("URLSearchParamsIterator"),Yg=/\+/g,Mg=Array(4),Dg=function(e){return Mg[e-1]||(Mg[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},Kg=function(e){try{return decodeURIComponent(e)}catch(t){return e}},qg=function(e){var t=e.replace(Yg," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(Dg(n--),Kg);return t}},zg=/[!'()~]|%20/g,$g={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},em=function(e){return $g[e]},tm=function(e){return encodeURIComponent(e).replace(zg,em)},nm=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:qg(r.shift()),value:qg(r.join("="))}))},rm=function(e){this.entries.length=0,nm(this.entries,e)},im=function(e,t){if(e<t)throw TypeError("Not enough arguments")},om=bo((function(e,t){jg(this,{type:"URLSearchParamsIterator",iterator:Og(_g(e).entries),kind:t})}),"Iterator",(function(){var e=Jg(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),am=function(){nt(this,am,"URLSearchParams");var e,t,n,r,i,o,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(jg(l,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:rm}),void 0!==u)if(v(u))if("function"==typeof(e=ut(u)))for(n=(t=e.call(u)).next;!(r=n.call(t)).done;){if((a=(o=(i=Og(R(r.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(c in u)I(u,c)&&d.push({key:c,value:u[c]+""});else nm(d,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},sm=am.prototype;De(sm,{append:function(e,t){im(arguments.length,2);var n=_g(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){im(arguments.length,1);for(var t=_g(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){im(arguments.length,1);for(var t=_g(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){im(arguments.length,1);for(var t=_g(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){im(arguments.length,1);for(var t=_g(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){im(arguments.length,1);for(var n,r=_g(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var e,t,n,r=_g(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===n&&i.push(e)}r.updateURL()},forEach:function(e){for(var t,n=_g(this).entries,r=st(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new om(this,"keys")},values:function(){return new om(this,"values")},entries:function(){return new om(this,"entries")}},{enumerable:!0}),ee(sm,Ng,sm.entries),ee(sm,"toString",(function(){for(var e,t=_g(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(tm(e.key)+"="+tm(e.value));return n.join("&")}),{enumerable:!0}),ze(am,"URLSearchParams"),Ue({global:!0,forced:!Eg},{URLSearchParams:am}),Eg||"function"!=typeof Qg||"function"!=typeof Wg||Ue({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r,i=[e];return arguments.length>1&&(v(t=arguments[1])&&(n=t.body,"URLSearchParams"===Je(n)&&((r=t.headers?new Wg(t.headers):new Wg).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=mo(t,{body:l(0,String(n)),headers:l(0,r)}))),i.push(t)),Qg.apply(this,i)}});var cm,um={URLSearchParams:am,getState:_g},lm=ci.codeAt,dm=i.URL,hm=um.URLSearchParams,fm=um.getState,pm=$.set,gm=$.getterFor("URL"),mm=Math.floor,vm=Math.pow,ym=/[A-Za-z]/,bm=/[\d+-.A-Za-z]/,Im=/\d/,wm=/^(0x|0X)/,Sm=/^[0-7]+$/,Cm=/^\d+$/,Bm=/^[\dA-Fa-f]+$/,xm=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Fm=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Rm=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Lm=/[\u0009\u000A\u000D]/g,Am=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=Em(t.slice(1,-1))))return"Invalid host";e.host=n}else if(Pm(e)){if(t=function(e){var t,n,r=[],i=e.toLowerCase().replace(Vg,".").split(".");for(t=0;t<i.length;t++)n=i[t],r.push(kg.test(n)?"xn--"+Pg(n):n);return r.join(".")}(t),xm.test(t))return"Invalid host";if(null===(n=Um(t)))return"Invalid host";e.host=n}else{if(Fm.test(t))return"Invalid host";for(n="",r=qi(t),i=0;i<r.length;i++)n+=Xm(r[i],Vm);e.host=n}},Um=function(e){var t,n,r,i,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=wm.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?Cm:8==o?Sm:Bm).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=vm(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*vm(256,3-r);return s},Em=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,h=function(){return e.charAt(d)};if(":"==h()){if(":"!=e.charAt(1))return;d+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(t=n=0;n<4&&Bm.test(h());)t=16*t+parseInt(h(),16),d++,n++;if("."==h()){if(0==n)return;if(d-=n,u>6)return;for(r=0;h();){if(i=null,r>0){if(!("."==h()&&r<4))return;d++}if(!Im.test(h()))return;for(;Im.test(h());){if(o=parseInt(h(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},km=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=mm(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},Vm={},Gm=He({},Vm,{" ":1,'"':1,"<":1,">":1,"`":1}),Hm=He({},Gm,{"#":1,"?":1,"{":1,"}":1}),Zm=He({},Hm,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Xm=function(e,t){var n=lm(e,0);return n>32&&n<127&&!I(t,e)?e:encodeURIComponent(e)},Tm={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Pm=function(e){return I(Tm,e.scheme)},Om=function(e){return""!=e.username||""!=e.password},Qm=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Wm=function(e,t){var n;return 2==e.length&&ym.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Nm=function(e){var t;return e.length>1&&Wm(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},jm=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Wm(t[0],!0)||t.pop()},_m=function(e){return"."===e||"%2e"===e.toLowerCase()},Jm={},Ym={},Mm={},Dm={},Km={},qm={},zm={},$m={},ev={},tv={},nv={},rv={},iv={},ov={},av={},sv={},cv={},uv={},lv={},dv={},hv={},fv=function(e,t,n,r){var i,o,a,s,c,u=n||Jm,l=0,d="",h=!1,f=!1,p=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Rm,"")),t=t.replace(Lm,""),i=qi(t);l<=i.length;){switch(o=i[l],u){case Jm:if(!o||!ym.test(o)){if(n)return"Invalid scheme";u=Mm;continue}d+=o.toLowerCase(),u=Ym;break;case Ym:if(o&&(bm.test(o)||"+"==o||"-"==o||"."==o))d+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";d="",u=Mm,l=0;continue}if(n&&(Pm(e)!=I(Tm,d)||"file"==d&&(Om(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=d,n)return void(Pm(e)&&Tm[e.scheme]==e.port&&(e.port=null));d="","file"==e.scheme?u=ov:Pm(e)&&r&&r.scheme==e.scheme?u=Dm:Pm(e)?u=$m:"/"==i[l+1]?(u=Km,l++):(e.cannotBeABaseURL=!0,e.path.push(""),u=lv)}break;case Mm:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,u=hv;break}u="file"==r.scheme?ov:qm;continue;case Dm:if("/"!=o||"/"!=i[l+1]){u=qm;continue}u=ev,l++;break;case Km:if("/"==o){u=tv;break}u=uv;continue;case qm:if(e.scheme=r.scheme,o==cm)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&Pm(e))u=zm;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",u=dv;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),u=uv;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=hv}break;case zm:if(!Pm(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,u=uv;continue}u=tv}else u=ev;break;case $m:if(u=ev,"/"!=o||"/"!=d.charAt(l+1))continue;l++;break;case ev:if("/"!=o&&"\\"!=o){u=tv;continue}break;case tv:if("@"==o){h&&(d="%40"+d),h=!0,a=qi(d);for(var g=0;g<a.length;g++){var m=a[g];if(":"!=m||p){var v=Xm(m,Zm);p?e.password+=v:e.username+=v}else p=!0}d=""}else if(o==cm||"/"==o||"?"==o||"#"==o||"\\"==o&&Pm(e)){if(h&&""==d)return"Invalid authority";l-=qi(d).length+1,d="",u=nv}else d+=o;break;case nv:case rv:if(n&&"file"==e.scheme){u=sv;continue}if(":"!=o||f){if(o==cm||"/"==o||"?"==o||"#"==o||"\\"==o&&Pm(e)){if(Pm(e)&&""==d)return"Invalid host";if(n&&""==d&&(Om(e)||null!==e.port))return;if(s=Am(e,d))return s;if(d="",u=cv,n)return;continue}"["==o?f=!0:"]"==o&&(f=!1),d+=o}else{if(""==d)return"Invalid host";if(s=Am(e,d))return s;if(d="",u=iv,n==rv)return}break;case iv:if(!Im.test(o)){if(o==cm||"/"==o||"?"==o||"#"==o||"\\"==o&&Pm(e)||n){if(""!=d){var y=parseInt(d,10);if(y>65535)return"Invalid port";e.port=Pm(e)&&y===Tm[e.scheme]?null:y,d=""}if(n)return;u=cv;continue}return"Invalid port"}d+=o;break;case ov:if(e.scheme="file","/"==o||"\\"==o)u=av;else{if(!r||"file"!=r.scheme){u=uv;continue}if(o==cm)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",u=dv;else{if("#"!=o){Nm(i.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),jm(e)),u=uv;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",u=hv}}break;case av:if("/"==o||"\\"==o){u=sv;break}r&&"file"==r.scheme&&!Nm(i.slice(l).join(""))&&(Wm(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),u=uv;continue;case sv:if(o==cm||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Wm(d))u=uv;else if(""==d){if(e.host="",n)return;u=cv}else{if(s=Am(e,d))return s;if("localhost"==e.host&&(e.host=""),n)return;d="",u=cv}continue}d+=o;break;case cv:if(Pm(e)){if(u=uv,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=cm&&(u=uv,"/"!=o))continue}else e.fragment="",u=hv;else e.query="",u=dv;break;case uv:if(o==cm||"/"==o||"\\"==o&&Pm(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=d).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(jm(e),"/"==o||"\\"==o&&Pm(e)||e.path.push("")):_m(d)?"/"==o||"\\"==o&&Pm(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Wm(d)&&(e.host&&(e.host=""),d=d.charAt(0)+":"),e.path.push(d)),d="","file"==e.scheme&&(o==cm||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",u=dv):"#"==o&&(e.fragment="",u=hv)}else d+=Xm(o,Hm);break;case lv:"?"==o?(e.query="",u=dv):"#"==o?(e.fragment="",u=hv):o!=cm&&(e.path[0]+=Xm(o,Vm));break;case dv:n||"#"!=o?o!=cm&&("'"==o&&Pm(e)?e.query+="%27":e.query+="#"==o?"%23":Xm(o,Vm)):(e.fragment="",u=hv);break;case hv:o!=cm&&(e.fragment+=Xm(o,Gm))}l++}},pv=function(e){var t,n,r=nt(this,pv,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),s=pm(r,{type:"URL"});if(void 0!==i)if(i instanceof pv)t=gm(i);else if(n=fv(t={},String(i)))throw TypeError(n);if(n=fv(s,o,null,t))throw TypeError(n);var c=s.searchParams=new hm,u=fm(c);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(c)||null},a||(r.href=mv.call(r),r.origin=vv.call(r),r.protocol=yv.call(r),r.username=bv.call(r),r.password=Iv.call(r),r.host=wv.call(r),r.hostname=Sv.call(r),r.port=Cv.call(r),r.pathname=Bv.call(r),r.search=xv.call(r),r.searchParams=Fv.call(r),r.hash=Rv.call(r))},gv=pv.prototype,mv=function(){var e=gm(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",Om(e)&&(u+=n+(r?":"+r:"")+"@"),u+=km(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},vv=function(){var e=gm(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Pm(e)?t+"://"+km(e.host)+(null!==n?":"+n:""):"null"},yv=function(){return gm(this).scheme+":"},bv=function(){return gm(this).username},Iv=function(){return gm(this).password},wv=function(){var e=gm(this),t=e.host,n=e.port;return null===t?"":null===n?km(t):km(t)+":"+n},Sv=function(){var e=gm(this).host;return null===e?"":km(e)},Cv=function(){var e=gm(this).port;return null===e?"":String(e)},Bv=function(){var e=gm(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},xv=function(){var e=gm(this).query;return e?"?"+e:""},Fv=function(){return gm(this).searchParams},Rv=function(){var e=gm(this).fragment;return e?"#"+e:""},Lv=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&lo(gv,{href:Lv(mv,(function(e){var t=gm(this),n=String(e),r=fv(t,n);if(r)throw TypeError(r);fm(t.searchParams).updateSearchParams(t.query)})),origin:Lv(vv),protocol:Lv(yv,(function(e){var t=gm(this);fv(t,String(e)+":",Jm)})),username:Lv(bv,(function(e){var t=gm(this),n=qi(String(e));if(!Qm(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Xm(n[r],Zm)}})),password:Lv(Iv,(function(e){var t=gm(this),n=qi(String(e));if(!Qm(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Xm(n[r],Zm)}})),host:Lv(wv,(function(e){var t=gm(this);t.cannotBeABaseURL||fv(t,String(e),nv)})),hostname:Lv(Sv,(function(e){var t=gm(this);t.cannotBeABaseURL||fv(t,String(e),rv)})),port:Lv(Cv,(function(e){var t=gm(this);Qm(t)||(""==(e=String(e))?t.port=null:fv(t,e,iv))})),pathname:Lv(Bv,(function(e){var t=gm(this);t.cannotBeABaseURL||(t.path=[],fv(t,e+"",cv))})),search:Lv(xv,(function(e){var t=gm(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",fv(t,e,dv)),fm(t.searchParams).updateSearchParams(t.query)})),searchParams:Lv(Fv),hash:Lv(Rv,(function(e){var t=gm(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",fv(t,e,hv)):t.fragment=null}))}),ee(gv,"toJSON",(function(){return mv.call(this)}),{enumerable:!0}),ee(gv,"toString",(function(){return mv.call(this)}),{enumerable:!0}),dm){var Av=dm.createObjectURL,Uv=dm.revokeObjectURL;Av&&ee(pv,"createObjectURL",(function(e){return Av.apply(dm,arguments)})),Uv&&ee(pv,"revokeObjectURL",(function(e){return Uv.apply(dm,arguments)}))}ze(pv,"URL"),Ue({global:!0,forced:!Eg,sham:!a},{URL:pv});function Ev(){return document.head||document.getElementsByTagName("head")[0]}function kv(e,t){if(null!==e){['link[rel="shortcut icon"]','link[rel="icon"]','link[rel="manifest"]','meta[name="mobile-web-app-capable"]','meta[name="theme-color"]','meta[name="application-name"]','link[rel="apple-touch-icon"]','meta[name="apple-mobile-web-app-capable"]','meta[name="apple-mobile-web-app-status-bar-style"]','meta[name="apple-mobile-web-app-title"]','link[rel="apple-touch-startup-image"]','meta[name="msapplication-TileColor"]','meta[name="msapplication-TileImage"]','meta[name="msapplication-config"]','link[rel="yandex-tableau-widget"]'].forEach((function(e){Ev().querySelectorAll(e).forEach((function(e){Ev().removeChild(e)}))})),Ev().insertAdjacentHTML("beforeend",function(e){return'\n  <link rel="shortcut icon" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/favicon.ico">\n  <link rel="icon" type="image/png" sizes="16x16" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/favicon-16x16.png">\n  <link rel="icon" type="image/png" sizes="32x32" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/favicon-32x32.png">\n  <link rel="icon" type="image/png" sizes="48x48" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/favicon-48x48.png">\n  <link rel="manifest" id="ino-manifest-placeholder">\n  <meta name="mobile-web-app-capable" content="yes">\n  <meta name="theme-color" content="#fff">\n  <meta name="application-name">\n  <link rel="apple-touch-icon" sizes="57x57" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-57x57.png">\n  <link rel="apple-touch-icon" sizes="60x60" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-60x60.png">\n  <link rel="apple-touch-icon" sizes="72x72" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-72x72.png">\n  <link rel="apple-touch-icon" sizes="76x76" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-76x76.png">\n  <link rel="apple-touch-icon" sizes="114x114" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-114x114.png">\n  <link rel="apple-touch-icon" sizes="120x120" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-120x120.png">\n  <link rel="apple-touch-icon" sizes="144x144" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-144x144.png">\n  <link rel="apple-touch-icon" sizes="152x152" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-152x152.png">\n  <link rel="apple-touch-icon" sizes="167x167" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-167x167.png">\n  <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-180x180.png">\n  <link rel="apple-touch-icon" sizes="1024x1024" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-icon-1024x1024.png">\n  <meta name="apple-mobile-web-app-capable" content="yes">\n  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">\n  <meta name="apple-mobile-web-app-title">\n  <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"    href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-640x1136.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"    href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-750x1334.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"    href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-828x1792.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"    href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1125x2436.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"    href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1242x2208.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"    href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1242x2688.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1536x2048.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1668x2224.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1668x2388.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"  href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2048x2732.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"  href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1620x2160.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1136x640.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1334x750.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-1792x828.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2436x1125.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2208x1242.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"   href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2688x1242.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"  href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2048x1536.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"  href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2224x1668.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"  href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2388x1668.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2732x2048.png">\n  <link rel="apple-touch-startup-image" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"  href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/apple-touch-startup-image-2160x1620.png">\n  <link rel="icon" type="image/png" sizes="228x228" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/coast-228x228.png">\n  <meta name="msapplication-TileColor" content="#fff">\n  <meta name="msapplication-TileImage" content="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/mstile-144x144.png">\n  <meta name="msapplication-config" content="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/browserconfig.xml">\n  <link rel="yandex-tableau-widget" href="https://cdn.arduino.cc/header-footer/prod/assets/favicon-'+e+'/yandex-browser-manifest.json">\n  '}(e||"arduino"));try{!function(e,t){void 0===t&&(t={});var n=Object.assign({name:"Arduino Web",short_name:"Arduino Web",description:null,dir:"auto",lang:"en-US",display:"standalone",orientation:"any",start_url:""+window.location.origin,background_color:"#fff",theme_color:"#00979d"},t,{icons:[{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-36x36.png",sizes:"36x36",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-48x48.png",sizes:"48x48",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-72x72.png",sizes:"72x72",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-96x96.png",sizes:"96x96",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-144x144.png",sizes:"144x144",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-192x192.png",sizes:"192x192",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-256x256.png",sizes:"256x256",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-384x384.png",sizes:"384x384",type:"image/png"},{src:"https://cdn.arduino.cc/header-footer/prod/assets/favicon-"+e+"/android-chrome-512x512.png",sizes:"512x512",type:"image/png"}]}),r=JSON.stringify(n),i=new Blob([r],{type:"application/json"}),o=URL.createObjectURL(i),a=document.querySelector("#ino-manifest-placeholder");a?a.setAttribute("href",o):window.arduinoHFDebug&&console.error("Can't find manifest element")}(e,t)}catch(e){console.log("Failed to insert manifest: ",e)}}}function Vv(){var e,t="en",n='<div id="iubenda-cs-title">We use cookies &#127850;</div><div>Our websites use cookies (also from third parties) for functional and analytical purposes, and to show you personalised advertisement. You can adjust this in <a class="iubenda-cs-customize-btn">Cookie Settings</a> or learn more by reading our %{cookie_policy_link}.</div>';return"it-IT"===(null==(e=navigator)?void 0:e.language)&&(t="it",n='<div id="iubenda-cs-title">Usiamo i cookies &#127850;</div><div>I nostri siti usano cookie (anche di terze parti) per fini funzionali e di analisi, e per mostrare contenuti pubblicitari personalizzati. Puoi regolare queste impostazioni nelle <a class="iubenda-cs-customize-btn">Impostazioni di tracciamento</a> o saperne di pi&ugrave; leggendo la %{cookie_policy_link}.</div>'),window._iub=window._iub||[],window._iub.csConfiguration={askConsentAtCookiePolicyUpdate:!0,ccpaAcknowledgeOnDisplay:!1,ccpaApplies:!1,ccpaNoticeDisplay:!1,consentOnContinuedBrowsing:!1,cookiePolicyId:11225532,countryDetection:!0,enableCcpa:!1,floatingPreferencesButtonDisplay:!1,lang:t,perPurposeConsent:!0,purposes:"1, 4, 5",siteId:2023027,whitelabel:!0,cookiePolicyUrl:"https://www.arduino.cc/"+t+"/cookie-policy",banner:{applyStyles:!1,content:n,rejectButtonDisplay:!0,rejectButtonCaption:"en"===t?"ONLY REQUIRED":"SOLO NECESSARI",position:"float-bottom-left",acceptButtonDisplay:!0,acceptButtonCaption:"en"===t?"ACCEPT ALL":"ACCETTA TUTTI",backgroundOverlay:!1,brandBackgroundColor:"black"},callback:{onPreferenceExpressedOrNotNeeded:function(e){var t=window.dataLayer||[];if(t.push({iubenda_ccpa_opted_out:window._iub.cs.api.isCcpaOptedOut()}),e){if(!0===e.consent)t.push({event:"iubenda_consent_given"});else if(!1===e.consent)t.push({event:"iubenda_consent_rejected"});else if(e.purposes)for(var n in e.purposes)e.purposes[n]&&t.push({event:"iubenda_consent_given_purpose_"+n})}else t.push({event:"iubenda_preference_not_needed"})}}},Qi("//cdn.arduino.cc/header-footer/iubenda-7477c61df49044b49eabbd94edfbd933.js",{async:!0})}var Gv=A.f,Hv=ye.f,Zv=$.set,Xv=Qe("match"),Tv=i.RegExp,Pv=Tv.prototype,Ov=/a/g,Qv=/a/g,Wv=new Tv(Ov)!==Ov,Nv=Jr.UNSUPPORTED_Y;if(a&&Le("RegExp",!Wv||Nv||o((function(){return Qv[Xv]=!1,Tv(Ov)!=Ov||Tv(Qv)==Qv||"/a/i"!=Tv(Ov,"i")})))){for(var jv=function(e,t){var n,r=this instanceof jv,i=hl(e),o=void 0===t;if(!r&&i&&e.constructor===jv&&o)return e;Wv?i&&!o&&(e=e.source):e instanceof jv&&(o&&(t=jr.call(e)),e=e.source),Nv&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a,s,c,u,l,d=(a=Wv?new Tv(e,t):Tv(e,t),s=r?this:Pv,c=jv,Io&&"function"==typeof(u=s.constructor)&&u!==c&&v(l=u.prototype)&&l!==c.prototype&&Io(a,l),a);return Nv&&n&&Zv(d,{sticky:n}),d},_v=function(e){e in jv||Gv(jv,e,{configurable:!0,get:function(){return Tv[e]},set:function(t){Tv[e]=t}})},Jv=Hv(Tv),Yv=0;Jv.length>Yv;)_v(Jv[Yv++]);Pv.constructor=jv,jv.prototype=Pv,ee(i,"RegExp",jv)}et("RegExp");n((function(e){!function(t,n){var r,i,o=new RegExp("--inject-\\d+","g"),a=["src","alt","onload","onerror"],s=n.createElement("a"),c="undefined"!=typeof SVGRect,u={useCache:!1,copyAttributes:!0,makeIdsUnique:!1},l={clipPath:["clip-path"],"color-profile":null,cursor:null,filter:null,linearGradient:["fill","stroke"],marker:["marker","marker-end","marker-mid","marker-start"],mask:null,pattern:["fill","stroke"],radialGradient:["fill","stroke"]},d=1;function h(e){return(r=r||new XMLSerializer).serializeToString(e)}function f(e,t){var n,r,i,o,a="--inject-"+d++,s=/url\("?#([a-zA-Z][\w:.-]*)"?\)/g,c=e.querySelectorAll("[id]"),u=t?[]:null,h={},f=[],p=!1;return c.length&&function(){for(i=0;i<c.length;i++)(r=c[i].localName)in l&&(h[r]=1);for(r in h)(l[r]||[r]).forEach((function(e){f.includes(e)||f.push(e)}));f.length&&f.push("style");var t,d,g,m=e.getElementsByTagName("*"),v=e;for(i=-1;null!=v;){if("style"==v.localName)(g=(d=v.textContent)&&d.replace(s,(function(e,t){return u&&(u[t]=1),"url(#"+t+a+")"})))!==d&&(v.textContent=g);else if(v.hasAttributes()){for(o=0;o<f.length;o++)t=f[o],(g=(d=v.getAttribute(t))&&d.replace(s,(function(e,t){return u&&(u[t]=1),"url(#"+t+a+")"})))!==d&&v.setAttribute(t,g);["xlink:href","href"].forEach((function(e){var t=v.getAttribute(e);/^\s*#/.test(t)&&(t=t.trim(),v.setAttribute(e,t+a),u&&(u[t.substring(1)]=1))}))}v=m[++i]}for(i=0;i<c.length;i++)n=c[i],u&&!u[n.id]||(n.id+=a,p=!0)}(),p}function p(e,t,r,i){if(t){t.setAttribute("data-inject-url",r);var o=e.parentNode;if(o){i.copyAttributes&&function(e,t){for(var r,i,o,s=e.attributes,c=0;c<s.length;c++)if(i=(r=s[c]).name,!a.includes(i))if(o=r.value,"title"==i){var u=void 0,l=t.firstElementChild;l&&"title"==l.localName.toLowerCase()?u=l:(u=n.createElementNS("http://www.w3.org/2000/svg","title"),t.insertBefore(u,l)),u.textContent=o}else t.setAttribute(i,o)}(e,t);var s=i.beforeInject,c=s&&s(e,t)||t;o.replaceChild(c,e),e.__svgInject=1,v(e);var u=i.afterInject;u&&u(e,c)}}else I(e,i)}function g(){for(var e={},t=arguments,n=0;n<t.length;n++){var r=t[n];for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}function m(e,t){if(t){var r;try{r=function(e){return(i=i||new DOMParser).parseFromString(e,"text/xml")}(e)}catch(e){return null}return r.getElementsByTagName("parsererror").length?null:r.documentElement}var o=n.createElement("div");return o.innerHTML=e,o.firstElementChild}function v(e){e.removeAttribute("onload")}function y(e){console.error("SVGInject: "+e)}function b(e,t,n){e.__svgInject=2,n.onFail?n.onFail(e,t):y(t)}function I(e,t){v(e),b(e,"SVG_INVALID",t)}function w(e,t){v(e),b(e,"SVG_NOT_SUPPORTED",t)}function S(e,t){b(e,"LOAD_FAIL",t)}function C(e){e.onload=null,e.onerror=null}function B(e){y("no img element")}var x=function e(r,i){var a=g(u,i),l={};function y(e,t){t=g(a,t);var n=function(n){var r=function(){var e=t.onAllFinish;e&&e(),n&&n()};if(e&&void 0!==e.length){var i=0,o=e.length;if(0==o)r();else for(var a=function(){++i==o&&r()},s=0;s<o;s++)b(e[s],t,a)}else b(e,t,r)};return"undefined"==typeof Promise?n():new Promise(n)}function b(e,t,n){if(e){var r=e.__svgInject;if(r)Array.isArray(r)?r.push(n):n();else{if(C(e),!c)return w(e,t),void n();var i=t.beforeLoad,a=i&&i(e)||e.getAttribute("src");if(!a)return""===a&&S(e,t),void n();var u=[];e.__svgInject=u;var g=function(){n(),u.forEach((function(e){e()}))},v=(L=a,s.href=L,s.href),y=t.useCache,b=t.makeIdsUnique,x=function(e){y&&(l[v].forEach((function(t){t(e)})),l[v]=e)};if(y){var F,R=function(n){if("LOAD_FAIL"===n)S(e,t);else if("SVG_INVALID"===n)I(e,t);else{var r,i=n[0],a=n[1],s=n[2];b&&(null===i?(i=f(r=m(a,!1),!1),n[0]=i,n[2]=i&&h(r)):i&&(a=function(e){return e.replace(o,"--inject-"+d++)}(s))),r=r||m(a,!1),p(e,r,v,t)}g()};if(void 0!==(F=l[v]))return void(F.isCallbackQueue?F.push(R):R(F));(F=[]).isCallbackQueue=!0,l[v]=F}!function(e,t,n){e&&fetch(e,{method:"GET",mode:"cors",cache:"no-cache",headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){if(200<=e.status&&e.status<=201)return e.text();throw new Error("Getting status: "+e.status)})).then((function(e){t(e.trim())})).catch((function(e){console.log("Error",e),n()}))}(v,(function(n){var r=m(n,!0),i=t.afterLoad;if(i){var o=i(r,n)||r;if(o){var a="string"==typeof o;n=a?o:h(r),r=a?m(o,!0):o}}if(r instanceof SVGElement){var s=null;if(b&&(s=f(r,!1)),y){var c=s&&h(r);x([s,n,c])}p(e,r,v,t)}else I(e,t),x("SVG_INVALID");g()}),(function(){S(e,t),x("LOAD_FAIL"),g()}))}}else B();var L}return c&&function(e){var t=n.getElementsByTagName("head")[0];if(t){var r=n.createElement("style");r.type="text/css",r.appendChild(n.createTextNode(e)),t.appendChild(r)}}('img[onload^="'+r+'("]{visibility:hidden;}'),y.setOptions=function(e){a=g(a,e)},y.create=e,y.err=function(e,t){e?2!=e.__svgInject&&(C(e),c?(v(e),S(e,a)):w(e,a),t&&(v(e),e.src=t)):B()},t[r]=y,y}("SVGInject");e.exports=x}(window,document)}));!function(e){var t=e.Element.prototype;"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=0;t[n]&&t[n]!==this;)++n;return Boolean(t[n])}),"function"!=typeof t.closest&&(t.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})}(window);var Mv=!1,Dv=function(){function e(e,t,n){this.auth=t,this.opts=n||{},this.api=new bg(this.opts.env,this.auth),this.initPromise=this.init(e)}var t=e.prototype;return t.init=function(e){return new Promise(function(t,n){var r,i,o,a,s;if(this.initPromise)return t(this.initPromise);if(Mv||(document.body.insertAdjacentHTML("afterbegin",'<div style="display: none;"><img src="https://cdn.arduino.cc/header-footer/prod/assets/sprites.svg" onload="SVGInject(this)" style="display: none;"></img></div>'),Mv=!0),this.setupFavicon(),pr.ios()?Zo().insertAdjacentHTML("beforeend",'<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0,viewport-fit=cover"/>'):Zo().insertAdjacentHTML("beforeend",'<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">'),this.opts.style&&document.querySelector("body").classList.add("header-"+this.opts.style),e)switch(this.opts.style){case"create":this.header=new ji(e,this.auth,this.api,this.opts);break;case"arduino":this.header=new Zu(e,this.auth,this.api,Object.assign({search:{placeholder:"Search on Arduino.cc"}},this.opts));break;case"pro":this.header=new Zu(e,this.auth,this.api,Object.assign({theme:"dark",search:{placeholder:"Search on Arduino.cc"}},this.opts));break;case"store":this.header=new Zu(e,this.auth,this.api,Object.assign({search:{tab:"store",placeholder:"Search on Arduino Store"},apps:[],showCart:!0,showWishlist:!0,showGeolocation:!0},this.opts));break;case"education":this.header=new Zu(e,this.auth,this.api,Object.assign({theme:"white",menu:[],search:{placeholder:"Search on Arduino Education"},apps:["web-editor","iot-cloud","device-manager","digital-store"],logo:{type:"education",url:"https://www.arduino.cc/education"}},this.opts));break;case"platform":this.header=new al(e,this.auth,this.api,Object.assign({logo:{type:"education"},theme:"white"},this.opts));break;case"main":this.header=new Zu(e,this.auth,this.api,this.opts);break;default:this.header=new Oi(e,this.auth,this.api,this.opts)}return Promise.resolve(this.auth.handleAuthentication()).then(function(e){try{return i=(r=e).previousState,(o=r.previousHref)&&!i&&o!==window.location.href?(window.location.href=o,t()):Promise.resolve(this.auth.isAuthenticated()).then(function(e){try{if(a=e){var r=function(){try{return u.call(this)}catch(e){return n(e)}}.bind(this),c=function(e){try{return a=!1,r()}catch(e){return n(e)}};try{return Promise.resolve(this.auth.getAccessToken()).then((function(e){try{return r()}catch(e){return c()}}),c)}catch(e){c()}}function u(){return s={approvals:{},isAuthenticated:a,previousState:i,previousHref:o},Promise.resolve(this.auth.getProfile()).then(function(e){try{if(s.approvals=(e||{})["http://arduino.cc/consent"]||{},this.header)return Promise.resolve(this.header.renderProfile(this.opts)).then(function(e){try{return r.call(this)}catch(e){return n(e)}}.bind(this),n);function r(){return Vv(),t(s)}return r.call(this)}catch(e){return n(e)}}.bind(this),n)}return u.call(this)}catch(e){return n(e)}}.bind(this),n)}catch(e){return n(e)}}.bind(this),n)}.bind(this))},t.setupFavicon=function(){var e=this.opts,t=e.favicon,n=e.manifest,r=void 0===n?{}:n;if(null!==t)if(void 0!==t)kv(t,r);else{var i="arduino";switch(this.opts.style){case"store":i="store";break;case"education":case"platform":i="education";break;case"arduino":case"main":i="arduino";break;case"create":default:i=null}kv(i,r)}else kv(t,r)},t.renderMenu=function(e){this.header&&"function"==typeof this.header.renderMenu&&this.header.renderMenu(e)},t.renderMenuButtons=function(e){this.header&&"function"==typeof this.header.renderMenu&&this.header.renderMenuButtons(e)},t.setHistory=function(e,t){void 0===t&&(t={}),this.header&&"function"==typeof this.header.setHistory&&this.header.setHistory(e,t)},t.setLocation=function(e){this.header&&"function"==typeof this.header.setLocation&&this.header.setLocation(e)},t.setActiveLink=function(e){this.header&&"function"==typeof this.header.setActiveLink&&this.header.setActiveLink(e)},t.closeMenu=function(){this.header&&"function"==typeof this.header.closeMenu&&this.header.closeMenu()},e}(),Kv=function(){function e(e,t){this.opts=t||{},Mv||(document.body.insertAdjacentHTML("afterbegin",'<img src="https://cdn.arduino.cc/header-footer/prod/assets/sprites.svg" onload="SVGInject(this)" style="display: none;"></img>'),Mv=!0);var n=new bg(t.env);switch(t.style){case"arduino":this.footer=new ol(e,this.auth,n,this.opts);break;case"store":this.footer=new ol(e,this.auth,n,Object.assign({payments:!0,region:!0,helpCenter:{blank:!0}},this.opts));break;case"education":this.footer=new ol(e,this.auth,n,Object.assign({template:"education",theme:"white",newsletterTag:"edu-newsletter"},this.opts));break;case"platform":this.footer=new ol(e,this.auth,n,Object.assign({template:"platform",theme:"white"},this.opts));break;default:this.footer=new Di(e,this.auth,n)}}var t=e.prototype;return t.setContactUs=function(e){this.footer&&"function"==typeof this.footer.setContactUs&&this.footer.setContactUs(e)},t.renderMenu=function(e,t){this.footer&&"function"==typeof this.footer.renderMenu&&this.footer.renderMenu(e,t)},t.rebuildLanguage=function(e){this.footer&&"function"==typeof this.footer.rebuildLanguage&&this.footer.rebuildLanguage(e)},e}(),qv={branch:"master",buildNumber:"2242",buildTimestamp:"1611050556",commit:"c149d6e4b2a6e191eb0aa8a16d6f1a8357c15312",env:"prod"};return e.Auth0=vg,e.CustomAuth=yg,e.Footer=Kv,e.Header=Dv,e.initCookieConsent=Vv,e.setFavicon=kv,e.version=qv,e}({});
